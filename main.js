"use strict";(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[179],{7948:(kt,qe,G)=>{var p={};G.r(p),G.d(p,{FirebaseError:()=>Di,SDK_VERSION:()=>Ea,_DEFAULT_ENTRY_NAME:()=>Al,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>dh,_apps:()=>ba,_clearComponents:()=>UE,_components:()=>es,_getProvider:()=>hh,_isFirebaseApp:()=>fh,_isFirebaseServerApp:()=>Nr,_registerComponent:()=>Ga,_removeServiceInstance:()=>hm,_serverApps:()=>dc,deleteApp:()=>wu,getApp:()=>ti,getApps:()=>za,initializeApp:()=>ph,initializeServerApp:()=>Sl,onLog:()=>Wa,registerVersion:()=>js,setLogLevel:()=>dp});var Z=G(1481),H=G(4650),be=G(7340);function De(r){return new H.vHH(3e3,!1)}function sr(){return typeof window<"u"&&typeof window.document<"u"}function Qt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function si(r){switch(r.length){case 0:return new be.ZN;case 1:return r[0];default:return new be.ZE(r)}}function Yi(r,e,t,n,o=new Map,l=new Map){const d=[],g=[];let v=-1,I=null;if(n.forEach(F=>{const L=F.get("offset"),Q=L==v,ue=Q&&I||new Map;F.forEach((ye,Be)=>{let Ke=Be,vt=ye;if("offset"!==Be)switch(Ke=e.normalizePropertyName(Ke,d),vt){case be.k1:vt=o.get(Be);break;case be.l3:vt=l.get(Be);break;default:vt=e.normalizeStyleValue(Be,Ke,vt,d)}ue.set(Ke,vt)}),Q||g.push(ue),I=ue,v=L}),d.length)throw function Qe(r){return new H.vHH(3502,!1)}();return g}function Dr(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&ms(t,"start",r)));break;case"done":r.onDone(()=>n(t&&ms(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&ms(t,"destroy",r)))}}function ms(r,e,t){const l=ki(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,t.totalTime??r.totalTime,!!t.disabled),d=r._data;return null!=d&&(l._data=d),l}function ki(r,e,t,n,o="",l=0,d){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:o,totalTime:l,disabled:!!d}}function un(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function or(r){const e=r.indexOf(":");return[r.substring(1,e),r.slice(e+1)]}let br=(r,e)=>!1,Tr=(r,e,t)=>[],Pt=null;function xn(r){const e=r.parentNode||r.host;return e===Pt?null:e}(Qt()||typeof Element<"u")&&(sr()?(Pt=(()=>document.documentElement)(),br=(r,e)=>{for(;e;){if(e===r)return!0;e=xn(e)}return!1}):br=(r,e)=>r.contains(e),Tr=(r,e,t)=>{if(t)return Array.from(r.querySelectorAll(e));const n=r.querySelector(e);return n?[n]:[]});let Ai=null,xa=!1;const re=br,He=Tr;let Gt=(()=>{class r{validateStyleProperty(t){return function kr(r){Ai||(Ai=function ce(){return typeof document<"u"?document.body:null}()||{},xa=!!Ai.style&&"WebkitAppearance"in Ai.style);let e=!0;return Ai.style&&!function qn(r){return"ebkit"==r.substring(1,6)}(r)&&(e=r in Ai.style,!e&&xa&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ai.style)),e}(t)}matchesElement(t,n){return!1}containsElement(t,n){return re(t,n)}getParentElement(t){return xn(t)}query(t,n,o){return He(t,n,o)}computeStyle(t,n,o){return o||""}animate(t,n,o,l,d,g=[],v){return new be.ZN(o,l)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})(),Xt=(()=>{class r{}return r.NOOP=new Gt,r})();const kn="ng-enter",wr="ng-leave",hn="ng-trigger",en=".ng-trigger",mn="ng-animating",ar=".ng-animating";function lr(r){if("number"==typeof r)return r;const e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Un(parseFloat(e[1]),e[2])}function Un(r,e){return"s"===e?1e3*r:r}function $r(r,e,t){return r.hasOwnProperty("duration")?r:function oi(r,e,t){let o,l=0,d="";if("string"==typeof r){const g=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(De()),{duration:0,delay:0,easing:""};o=Un(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(l=Un(parseFloat(v),g[4]));const I=g[5];I&&(d=I)}else o=r;if(!t){let g=!1,v=e.length;o<0&&(e.push(function Ie(){return new H.vHH(3100,!1)}()),g=!0),l<0&&(e.push(function xe(){return new H.vHH(3101,!1)}()),g=!0),g&&e.splice(v,0,De())}return{duration:o,delay:l,easing:d}}(r,e,t)}function ur(r,e={}){return Object.keys(r).forEach(t=>{e[t]=r[t]}),e}function Fi(r){const e=new Map;return Object.keys(r).forEach(t=>{e.set(t,r[t])}),e}function li(r,e=new Map,t){if(t)for(let[n,o]of t)e.set(n,o);for(let[n,o]of r)e.set(n,o);return e}function Tn(r,e,t){return t?e+":"+t+";":""}function Fr(r){let e="";for(let t=0;t<r.style.length;t++){const n=r.style.item(t);e+=Tn(0,n,r.style.getPropertyValue(n))}for(const t in r.style)r.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Tn(0,zt(t),r.style[t]));r.setAttribute("style",e)}function wn(r,e,t){r.style&&(e.forEach((n,o)=>{const l=Mt(o);t&&!t.has(o)&&t.set(o,r.style[l]),r.style[l]=n}),Qt()&&Fr(r))}function Ir(r,e){r.style&&(e.forEach((t,n)=>{const o=Mt(n);r.style[o]=""}),Qt()&&Fr(r))}function zn(r){return Array.isArray(r)?1==r.length?r[0]:(0,be.vP)(r):r}const ae=new RegExp("{{\\s*(.+?)\\s*}}","g");function se(r){let e=[];if("string"==typeof r){let t;for(;t=ae.exec(r);)e.push(t[1]);ae.lastIndex=0}return e}function te(r,e,t){const n=r.toString(),o=n.replace(ae,(l,d)=>{let g=e[d];return null==g&&(t.push(function We(r){return new H.vHH(3003,!1)}()),g=""),g.toString()});return o==n?r:o}function Se(r){const e=[];let t=r.next();for(;!t.done;)e.push(t.value),t=r.next();return e}const tt=/-+([a-z0-9])/g;function Mt(r){return r.replace(tt,(...e)=>e[1].toUpperCase())}function zt(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function cr(r,e,t){switch(e.type){case 7:return r.visitTrigger(e,t);case 0:return r.visitState(e,t);case 1:return r.visitTransition(e,t);case 2:return r.visitSequence(e,t);case 3:return r.visitGroup(e,t);case 4:return r.visitAnimate(e,t);case 5:return r.visitKeyframes(e,t);case 6:return r.visitStyle(e,t);case 8:return r.visitReference(e,t);case 9:return r.visitAnimateChild(e,t);case 10:return r.visitAnimateRef(e,t);case 11:return r.visitQuery(e,t);case 12:return r.visitStagger(e,t);default:throw function Fe(r){return new H.vHH(3004,!1)}()}}function rn(r,e){return window.getComputedStyle(r)[e]}function uo(r,e){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function ol(r,e,t){if(":"==r[0]){const v=function Wn(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function lt(r){return new H.vHH(3016,!1)}()),"* => *"}}(r,t);if("function"==typeof v)return void e.push(v);r=v}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function at(r){return new H.vHH(3015,!1)}()),e;const o=n[1],l=n[2],d=n[3];e.push(is(o,d));"<"==l[0]&&!("*"==o&&"*"==d)&&e.push(is(d,o))}(n,t,e)):t.push(r),t}const ka=new Set(["true","1"]),ys=new Set(["false","0"]);function is(r,e){const t=ka.has(r)||ys.has(r),n=ka.has(e)||ys.has(e);return(o,l)=>{let d="*"==r||r==o,g="*"==e||e==l;return!d&&t&&"boolean"==typeof o&&(d=o?ka.has(r):ys.has(r)),!g&&n&&"boolean"==typeof l&&(g=l?ka.has(e):ys.has(e)),d&&g}}const ss=new RegExp("s*:selfs*,?","g");function bs(r,e,t,n){return new zr(r).build(e,t,n)}class zr{constructor(e){this._driver=e}build(e,t,n){const o=new Sr(t);return this._resetContextStyleTimingState(o),cr(this,zn(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,o=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Dt(){return new H.vHH(3006,!1)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const v=g,I=v.name;I.toString().split(/\s*,\s*/).forEach(F=>{v.name=F,l.push(this.visitState(v,t))}),v.name=I}else if(1==g.type){const v=this.visitTransition(g,t);n+=v.queryCount,o+=v.depCount,d.push(v)}else t.errors.push(function ut(){return new H.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:n,depCount:o,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(n.containsDynamicStyles){const l=new Set,d=o||{};n.styles.forEach(g=>{g instanceof Map&&g.forEach(v=>{se(v).forEach(I=>{d.hasOwnProperty(I)||l.add(I)})})}),l.size&&(Se(l.values()),t.errors.push(function Ae(r,e){return new H.vHH(3008,!1)}()))}return{type:0,name:e.name,style:n,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=cr(this,zn(e.animation),t);return{type:1,matchers:uo(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ds(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>cr(this,n,t)),options:Ds(e.options)}}visitGroup(e,t){const n=t.currentTime;let o=0;const l=e.steps.map(d=>{t.currentTime=n;const g=cr(this,d,t);return o=Math.max(o,t.currentTime),g});return t.currentTime=o,{type:3,steps:l,options:Ds(e.options)}}visitAnimate(e,t){const n=function co(r,e){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Bi($r(r,e).duration,0,"");const t=r;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Bi(0,0,"");return l.dynamic=!0,l.strValue=t,l}const o=$r(t,e);return Bi(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let o,l=e.styles?e.styles:(0,be.oB)({});if(5==l.type)o=this.visitKeyframes(l,t);else{let d=e.styles,g=!1;if(!d){g=!0;const I={};n.easing&&(I.easing=n.easing),d=(0,be.oB)(I)}t.currentTime+=n.duration+n.delay;const v=this.visitStyle(d,t);v.isEmptyStep=g,o=v}return t.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let g of o)"string"==typeof g?g===be.l3?n.push(g):t.errors.push(new H.vHH(3002,!1)):n.push(Fi(g));let l=!1,d=null;return n.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(d=g.get("easing"),g.delete("easing")),!l))for(let v of g.values())if(v.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:n,easing:d,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;n&&l>0&&(l-=n.duration+n.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((g,v)=>{const I=t.collectedStyles.get(t.currentQuerySelector),F=I.get(v);let L=!0;F&&(l!=o&&l>=F.startTime&&o<=F.endTime&&(t.errors.push(function mt(r,e,t,n,o){return new H.vHH(3010,!1)}()),L=!1),l=F.startTime),L&&I.set(v,{startTime:l,endTime:o}),t.options&&function Gr(r,e,t){const n=e.params||{},o=se(r);o.length&&o.forEach(l=>{n.hasOwnProperty(l)||t.push(function Ge(r){return new H.vHH(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pn(){return new H.vHH(3011,!1)}()),n;let l=0;const d=[];let g=!1,v=!1,I=0;const F=e.steps.map(vt=>{const Ct=this._makeStyleAst(vt,t);let It=null!=Ct.offset?Ct.offset:function Es(r){if("string"==typeof r)return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ct.styles),$t=0;return null!=It&&(l++,$t=Ct.offset=It),v=v||$t<0||$t>1,g=g||$t<I,I=$t,d.push($t),Ct});v&&t.errors.push(function yn(){return new H.vHH(3012,!1)}()),g&&t.errors.push(function Ve(){return new H.vHH(3200,!1)}());const L=e.steps.length;let Q=0;l>0&&l<L?t.errors.push(function _e(){return new H.vHH(3202,!1)}()):0==l&&(Q=1/(L-1));const ue=L-1,ye=t.currentTime,Be=t.currentAnimateTimings,Ke=Be.duration;return F.forEach((vt,Ct)=>{const It=Q>0?Ct==ue?1:Q*Ct:d[Ct],$t=It*Ke;t.currentTime=ye+Be.delay+$t,Be.duration=$t,this._validateStyleAst(vt,t),vt.offset=It,n.styles.push(vt)}),n}visitReference(e,t){return{type:8,animation:cr(this,zn(e.animation),t),options:Ds(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ds(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ds(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function Si(r){const e=!!r.split(/\s*,\s*/).find(t=>":self"==t);return e&&(r=r.replace(ss,"")),r=r.replace(/@\*/g,en).replace(/@\w+/g,t=>en+"-"+t.slice(1)).replace(/:animating/g,ar),[r,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+l:l,un(t.collectedStyles,t.currentQuerySelector,new Map);const g=cr(this,zn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:g,originalSelector:e.selector,options:Ds(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ot(){return new H.vHH(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:$r(e.timings,t.errors,!0);return{type:12,animation:cr(this,zn(e.animation),t),timings:n,options:null}}}class Sr{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ds(r){return r?(r=ur(r)).params&&(r.params=function Ar(r){return r?ur(r):null}(r.params)):r={},r}function Bi(r,e,t){return{duration:r,delay:e,easing:t}}function xo(r,e,t,n,o,l,d=null,g=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:o,delay:l,totalTime:o+l,easing:d,subTimeline:g}}class al{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nh=new RegExp(":enter","g"),ll=new RegExp(":leave","g");function ul(r,e,t,n,o,l=new Map,d=new Map,g,v,I=[]){return(new Zu).buildKeyframes(r,e,t,n,o,l,d,g,v,I)}class Zu{buildKeyframes(e,t,n,o,l,d,g,v,I,F=[]){I=I||new al;const L=new Fa(e,t,I,o,l,F,[]);L.options=v;const Q=v.delay?lr(v.delay):0;L.currentTimeline.delayNextStep(Q),L.currentTimeline.setStyles([d],null,L.errors,v),cr(this,n,L);const ue=L.timelines.filter(ye=>ye.containsAnimation());if(ue.length&&g.size){let ye;for(let Be=ue.length-1;Be>=0;Be--){const Ke=ue[Be];if(Ke.element===t){ye=Ke;break}}ye&&!ye.allowOnlyTimelineStyles()&&ye.setStyles([g],null,L.errors,v)}return ue.length?ue.map(ye=>ye.buildKeyframes()):[xo(t,[],[],[],0,Q,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(n,o,o.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const o of e){const l=o?.delay;if(l){const d="number"==typeof l?l:lr(te(l,o?.params??{},t.errors));n.delayNextStep(d)}}}_visitSubInstructions(e,t,n){let l=t.currentTimeline.currentTime;const d=null!=n.duration?lr(n.duration):null,g=null!=n.delay?lr(n.delay):null;return 0!==d&&e.forEach(v=>{const I=t.appendInstructionToTimeline(v,d,g);l=Math.max(l,I.duration+I.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),cr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ts);const d=lr(l.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>cr(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?lr(e.options.delay):0;e.steps.forEach(d=>{const g=t.createSubContext(e.options);l&&g.delayNextStep(l),cr(this,d,g),o=Math.max(o,g.currentTimeline.currentTime),n.push(g.currentTimeline)}),n.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return $r(t.params?te(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(n.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,o=t.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(l):n.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,o=t.currentTimeline.duration,l=n.duration,g=t.createSubContext().currentTimeline;g.easing=n.easing,e.styles.forEach(v=>{g.forwardTime((v.offset||0)*l),g.setStyles(v.styles,v.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?lr(o.delay):0;l&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ts);let d=n;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=g.length;let v=null;g.forEach((I,F)=>{t.currentQueryIndex=F;const L=t.createSubContext(e.options,I);l&&L.delayNextStep(l),I===t.element&&(v=L.currentTimeline),cr(this,e.animation,L),L.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,L.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,o=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),g=d*(t.currentQueryTotal-1);let v=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=g-v;break;case"full":v=n.currentStaggerTime}const F=t.currentTimeline;v&&F.delayNextStep(v);const L=F.currentTime;cr(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=o.currentTime-L+(o.startTime-n.currentTimeline.startTime)}}const Ts={};class Fa{constructor(e,t,n,o,l,d,g,v){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=l,this.errors=d,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ts,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new sa(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let o=this.options;null!=n.duration&&(o.duration=lr(n.duration)),null!=n.delay&&(o.delay=lr(n.delay));const l=n.params;if(l){let d=o.params;d||(d=this.options.params={}),Object.keys(l).forEach(g=>{(!t||!d.hasOwnProperty(g))&&(d[g]=te(l[g],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(o=>{n[o]=t[o]})}}return e}createSubContext(e=null,t,n){const o=t||this.element,l=new Fa(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ts,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},l=new Va(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,o,l,d){let g=[];if(o&&g.push(this.element),e.length>0){e=(e=e.replace(nh,"."+this._enterClassName)).replace(ll,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=n);0!==n&&(I=n<0?I.slice(I.length+n,I.length):I.slice(0,n)),g.push(...I)}return!l&&0==g.length&&d.push(function qt(r){return new H.vHH(3014,!1)}()),g}}class sa{constructor(e,t,n,o){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sa(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||be.l3),this._currentKeyframe.set(t,be.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,o){t&&this._previousKeyframe.set("easing",t);const l=o&&o.params||{},d=function qs(r,e){const t=new Map;let n;return r.forEach(o=>{if("*"===o){n=n||e.keys();for(let l of n)t.set(l,be.l3)}else li(o,t)}),t}(e,this._globalTimelineStyles);for(let[g,v]of d){const I=te(v,l,n);this._pendingStyles.set(g,I),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??be.l3),this._updateStyle(g,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const o=this._styleSummary.get(n);(!o||t.time>o.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,v)=>{const I=li(g,new Map,this._backFill);I.forEach((F,L)=>{F===be.k1?e.add(L):F===be.l3&&t.add(L)}),n||I.set("offset",v/this.duration),o.push(I)});const l=e.size?Se(e.values()):[],d=t.size?Se(t.values()):[];if(n){const g=o[0],v=new Map(g);g.set("offset",0),v.set("offset",1),o=[g,v]}return xo(this.element,o,l,d,this.duration,this.startTime,this.easing,!1)}}class Va extends sa{constructor(e,t,n,o,l,d,g=!1){super(e,t,d.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=g,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=n+t,g=t/d,v=li(e[0]);v.set("offset",0),l.push(v);const I=li(e[0]);I.set("offset",La(g)),l.push(I);const F=e.length-1;for(let L=1;L<=F;L++){let Q=li(e[L]);const ue=Q.get("offset");Q.set("offset",La((t+ue*n)/d)),l.push(Q)}n=d,t=0,o="",e=l}return xo(this.element,e,this.preStyleProps,this.postStyleProps,n,t,o,!0)}}function La(r,e=3){const t=Math.pow(10,e-1);return Math.round(r*t)/t}class oa{}const cl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class os extends oa{normalizePropertyName(e,t){return Mt(e)}normalizeStyleValue(e,t,n,o){let l="";const d=n.toString().trim();if(cl.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)l="px";else{const g=n.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(function ke(r,e){return new H.vHH(3005,!1)}())}return d+l}}function Ba(r,e,t,n,o,l,d,g,v,I,F,L,Q){return{type:0,element:r,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:n,toStyles:d,timelines:g,queriedElements:v,preStyleProps:I,postStyleProps:F,totalTime:L,errors:Q}}const su={};class Fo{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,o){return function Vo(r,e,t,n,o){return r.some(l=>l(e,t,n,o))}(this.ast.matchers,e,t,n,o)}buildStyles(e,t,n){let o=this._stateStyles.get("*");return void 0!==e&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,n):new Map}build(e,t,n,o,l,d,g,v,I,F){const L=[],Q=this.ast.options&&this.ast.options.params||su,ye=this.buildStyles(n,g&&g.params||su,L),Be=v&&v.params||su,Ke=this.buildStyles(o,Be,L),vt=new Set,Ct=new Map,It=new Map,$t="void"===o,Ln={params:aa(Be,Q),delay:this.ast.options?.delay},an=F?[]:ul(e,t,this.ast.animation,l,d,ye,Ke,Ln,I,L);let me=0;if(an.forEach(de=>{me=Math.max(de.duration+de.delay,me)}),L.length)return Ba(t,this._triggerName,n,o,$t,ye,Ke,[],[],Ct,It,me,L);an.forEach(de=>{const ve=de.element,we=un(Ct,ve,new Set);de.preStyleProps.forEach(he=>we.add(he));const Oe=un(It,ve,new Set);de.postStyleProps.forEach(he=>Oe.add(he)),ve!==t&&vt.add(ve)});const ie=Se(vt.values());return Ba(t,this._triggerName,n,o,$t,ye,Ke,an,ie,Ct,It,me)}}function aa(r,e){const t=ur(e);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(t[n]=r[n]);return t}class ho{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,o=ur(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!==d&&(o[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,g)=>{d&&(d=te(d,o,t));const v=this.normalizer.normalizePropertyName(g,t);d=this.normalizer.normalizeStyleValue(g,v,d,t),n.set(v,d)})}),n}}class Bo{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(o=>{this.states.set(o.name,new ho(o.style,o.options&&o.options.params||{},n))}),dl(this.states,"true","1"),dl(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Fo(e,o,this.states))}),this.fallbackTransition=function Ks(r,e,t){return new Fo(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,o){return this.transitionFactories.find(d=>d.match(e,t,n,o))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function dl(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}const ou=new al;class Ys{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],l=bs(this._driver,t,n,[]);if(n.length)throw function Pe(r){return new H.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,n){const o=e.element,l=Yi(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const o=[],l=this._animations.get(e);let d;const g=new Map;if(l?(d=ul(this._driver,t,l,kn,wr,new Map,new Map,n,ou,o),d.forEach(F=>{const L=un(g,F.element,new Map);F.postStyleProps.forEach(Q=>L.set(Q,null))})):(o.push(function _t(){return new H.vHH(3300,!1)}()),d=[]),o.length)throw function ht(r){return new H.vHH(3504,!1)}();g.forEach((F,L)=>{F.forEach((Q,ue)=>{F.set(ue,this._driver.computeStyle(L,ue,be.l3))})});const I=si(d.map(F=>{const L=g.get(F.element);return this._buildPlayer(F,new Map,L)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Yt(r){return new H.vHH(3301,!1)}();return t}listen(e,t,n,o){const l=ki(t,"","","");return Dr(this._getPlayer(e),n,l,o),()=>{}}command(e,t,n,o){if("register"==n)return void this.register(e,o[0]);if("create"==n)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(n){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const la="ng-animate-queued",Vs="ng-animate-disabled",au=[],Rr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},as="__ng_removed";class ws{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function Ua(r){return r??null}(n?e.value:e),n){const l=ur(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(o=>{null==n[o]&&(n[o]=t[o])})}}}const Vr="void",Qs=new ws(Vr);class gl{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ei(t,this._hostClassName)}listen(e,t,n,o){if(!this._triggers.has(t))throw function Nn(r,e){return new H.vHH(3302,!1)}();if(null==n||0==n.length)throw function $n(r){return new H.vHH(3303,!1)}();if(!function Zi(r){return"start"==r||"done"==r}(n))throw function Tt(r,e){return new H.vHH(3400,!1)}();const l=un(this._elementListeners,e,[]),d={name:t,phase:n,callback:o};l.push(d);const g=un(this._engine.statesByElement,e,new Map);return g.has(t)||(ei(e,hn),ei(e,hn+"-"+t),g.set(t,Qs)),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(d);v>=0&&l.splice(v,1),this._triggers.has(t)||g.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jr(r){return new H.vHH(3401,!1)}();return t}trigger(e,t,n,o=!0){const l=this._getTrigger(t),d=new ui(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(ei(e,hn),ei(e,hn+"-"+t),this._engine.statesByElement.set(e,g=new Map));let v=g.get(t);const I=new ws(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&v&&I.absorbOptions(v.options),g.set(t,I),v||(v=Qs),I.value!==Vr&&v.value===I.value){if(!function Ha(r,e){const t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||r[l]!==e[l])return!1}return!0}(v.params,I.params)){const Be=[],Ke=l.matchStyles(v.value,v.params,Be),vt=l.matchStyles(I.value,I.params,Be);Be.length?this._engine.reportError(Be):this._engine.afterFlush(()=>{Ir(e,Ke),wn(e,vt)})}return}const Q=un(this._engine.playersByElement,e,[]);Q.forEach(Be=>{Be.namespaceId==this.id&&Be.triggerName==t&&Be.queued&&Be.destroy()});let ue=l.matchTransition(v.value,I.value,e,I.params),ye=!1;if(!ue){if(!o)return;ue=l.fallbackTransition,ye=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ue,fromState:v,toState:I,player:d,isFallbackTransition:ye}),ye||(ei(e,la),d.onStart(()=>{fo(e,la)})),d.onDone(()=>{let Be=this.players.indexOf(d);Be>=0&&this.players.splice(Be,1);const Ke=this._engine.playersByElement.get(e);if(Ke){let vt=Ke.indexOf(d);vt>=0&&Ke.splice(vt,1)}}),this.players.push(d),Q.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,en,!0);n.forEach(o=>{if(o[as])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(d=>d.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,n,o){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const g=[];if(l.forEach((v,I)=>{if(d.set(I,v.value),this._triggers.has(I)){const F=this.trigger(e,I,Vr,o);F&&g.push(F)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),n&&si(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const o=new Set;t.forEach(l=>{const d=l.name;if(o.has(d))return;o.add(d);const v=this._triggers.get(d).fallbackTransition,I=n.get(d)||Qs,F=new ws(Vr),L=new ui(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:v,fromState:I,toState:F,player:L,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(n.totalAnimations){const l=n.players.length?n.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let d=e;for(;d=d.parentNode;)if(n.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)n.markElementAsRemoved(this.id,e,!1,t);else{const l=e[as];(!l||l===Rr)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){ei(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const l=n.element,d=this._elementListeners.get(l);d&&d.forEach(g=>{if(g.name==n.triggerName){const v=ki(l,n.triggerName,n.fromState.value,n.toState.value);v._data=e,Dr(n.player,g.phase,v,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(n)}),this._queue=[],t.sort((n,o)=>{const l=n.transition.ast.depCount,d=o.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class ca{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new gl(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let d=!1,g=this.driver.getParentElement(t);for(;g;){const v=o.get(g);if(v){const I=n.indexOf(v);n.splice(I+1,0,e),d=!0;break}g=this.driver.getParentElement(g)}d||n.unshift(e)}else n.push(e);return o.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let o=this._namespaceLookup[e];o&&o.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let o of n.values())if(o.namespaceId){const l=this._fetchNamespace(o.namespaceId);l&&t.add(l)}return t}trigger(e,t,n,o){if(da(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,n,o),!0}return!1}insertNode(e,t,n,o){if(!da(t))return;const l=t[as];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,n)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ei(e,Vs)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fo(e,Vs))}removeNode(e,t,n,o){if(da(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),n){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,n,o,l){this.collectedLeaveElements.push(t),t[as]={namespaceId:e,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,n,o,l){return da(t)?this._fetchNamespace(e).listen(t,n,o,l):()=>{}}_buildInstruction(e,t,n,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,en,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ar,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return si(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[as];if(t&&t.setForRemoval){if(e[as]=Rr,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Vs)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ei(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?si(t).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(e){throw function xi(r){return new H.vHH(3402,!1)}()}_flushAnimations(e,t){const n=new al,o=[],l=new Map,d=[],g=new Map,v=new Map,I=new Map,F=new Set;this.disabledNodes.forEach(Wt=>{F.add(Wt);const Zt=this.driver.query(Wt,".ng-animate-queued",!0);for(let ln=0;ln<Zt.length;ln++)F.add(Zt[ln])});const L=this.bodyNode,Q=Array.from(this.statesByElement.keys()),ue=Jt(Q,this.collectedEnterElements),ye=new Map;let Be=0;ue.forEach((Wt,Zt)=>{const ln=kn+Be++;ye.set(Zt,ln),Wt.forEach(er=>ei(er,ln))});const Ke=[],vt=new Set,Ct=new Set;for(let Wt=0;Wt<this.collectedLeaveElements.length;Wt++){const Zt=this.collectedLeaveElements[Wt],ln=Zt[as];ln&&ln.setForRemoval&&(Ke.push(Zt),vt.add(Zt),ln.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(er=>vt.add(er)):Ct.add(Zt))}const It=new Map,$t=Jt(Q,Array.from(vt));$t.forEach((Wt,Zt)=>{const ln=wr+Be++;It.set(Zt,ln),Wt.forEach(er=>ei(er,ln))}),e.push(()=>{ue.forEach((Wt,Zt)=>{const ln=ye.get(Zt);Wt.forEach(er=>fo(er,ln))}),$t.forEach((Wt,Zt)=>{const ln=It.get(Zt);Wt.forEach(er=>fo(er,ln))}),Ke.forEach(Wt=>{this.processLeaveNode(Wt)})});const Ln=[],an=[];for(let Wt=this._namespaceList.length-1;Wt>=0;Wt--)this._namespaceList[Wt].drainQueuedTransitions(t).forEach(ln=>{const er=ln.player,rs=ln.element;if(Ln.push(er),this.collectedEnterElements.length){const qi=rs[as];if(qi&&qi.setForMove){if(qi.previousTriggersValues&&qi.previousTriggersValues.has(ln.triggerName)){const Zd=qi.previousTriggersValues.get(ln.triggerName),Oa=this.statesByElement.get(ln.element);if(Oa&&Oa.has(ln.triggerName)){const Xd=Oa.get(ln.triggerName);Xd.value=Zd,Oa.set(ln.triggerName,Xd)}}return void er.destroy()}}const nu=!L||!this.driver.containsElement(L,rs),Wi=It.get(rs),mi=ye.get(rs),_i=this._buildInstruction(ln,n,mi,Wi,nu);if(_i.errors&&_i.errors.length)return void an.push(_i);if(nu)return er.onStart(()=>Ir(rs,_i.fromStyles)),er.onDestroy(()=>wn(rs,_i.toStyles)),void o.push(er);if(ln.isFallbackTransition)return er.onStart(()=>Ir(rs,_i.fromStyles)),er.onDestroy(()=>wn(rs,_i.toStyles)),void o.push(er);const Wf=[];_i.timelines.forEach(qi=>{qi.stretchStartingKeyframe=!0,this.disabledNodes.has(qi.element)||Wf.push(qi)}),_i.timelines=Wf,n.append(rs,_i.timelines),d.push({instruction:_i,player:er,element:rs}),_i.queriedElements.forEach(qi=>un(g,qi,[]).push(er)),_i.preStyleProps.forEach((qi,Zd)=>{if(qi.size){let Oa=v.get(Zd);Oa||v.set(Zd,Oa=new Set),qi.forEach((Xd,qf)=>Oa.add(qf))}}),_i.postStyleProps.forEach((qi,Zd)=>{let Oa=I.get(Zd);Oa||I.set(Zd,Oa=new Set),qi.forEach((Xd,qf)=>Oa.add(qf))})});if(an.length){const Wt=[];an.forEach(Zt=>{Wt.push(function Mn(r,e){return new H.vHH(3505,!1)}())}),Ln.forEach(Zt=>Zt.destroy()),this.reportError(Wt)}const me=new Map,ie=new Map;d.forEach(Wt=>{const Zt=Wt.element;n.has(Zt)&&(ie.set(Zt,Zt),this._beforeAnimationBuild(Wt.player.namespaceId,Wt.instruction,me))}),o.forEach(Wt=>{const Zt=Wt.element;this._getPreviousPlayers(Zt,!1,Wt.namespaceId,Wt.triggerName,null).forEach(er=>{un(me,Zt,[]).push(er),er.destroy()})});const de=Ke.filter(Wt=>lu(Wt,v,I)),ve=new Map;bi(ve,this.driver,Ct,I,be.l3).forEach(Wt=>{lu(Wt,v,I)&&de.push(Wt)});const Oe=new Map;ue.forEach((Wt,Zt)=>{bi(Oe,this.driver,new Set(Wt),v,be.k1)}),de.forEach(Wt=>{const Zt=ve.get(Wt),ln=Oe.get(Wt);ve.set(Wt,new Map([...Array.from(Zt?.entries()??[]),...Array.from(ln?.entries()??[])]))});const he=[],tu=[],zf={};d.forEach(Wt=>{const{element:Zt,player:ln,instruction:er}=Wt;if(n.has(Zt)){if(F.has(Zt))return ln.onDestroy(()=>wn(Zt,er.toStyles)),ln.disabled=!0,ln.overrideTotalTime(er.totalTime),void o.push(ln);let rs=zf;if(ie.size>1){let Wi=Zt;const mi=[];for(;Wi=Wi.parentNode;){const _i=ie.get(Wi);if(_i){rs=_i;break}mi.push(Wi)}mi.forEach(_i=>ie.set(_i,rs))}const nu=this._buildAnimation(ln.namespaceId,er,me,l,Oe,ve);if(ln.setRealPlayer(nu),rs===zf)he.push(ln);else{const Wi=this.playersByElement.get(rs);Wi&&Wi.length&&(ln.parentPlayer=si(Wi)),o.push(ln)}}else Ir(Zt,er.fromStyles),ln.onDestroy(()=>wn(Zt,er.toStyles)),tu.push(ln),F.has(Zt)&&o.push(ln)}),tu.forEach(Wt=>{const Zt=l.get(Wt.element);if(Zt&&Zt.length){const ln=si(Zt);Wt.setRealPlayer(ln)}}),o.forEach(Wt=>{Wt.parentPlayer?Wt.syncPlayerEvents(Wt.parentPlayer):Wt.destroy()});for(let Wt=0;Wt<Ke.length;Wt++){const Zt=Ke[Wt],ln=Zt[as];if(fo(Zt,wr),ln&&ln.hasAnimation)continue;let er=[];if(g.size){let nu=g.get(Zt);nu&&nu.length&&er.push(...nu);let Wi=this.driver.query(Zt,ar,!0);for(let mi=0;mi<Wi.length;mi++){let _i=g.get(Wi[mi]);_i&&_i.length&&er.push(..._i)}}const rs=er.filter(nu=>!nu.destroyed);rs.length?Xu(this,Zt,rs):this.processLeaveNode(Zt)}return Ke.length=0,he.forEach(Wt=>{this.players.push(Wt),Wt.onDone(()=>{Wt.destroy();const Zt=this.players.indexOf(Wt);this.players.splice(Zt,1)}),Wt.play()}),he}elementContainsData(e,t){let n=!1;const o=t[as];return o&&o.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,o,l){let d=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(d=g)}else{const g=this.playersByElement.get(e);if(g){const v=!l||l==Vr;g.forEach(I=>{I.queued||!v&&I.triggerName!=o||d.push(I)})}}return(n||o)&&(d=d.filter(g=>!(n&&n!=g.namespaceId||o&&o!=g.triggerName))),d}_beforeAnimationBuild(e,t,n){const l=t.element,d=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const I=v.element,F=I!==l,L=un(n,I,[]);this._getPreviousPlayers(I,F,d,g,t.toState).forEach(ue=>{const ye=ue.getRealPlayer();ye.beforeDestroy&&ye.beforeDestroy(),ue.destroy(),L.push(ue)})}Ir(l,t.fromStyles)}_buildAnimation(e,t,n,o,l,d){const g=t.triggerName,v=t.element,I=[],F=new Set,L=new Set,Q=t.timelines.map(ye=>{const Be=ye.element;F.add(Be);const Ke=Be[as];if(Ke&&Ke.removedBeforeQueried)return new be.ZN(ye.duration,ye.delay);const vt=Be!==v,Ct=function _l(r){const e=[];return Uo(r,e),e}((n.get(Be)||au).map(me=>me.getRealPlayer())).filter(me=>!!me.element&&me.element===Be),It=l.get(Be),$t=d.get(Be),Ln=Yi(0,this._normalizer,0,ye.keyframes,It,$t),an=this._buildPlayer(ye,Ln,Ct);if(ye.subTimeline&&o&&L.add(Be),vt){const me=new ui(e,g,Be);me.setRealPlayer(an),I.push(me)}return an});I.forEach(ye=>{un(this.playersByQueriedElement,ye.element,[]).push(ye),ye.onDone(()=>function ml(r,e,t){let n=r.get(e);if(n){if(n.length){const o=n.indexOf(t);n.splice(o,1)}0==n.length&&r.delete(e)}return n}(this.playersByQueriedElement,ye.element,ye))}),F.forEach(ye=>ei(ye,mn));const ue=si(Q);return ue.onDestroy(()=>{F.forEach(ye=>fo(ye,mn)),wn(v,t.toStyles)}),L.forEach(ye=>{un(o,ye,[]).push(ue)}),ue}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new be.ZN(e.duration,e.delay)}}class ui{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new be.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(o=>Dr(e,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){un(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function da(r){return r&&1===r.nodeType}function Ls(r,e){const t=r.style.display;return r.style.display=e??"none",t}function bi(r,e,t,n,o){const l=[];t.forEach(v=>l.push(Ls(v)));const d=[];n.forEach((v,I)=>{const F=new Map;v.forEach(L=>{const Q=e.computeStyle(I,L,o);F.set(L,Q),(!Q||0==Q.length)&&(I[as]=pl,d.push(I))}),r.set(I,F)});let g=0;return t.forEach(v=>Ls(v,l[g++])),d}function Jt(r,e){const t=new Map;if(r.forEach(g=>t.set(g,[])),0==e.length)return t;const o=new Set(e),l=new Map;function d(g){if(!g)return 1;let v=l.get(g);if(v)return v;const I=g.parentNode;return v=t.has(I)?I:o.has(I)?1:d(I),l.set(g,v),v}return e.forEach(g=>{const v=d(g);1!==v&&t.get(v).push(g)}),t}function ei(r,e){r.classList?.add(e)}function fo(r,e){r.classList?.remove(e)}function Xu(r,e,t){si(t).onDone(()=>r.processLeaveNode(e))}function Uo(r,e){for(let t=0;t<r.length;t++){const n=r[t];n instanceof be.ZE?Uo(n.players,e):e.push(n)}}function lu(r,e,t){const n=t.get(r);if(!n)return!1;let o=e.get(r);return o?n.forEach(l=>o.add(l)):e.set(r,n),t.delete(r),!0}class Js{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new ca(e,t,n),this._timelineEngine=new Ys(e,t,n),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,n,o,l){const d=e+"-"+o;let g=this._triggerCache[d];if(!g){const v=[],F=bs(this._driver,l,v,[]);if(v.length)throw function Me(r,e){return new H.vHH(3404,!1)}();g=function Lo(r,e,t){return new Bo(r,e,t)}(o,F,this._normalizer),this._triggerCache[d]=g}this._transitionEngine.registerTrigger(t,o,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,o){this._transitionEngine.insertNode(e,t,n,o)}onRemove(e,t,n,o){this._transitionEngine.removeNode(e,t,o||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,o){if("@"==n.charAt(0)){const[l,d]=or(n);this._timelineEngine.command(l,t,d,o)}else this._transitionEngine.trigger(e,t,n,o)}listen(e,t,n,o,l){if("@"==n.charAt(0)){const[d,g]=or(n);return this._timelineEngine.listen(d,t,g,l)}return this._transitionEngine.listen(e,t,n,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Pn=(()=>{class r{constructor(t,n,o){this._element=t,this._startStyles=n,this._endStyles=o,this._state=0;let l=r.initialStylesByElement.get(t);l||r.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&wn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wn(this._element,this._initialStyles),this._endStyles&&(wn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ir(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ir(this._element,this._endStyles),this._endStyles=null),wn(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function ha(r){let e=null;return r.forEach((t,n)=>{(function Ho(r){return"display"===r||"position"===r})(n)&&(e=e||new Map,e.set(n,t))}),e}class dr{constructor(e,t,n,o){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{"offset"!==o&&e.set(o,this._finished?n:rn(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class uu{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return re(e,t)}getParentElement(e){return xn(e)}query(e,t,n){return He(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,o,l,d=[]){const v={duration:n,delay:o,fill:0==o?"both":"forwards"};l&&(v.easing=l);const I=new Map,F=d.filter(ue=>ue instanceof dr);(function nn(r,e){return 0===r||0===e})(n,o)&&F.forEach(ue=>{ue.currentSnapshot.forEach((ye,Be)=>I.set(Be,ye))});let L=function Vi(r){return r.length?r[0]instanceof Map?r:r.map(e=>Fi(e)):[]}(t).map(ue=>li(ue));L=function pr(r,e,t){if(t.size&&e.length){let n=e[0],o=[];if(t.forEach((l,d)=>{n.has(d)||o.push(d),n.set(d,l)}),o.length)for(let l=1;l<e.length;l++){let d=e[l];o.forEach(g=>d.set(g,rn(r,g)))}}return e}(e,L,I);const Q=function st(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=ha(e[0]),e.length>1&&(n=ha(e[e.length-1]))):e instanceof Map&&(t=ha(e)),t||n?new Pn(r,t,n):null}(e,L);return new dr(e,L,v,Q)}}var ls=G(6895);let Is=(()=>{class r extends be._j{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:H.ifc.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?(0,be.vP)(t):t;return ec(this._renderer,null,n,"register",[o]),new yl(n,this._renderer)}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(H.FYo),H.LFG(ls.K0))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})();class yl extends be.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new cu(this._id,e,t||{},this._renderer)}}class cu{constructor(e,t,n,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ec(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ec(r,e,t,n,o){return r.setProperty(e,`@@${t}:${n}`,o)}const B="@.disabled";let x=(()=>{class r{constructor(t,n,o){this.delegate=t,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(l,d)=>{const g=d?.parentNode(l);g&&d.removeChild(g,l)}}createRenderer(t,n){const l=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let F=this._rendererCache.get(l);return F||(F=new P("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,F)),F}const d=n.id,g=n.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const v=F=>{Array.isArray(F)?F.forEach(v):this.engine.registerTrigger(d,g,t,F.name,F)};return n.data.animation.forEach(v),new Y(this,g,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,o){t>=0&&t<this._microtaskId?this._zone.run(()=>n(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,g]=l;d(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(H.FYo),H.LFG(Js),H.LFG(H.R0b))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})();class P{constructor(e,t,n,o){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=o,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,o=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==B?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Y extends P{constructor(e,t,n,o,l){super(t,n,o,l),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==B?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const o=function ze(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(e);let l=t.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function Vt(r){const e=r.indexOf(".");return[r.substring(0,e),r.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,d,g=>{this.factory.scheduleListenerCallback(g._data||-1,n,g)})}return this.delegate.listen(e,t,n)}}let Hn=(()=>{class r extends Js{constructor(t,n,o,l){super(t.body,n,o)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(ls.K0),H.LFG(Xt),H.LFG(oa),H.LFG(H.z2F))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})();const po=[{provide:be._j,useClass:Is},{provide:oa,useFactory:function us(){return new os}},{provide:Js,useClass:Hn},{provide:H.FYo,useFactory:function Zs(r,e,t){return new x(r,e,t)},deps:[Z.se,Js,H.R0b]}],Xs=[{provide:Xt,useFactory:()=>new uu},{provide:H.QbO,useValue:"BrowserAnimations"},...po],go=[{provide:Xt,useClass:Gt},{provide:H.QbO,useValue:"NoopAnimations"},...po];let jo=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?go:Xs}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=H.oAB({type:r}),r.\u0275inj=H.cJS({providers:Xs,imports:[Z.b2]}),r})();var tc=G(433),eo=G(529),Lr=G(2605);let Qc=(()=>{class r{constructor(){this.title="argon-dashboard-angular"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){1&t&&H._UZ(0,"router-outlet")},dependencies:[Lr.lC]}),r})();var Xi=G(383);let nc=(()=>{class r{constructor(){this.test=new Date}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-footer"]],decls:1,vars:0,consts:[[1,"footer"]],template:function(t,n){1&t&&H._UZ(0,"footer",0)}}),r})();const bl=function(r){return[r]};function du(r,e){if(1&r&&(H.TgZ(0,"li")(1,"a",43),H._UZ(2,"i"),H._uU(3),H.qZA()()),2&r){const t=e.$implicit;H.Gre("",t.class," nav-item"),H.xp6(1),H.Q6J("routerLink",H.VKq(8,bl,t.path)),H.xp6(1),H.Gre("ni ",t.icon,""),H.xp6(1),H.hij(" ",t.title," ")}}const rc=function(){return["/dashboard"]},ci=function(){return["/user-profile"]},Bs=[{path:"/dashboard",title:"Dashboard",icon:"ni-tv-2 text-primary",class:""},{path:"/banks",title:"Banks",icon:"ni-planet text-blue",class:""},{path:"/banks-users",title:"Bank Users",icon:"ni-bullet-list-67 text-red",class:""},{path:"/properties",title:"Properties",icon:"ni-building text-yellow",class:""},{path:"/properties/0",title:"Property Details",icon:"ni-button-pause text-yellow",class:""},{path:"/templates",title:"Print Formats",icon:"ni-paper-diploma text-red",class:""}];let mr=(()=>{class r{constructor(t){this.router=t,this.isCollapsed=!0}ngOnInit(){this.menuItems=Bs.filter(t=>t),this.router.events.subscribe(t=>{this.isCollapsed=!0})}}return r.\u0275fac=function(t){return new(t||r)(H.Y36(Lr.F0))},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-sidebar"]],decls:67,vars:14,consts:[["id","sidenav-main",1,"navbar","navbar-vertical","navbar-expand-md","navbar-light","bg-white"],[1,"container-fluid"],["type","button","aria-controls","sidenav-collapse-main",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["routerLinkActive","active",1,"navbar-brand","pt-0",3,"routerLink"],["src","./assets/img/brand/red.png","alt","...",1,"navbar-brand-img"],[1,"nav","align-items-center","d-md-none"],["ngbDropdown","","placement","bottom-right",1,"nav-item"],["role","button","ngbDropdownToggle","",1,"nav-link","nav-link-icon"],[1,"ni","ni-bell-55"],["ngbDropdownMenu","",1,"dropdown-menu-arrow","dropdown-menu-right"],["href","javascript:void(0)",1,"dropdown-item"],[1,"dropdown-divider"],["role","button","ngbDropdownToggle","",1,"nav-link"],[1,"media","align-items-center"],[1,"avatar","avatar-sm","rounded-circle"],["alt","Image placeholder","src","./assets/img/theme/team-1-800x800.jpg"],[1,"dropdown-header","noti-title"],[1,"text-overflow","m-0"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"],[1,"ni","ni-single-02"],[1,"ni","ni-settings-gear-65"],[1,"ni","ni-calendar-grid-58"],[1,"ni","ni-support-16"],["href","#!",1,"dropdown-item"],[1,"ni","ni-user-run"],["id","sidenav-collapse-main",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-collapse-header","d-md-none"],[1,"row"],[1,"col-6","collapse-brand"],["routerLinkActive","active",3,"routerLink"],["src","./assets/img/brand/blue.png"],[1,"col-6","collapse-close"],["type","button",1,"navbar-toggler",3,"click"],[1,"mt-4","mb-3","d-md-none"],[1,"input-group","input-group-rounded","input-group-merge"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","form-control-rounded","form-control-prepended"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],[1,"navbar-nav"],[3,"class",4,"ngFor","ngForOf"],[1,"my-3"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(t,n){1&t&&(H.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),H.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),H._UZ(3,"span",3),H.qZA(),H.TgZ(4,"a",4),H._UZ(5,"img",5),H.qZA(),H.TgZ(6,"ul",6)(7,"li",7)(8,"a",8),H._UZ(9,"i",9),H.qZA(),H.TgZ(10,"div",10)(11,"a",11),H._uU(12,"Action"),H.qZA(),H.TgZ(13,"a",11),H._uU(14,"Another action"),H.qZA(),H._UZ(15,"div",12),H.TgZ(16,"a",11),H._uU(17,"Something else here"),H.qZA()()(),H.TgZ(18,"li",7)(19,"a",13)(20,"div",14)(21,"span",15),H._UZ(22,"img",16),H.qZA()()(),H.TgZ(23,"div",10)(24,"div",17)(25,"h6",18),H._uU(26,"Welcome!"),H.qZA()(),H.TgZ(27,"a",19),H._UZ(28,"i",20),H.TgZ(29,"span"),H._uU(30,"My profile"),H.qZA()(),H.TgZ(31,"a",19),H._UZ(32,"i",21),H.TgZ(33,"span"),H._uU(34,"Settings"),H.qZA()(),H.TgZ(35,"a",19),H._UZ(36,"i",22),H.TgZ(37,"span"),H._uU(38,"Activity"),H.qZA()(),H.TgZ(39,"a",19),H._UZ(40,"i",23),H.TgZ(41,"span"),H._uU(42,"Support"),H.qZA()(),H._UZ(43,"div",12),H.TgZ(44,"a",24),H._UZ(45,"i",25),H.TgZ(46,"span"),H._uU(47,"Logout"),H.qZA()()()()(),H.TgZ(48,"div",26)(49,"div",27)(50,"div",28)(51,"div",29)(52,"a",30),H._UZ(53,"img",31),H.qZA()(),H.TgZ(54,"div",32)(55,"button",33),H.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),H._UZ(56,"span")(57,"span"),H.qZA()()()(),H.TgZ(58,"form",34)(59,"div",35),H._UZ(60,"input",36),H.TgZ(61,"div",37)(62,"div",38),H._UZ(63,"span",39),H.qZA()()()(),H.TgZ(64,"ul",40),H.YNc(65,du,4,10,"li",41),H.qZA(),H._UZ(66,"hr",42),H.qZA()()()),2&t&&(H.xp6(4),H.Q6J("routerLink",H.DdM(8,rc)),H.xp6(23),H.Q6J("routerLink",H.DdM(9,ci)),H.xp6(4),H.Q6J("routerLink",H.DdM(10,ci)),H.xp6(4),H.Q6J("routerLink",H.DdM(11,ci)),H.xp6(4),H.Q6J("routerLink",H.DdM(12,ci)),H.xp6(9),H.Q6J("ngbCollapse",n.isCollapsed),H.xp6(4),H.Q6J("routerLink",H.DdM(13,rc)),H.xp6(13),H.Q6J("ngForOf",n.menuItems))},dependencies:[ls.sg,Lr.yS,Lr.Od,Xi._D,Xi.jt,Xi.iD,Xi.Vi,Xi.M2]}),r})();const ic=function(){return["/dashboard"]},hu=function(r){return{focused:r}},El=function(){return["/user-profile"]};let Jf=(()=>{class r{constructor(t,n,o){this.element=n,this.router=o,this.location=t}ngOnInit(){this.listTitles=Bs.filter(t=>t)}getTitle(){var t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(1));for(var n=0;n<this.listTitles.length;n++)if(this.listTitles[n].path===t)return this.listTitles[n].title;return"Dashboard"}}return r.\u0275fac=function(t){return new(t||r)(H.Y36(ls.Ye),H.Y36(H.SBq),H.Y36(Lr.F0))},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-navbar"]],decls:45,vars:14,consts:[["id","navbar-main",1,"navbar","navbar-top","navbar-expand-md","navbar-dark"],[1,"container-fluid"],["routerLinkActive","active",1,"h4","mb-0","text-white","text-uppercase","d-none","d-lg-inline-block",3,"routerLink"],[1,"navbar-search","navbar-search-dark","form-inline","mr-3","d-none","d-md-flex","ml-lg-auto"],[1,"form-group","mb-0",3,"ngClass"],[1,"input-group","input-group-alternative"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-search"],["placeholder","Search","type","text",1,"form-control",3,"focus","blur"],[1,"navbar-nav","align-items-center","d-none","d-md-flex"],["ngbDropdown","","placement","bottom-right",1,"nav-item"],["role","button","ngbDropdownToggle","",1,"nav-link","pr-0"],[1,"media","align-items-center"],[1,"avatar","avatar-sm","rounded-circle"],["alt","Image placeholder","src","assets/img/theme/team-4-800x800.jpg"],[1,"media-body","ml-2","d-none","d-lg-block"],[1,"mb-0","text-sm","font-weight-bold"],["ngbDropdownMenu","",1,"dropdown-menu-arrow","dropdown-menu-right"],[1,"dropdown-header","noti-title"],[1,"text-overflow","m-0"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"],[1,"ni","ni-single-02"],[1,"ni","ni-settings-gear-65"],[1,"ni","ni-calendar-grid-58"],[1,"ni","ni-support-16"],[1,"dropdown-divider"],["href","#!",1,"dropdown-item"],[1,"ni","ni-user-run"]],template:function(t,n){1&t&&(H.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),H._uU(3),H.qZA(),H.TgZ(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),H._UZ(9,"i",8),H.qZA()(),H.TgZ(10,"input",9),H.NdJ("focus",function(){return n.focus=!0})("blur",function(){return n.focus=!1}),H.qZA()()()(),H.TgZ(11,"ul",10)(12,"li",11)(13,"a",12)(14,"div",13)(15,"span",14),H._UZ(16,"img",15),H.qZA(),H.TgZ(17,"div",16)(18,"span",17),H._uU(19,"User"),H.qZA()()()(),H.TgZ(20,"div",18)(21,"div",19)(22,"h6",20),H._uU(23,"Welcome!"),H.qZA()(),H.TgZ(24,"a",21),H._UZ(25,"i",22),H.TgZ(26,"span"),H._uU(27,"My profile"),H.qZA()(),H.TgZ(28,"a",21),H._UZ(29,"i",23),H.TgZ(30,"span"),H._uU(31,"Settings"),H.qZA()(),H.TgZ(32,"a",21),H._UZ(33,"i",24),H.TgZ(34,"span"),H._uU(35,"Activity"),H.qZA()(),H.TgZ(36,"a",21),H._UZ(37,"i",25),H.TgZ(38,"span"),H._uU(39,"Support"),H.qZA()(),H._UZ(40,"div",26),H.TgZ(41,"a",27),H._UZ(42,"i",28),H.TgZ(43,"span"),H._uU(44,"Logout"),H.qZA()()()()()()()),2&t&&(H.xp6(2),H.Q6J("routerLink",H.DdM(7,ic)),H.xp6(1),H.Oqu(n.getTitle()),H.xp6(2),H.Q6J("ngClass",H.VKq(8,hu,!0===n.focus)),H.xp6(19),H.Q6J("routerLink",H.DdM(10,El)),H.xp6(4),H.Q6J("routerLink",H.DdM(11,El)),H.xp6(4),H.Q6J("routerLink",H.DdM(12,El)),H.xp6(4),H.Q6J("routerLink",H.DdM(13,El)))},dependencies:[ls.mk,Lr.yS,Lr.Od,Xi.jt,Xi.iD,Xi.Vi,Xi.M2]}),r})(),Zf=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-admin-layout"]],decls:6,vars:0,consts:[[1,"main-content"],[1,"container-fluid"]],template:function(t,n){1&t&&(H._UZ(0,"app-sidebar"),H.TgZ(1,"div",0),H._UZ(2,"app-navbar")(3,"router-outlet"),H.TgZ(4,"div",1),H._UZ(5,"app-footer"),H.qZA()())},dependencies:[nc,Jf,mr,Lr.lC]}),r})();const Jc=function(){return["/dashboard"]};let sc=(()=>{class r{constructor(t){this.router=t,this.test=new Date,this.isCollapsed=!0}ngOnInit(){document.getElementsByTagName("html")[0].classList.add("auth-layout"),document.getElementsByTagName("body")[0].classList.add("bg-default"),this.router.events.subscribe(o=>{this.isCollapsed=!0})}ngOnDestroy(){document.getElementsByTagName("html")[0].classList.remove("auth-layout"),document.getElementsByTagName("body")[0].classList.remove("bg-default")}}return r.\u0275fac=function(t){return new(t||r)(H.Y36(Lr.F0))},r.\u0275cmp=H.Xpm({type:r,selectors:[["app-auth-layout"]],decls:18,vars:5,consts:[[1,"main-content"],[1,"navbar","navbar-top","navbar-horizontal","navbar-expand-md","navbar-dark"],[1,"container","px-4"],["routerLinkActive","active",1,"navbar-brand",3,"routerLink"],["src","assets/img/brand/argon-white.png"],["type","button","aria-controls","sidenav-collapse-main",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","sidenav-collapse-main",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-collapse-header","d-md-none"],[1,"row"],[1,"col-6","collapse-brand"],["routerLinkActive","active",3,"routerLink"],["src","assets/img/brand/blue.png"],[1,"col-6","collapse-close"],["type","button",1,"navbar-toggler",3,"click"]],template:function(t,n){1&t&&(H.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),H._UZ(4,"img",4),H.qZA(),H.TgZ(5,"button",5),H.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),H._UZ(6,"span",6),H.qZA(),H.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"a",11),H._UZ(12,"img",12),H.qZA()(),H.TgZ(13,"div",13)(14,"button",14),H.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),H._UZ(15,"span")(16,"span"),H.qZA()()()()()()(),H._UZ(17,"router-outlet"),H.qZA()),2&t&&(H.xp6(3),H.Q6J("routerLink",H.DdM(3,Jc)),H.xp6(4),H.Q6J("ngbCollapse",n.isCollapsed),H.xp6(4),H.Q6J("routerLink",H.DdM(4,Jc)))},dependencies:[Xi._D,Xi.M2,Lr.lC,Lr.yS,Lr.Od]}),r})();var ja=G(2076),mo=G(4004);function oc(r,e,t,n,o,l,d){try{var g=r[l](d),v=g.value}catch(I){return void t(I)}g.done?e(v):Promise.resolve(v).then(n,o)}function K(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var l=r.apply(e,t);function d(v){oc(l,n,o,d,g,"next",v)}function g(v){oc(l,n,o,d,g,"throw",v)}d(void 0)})}}const Zc=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=63&o|128):55296==(64512&o)&&n+1<r.length&&56320==(64512&r.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&r.charCodeAt(++n)),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=63&o|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=63&o|128)}return e},pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,I=v?r[o+2]:0;let Q=(15&g)<<2|I>>6,ue=63&I;v||(ue=64,d||(Q=64)),n.push(t[l>>2],t[(3&l)<<4|g>>4],t[Q],t[ue])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zc(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((31&o)<<6|63&l)}else if(o>239&&o<365){const v=((7&o)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(v>>10)),e[n++]=String.fromCharCode(56320+(1023&v))}else{const l=r[t++],d=r[t++];e[n++]=String.fromCharCode((15&o)<<12|(63&l)<<6|63&d)}}return e.join("")}(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],g=o<r.length?t[r.charAt(o)]:0;++o;const I=o<r.length?t[r.charAt(o)]:64;++o;const L=o<r.length?t[r.charAt(o)]:64;if(++o,null==l||null==g||null==I||null==L)throw new Xc;n.push(l<<2|g>>4),64!==I&&(n.push(g<<4&240|I>>2),64!==L&&n.push(I<<6&192|L))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Xc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $=function(r){return function(r){const e=Zc(r);return pu.encodeByteArray(e,!0)}(r).replace(/\./g,"")},M=function(r){try{return pu.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function le(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===r&&(r={});break;case Array:r=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Le(t)||(r[t]=le(r[t],e[t]));return r}function Le(r){return"__proto__"!==r}function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const On=()=>{try{return rt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const r=process.env.__FIREBASE_DEFAULTS__;return r?JSON.parse(r):void 0})()||(()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&M(r[1]);return e&&JSON.parse(e)})()}catch(r){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`)}},Kn=()=>{var r;return null===(r=On())||void 0===r?void 0:r.config};class _o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function In(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yo(){var r;const e=null===(r=On())||void 0===r?void 0:r.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function bo(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function gu(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function mu(){const r="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof r&&void 0!==r.id}function Eo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ed(){const r=In();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pa(){return!yo()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _u(){try{return"object"==typeof indexedDB}catch{return!1}}class Di extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Us.prototype.create)}}class Us{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?function $o(r,e){return r.replace(nd,(t,n)=>{const o=e[n];return null!=o?String(o):`<${n}?>`})}(l,n):"Error";return new Di(o,`${this.serviceName}: ${d} (${o}).`,n)}}const nd=/\{\$([^}]+)}/g;function Hs(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function uc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ga(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],d=e[o];if(Xg(l)&&Xg(d)){if(!ga(l,d))return!1}else if(l!==d)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function Xg(r){return null!==r&&"object"==typeof r}function As(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ma(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function _a(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function np(r,e){const t=new rp(r,e);return t.subscribe.bind(t)}class rp{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");o=function cc(r,e){if("object"!=typeof r||null===r)return!1;for(const t of e)if(t in r&&"function"==typeof r[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===o.next&&(o.next=wl),void 0===o.error&&(o.error=wl),void 0===o.complete&&(o.complete=wl);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wl(){}function T(r){return r&&r._delegate?r._delegate:r}function D(r){return r.endsWith(".cloudworkstations.dev")}function N(r){return k.apply(this,arguments)}function k(){return(k=K(function*(r){return(yield fetch(r,{credentials:"include"})).ok})).apply(this,arguments)}class z{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ee="[DEFAULT]";class oe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new _o;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(o)return null;throw l}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Et(r){return"EAGER"===r.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=ee){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return K(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ee){return this.instances.has(e)}getOptions(e=ee){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,d]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(l)&&d.resolve(o);return o}onInit(e,t){var n;const o=this.normalizeInstanceIdentifier(t),l=null!==(n=this.onInitCallbacks.get(o))&&void 0!==n?n:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ee?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=ee){return this.component?this.component.multipleInstances?e:ee:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ot=[];var Lt=(()=>{return(r=Lt||(Lt={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",Lt;var r})();const cs={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ya=Lt.INFO,Go={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Rs=(r,e,...t)=>{if(e<r.logLevel)return;const n=(new Date).toISOString(),o=Go[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${n}]  ${r.name}:`,...t)};class id{constructor(e){this.name=e,this._logLevel=ya,this._logHandler=Rs,this._userLogHandler=null,Ot.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?cs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}let nm,ky;const Wr=new WeakMap,bu=new WeakMap,Vy=new WeakMap,hi=new WeakMap,ap=new WeakMap;let Eu={get(r,e,t){if(r instanceof IDBTransaction){if("done"===e)return bu.get(r);if("objectStoreNames"===e)return r.objectStoreNames||Vy.get(r);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zo(r[e])},set:(r,e,t)=>(r[e]=t,!0),has:(r,e)=>r instanceof IDBTransaction&&("done"===e||"store"===e)||e in r};function im(r){return"function"==typeof r?function rm(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fy(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(r)?function(...e){return r.apply(Du(this),e),zo(Wr.get(this))}:function(...e){return zo(r.apply(Du(this),e))}:function(e,...t){const n=r.call(Du(this),e,...t);return Vy.set(n,e.sort?e.sort():[e]),zo(n)}}(r):(r instanceof IDBTransaction&&function lh(r){if(bu.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",d),r.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",d),r.addEventListener("abort",d)});bu.set(r,e)}(r),((r,e)=>e.some(t=>r instanceof t))(r,function PE(){return nm||(nm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(r,Eu):r)}function zo(r){if(r instanceof IDBRequest)return function sd(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",d)},l=()=>{t(zo(r.result)),o()},d=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Wr.set(t,r)}).catch(()=>{}),ap.set(e,r),e}(r);if(hi.has(r))return hi.get(r);const e=im(r);return e!==r&&(hi.set(r,e),ap.set(e,r)),e}const Du=r=>ap.get(r),By=["get","getKey","getAll","getAllKeys","count"],om=["put","add","delete","clear"],Tu=new Map;function od(r,e){if(!(r instanceof IDBDatabase)||e in r||"string"!=typeof e)return;if(Tu.get(e))return Tu.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=om.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!By.includes(t))return;const l=function(){var d=K(function*(g,...v){const I=this.transaction(g,o?"readwrite":"readonly");let F=I.store;return n&&(F=F.index(v.shift())),(yield Promise.all([F[t](...v),o&&I.done]))[0]});return function(v){return d.apply(this,arguments)}}();return Tu.set(e,l),l}!function Ly(r){Eu=r(Eu)}(r=>({...r,get:(e,t,n)=>od(e,t)||r.get(e,t,n),has:(e,t)=>!!od(e,t)||r.has(e,t)}));class am{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Uy(r){return"VERSION"===r.getComponent()?.type}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const ch="@firebase/app",Cl="0.12.1",ro=new id("@firebase/app"),Al="[DEFAULT]",dm={[ch]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ba=new Map,dc=new Map,es=new Map;function Bn(r,e){try{r.container.addComponent(e)}catch(t){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function dh(r,e){r.container.addOrOverwriteComponent(e)}function Ga(r){const e=r.name;if(es.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;es.set(e,r);for(const t of ba.values())Bn(t,r);for(const t of dc.values())Bn(t,r);return!0}function hh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function hm(r,e,t=Al){hh(r,e).clearInstance(t)}function fh(r){return void 0!==r.options}function Nr(r){return null!=r&&void 0!==r.settings}function UE(){es.clear()}const ds=new Us("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class cp{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new z("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}function fm(r,e){const t=M(r.split(".")[1]);null!==t?void 0!==JSON.parse(t).exp?1e3*JSON.parse(t).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`):console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`):console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`)}class Ns extends cp{constructor(e,t,n,o){const l=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,d={name:n,automaticDataCollectionEnabled:l};super(void 0!==e.apiKey?e:e.options,d,o),this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._serverConfig.authIdToken&&fm(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&fm(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,js(ch,Cl,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){wu(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ds.create("server-app-deleted")}}const Ea="11.7.1";function ph(r,e={}){let t=r;"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Al,automaticDataCollectionEnabled:!1},e),o=n.name;if("string"!=typeof o||!o)throw ds.create("bad-app-name",{appName:String(o)});if(t||(t=Kn()),!t)throw ds.create("no-options");const l=ba.get(o);if(l){if(ga(t,l.options)&&ga(n,l.config))return l;throw ds.create("duplicate-app",{appName:o})}const d=new vn(o);for(const v of es.values())d.addComponent(v);const g=new cp(t,n,d);return ba.set(o,g),g}function Sl(r,e){if(function vo(){return typeof window<"u"||bo()}()&&!bo())throw ds.create("invalid-server-app-environment");let t;void 0===e.automaticDataCollectionEnabled&&(e.automaticDataCollectionEnabled=!1),t=fh(r)?r.options:r;const n=Object.assign(Object.assign({},e),t);if(void 0!==n.releaseOnDeref&&delete n.releaseOnDeref,void 0!==e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw ds.create("finalization-registry-not-supported",{});const l=""+(I=JSON.stringify(n),[...I].reduce((F,L)=>Math.imul(31,F)+L.charCodeAt(0)|0,0)),d=dc.get(l);var I;if(d)return d.incRefCount(e.releaseOnDeref),d;const g=new vn(l);for(const I of es.values())g.addComponent(I);const v=new Ns(t,e,l,g);return dc.set(l,v),v}function ti(r=Al){const e=ba.get(r);if(!e&&r===Al&&Kn())return ph();if(!e)throw ds.create("no-app",{appName:r});return e}function za(){return Array.from(ba.values())}function wu(r){return gh.apply(this,arguments)}function gh(){return(gh=K(function*(r){let e=!1;const t=r.name;ba.has(t)?(e=!0,ba.delete(t)):dc.has(t)&&r.decRefCount()<=0&&(dc.delete(t),e=!0),e&&(yield Promise.all(r.container.getProviders().map(n=>n.delete())),r.isDeleted=!0)})).apply(this,arguments)}function js(r,e,t){var n;let o=null!==(n=dm[r])&&void 0!==n?n:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const g=[`Unable to register library "${o}" with version "${e}":`];return l&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ro.warn(g.join(" "))}Ga(new z(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function Wa(r,e){if(null!==r&&"function"!=typeof r)throw ds.create("invalid-log-argument");!function ah(r,e){for(const t of Ot){let n=null;e&&e.level&&(n=cs[e.level]),t.userLogHandler=null===r?null:(o,l,...d)=>{const g=d.map(v=>{if(null==v)return null;if("string"==typeof v)return v;if("number"==typeof v||"boolean"==typeof v)return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(v=>v).join(" ");l>=(n??o.logLevel)&&r({level:Lt[l].toLowerCase(),message:g,args:d,type:o.name})}}}(r,e)}function dp(r){!function va(r){Ot.forEach(e=>{e.setLogLevel(r)})}(r)}const ld="firebase-heartbeat-store";let pm=null;function Ky(){return pm||(pm=function sm(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const d=indexedDB.open(r,e),g=zo(d);return n&&d.addEventListener("upgradeneeded",v=>{n(zo(d.result),v.oldVersion,v.newVersion,zo(d.transaction),v)}),t&&d.addEventListener("blocked",v=>t(v.oldVersion,v.newVersion,v)),g.then(v=>{l&&v.addEventListener("close",()=>l()),o&&v.addEventListener("versionchange",I=>o(I.oldVersion,I.newVersion,I))}).catch(()=>{}),g}("firebase-heartbeat-database",1,{upgrade:(r,e)=>{if(0===e)try{r.createObjectStore(ld)}catch(t){console.warn(t)}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),pm}function mh(){return(mh=K(function*(r){try{const t=(yield Ky()).transaction(ld),n=yield t.objectStore(ld).get(Qy(r));return yield t.done,n}catch(e){if(e instanceof Di)ro.warn(e.message);else{const t=ds.create("idb-get",{originalErrorMessage:e?.message});ro.warn(t.message)}}})).apply(this,arguments)}function Yy(r,e){return hp.apply(this,arguments)}function hp(){return(hp=K(function*(r,e){try{const n=(yield Ky()).transaction(ld,"readwrite");yield n.objectStore(ld).put(e,Qy(r)),yield n.done}catch(t){if(t instanceof Di)ro.warn(t.message);else{const n=ds.create("idb-set",{originalErrorMessage:t?.message});ro.warn(n.message)}}})).apply(this,arguments)}function Qy(r){return`${r.name}!${r.options.appId}`}class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pp(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){var e=this;return K(function*(){var t,n;try{const l=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=fp();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===d||e._heartbeatsCache.heartbeats.some(g=>g.date===d))return;if(e._heartbeatsCache.heartbeats.push({date:d,agent:l}),e._heartbeatsCache.heartbeats.length>30){const g=function Rl(r){if(0===r.length)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}(e._heartbeatsCache.heartbeats);e._heartbeatsCache.heartbeats.splice(g,1)}return e._storage.overwrite(e._heartbeatsCache)}catch(o){ro.warn(o)}})()}getHeartbeatsHeader(){var e=this;return K(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const n=fp(),{heartbeatsToSend:o,unsentEntries:l}=function mm(r,e=1024){const t=[];let n=r.slice();for(const o of r){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),Jy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Jy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}(e._heartbeatsCache.heartbeats),d=$(JSON.stringify({version:2,heartbeats:o}));return e._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(e._heartbeatsCache.heartbeats=l,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),d}catch(n){return ro.warn(n),""}})()}}function fp(){return(new Date).toISOString().substring(0,10)}class pp{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return K(function*(){return!!_u()&&function yu(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e((null===(l=o.error)||void 0===l?void 0:l.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return K(function*(){if(yield e._canUseIndexedDBPromise){const n=yield function gm(r){return mh.apply(this,arguments)}(e.app);return n?.heartbeats?n:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return K(function*(){var n;if(yield t._canUseIndexedDBPromise){const l=yield t.read();return Yy(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return K(function*(){var n;if(yield t._canUseIndexedDBPromise){const l=yield t.read();return Yy(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}})()}}function Jy(r){return $(JSON.stringify({version:2,heartbeats:r})).length}!function yh(r){Ga(new z("platform-logger",e=>new am(e),"PRIVATE")),Ga(new z("heartbeat",e=>new $E(e),"PRIVATE")),js(ch,Cl,r),js(ch,Cl,"esm2017"),js("fire-js","")}("");class vh{constructor(e,t){this._delegate=e,this.firebase=t,Bn(e,new z("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),wu(this._delegate)))}_getService(e,t=Al){var n;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&"EXPLICIT"===(null===(n=o.getComponent())||void 0===n?void 0:n.instantiationMode)&&o.initialize(),o.getImmediate({identifier:t})}_removeServiceInstance(e,t=Al){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Bn(this._delegate,e)}_addOrOverwriteComponent(e){dh(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ud=new Us("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_m=function Zy(){const r=function cd(r){const e={},t={__esModule:!0,initializeApp:function l(I,F={}){const L=ph(I,F);if(Hs(e,L.name))return e[L.name];const Q=new r(L,t);return e[L.name]=Q,Q},app:o,registerVersion:js,setLogLevel:dp,onLog:Wa,apps:null,SDK_VERSION:Ea,INTERNAL:{registerComponent:function g(I){const F=I.name,L=F.replace("-compat","");if(Ga(I)&&"PUBLIC"===I.type){const Q=(ue=o())=>{if("function"!=typeof ue[L])throw ud.create("invalid-app-argument",{appName:F});return ue[L]()};void 0!==I.serviceProps&&le(Q,I.serviceProps),t[L]=Q,r.prototype[L]=function(...ue){return this._getService.bind(this,F).apply(this,I.multipleInstances?ue:[])}}return"PUBLIC"===I.type?t[L]:null},removeApp:function n(I){delete e[I]},useAsService:function v(I,F){return"serverAuth"===F?null:F},modularAPIs:p}};function o(I){if(!Hs(e,I=I||Al))throw ud.create("no-app",{appName:I});return e[I]}return t.default=t,Object.defineProperty(t,"apps",{get:function d(){return Object.keys(e).map(I=>e[I])}}),o.App=r,t}(vh);return r.INTERNAL=Object.assign(Object.assign({},r.INTERNAL),{createFirebaseNamespace:Zy,extendNamespace:function e(t){le(r,t)},createSubscribe:np,ErrorFactory:Us,deepExtend:le}),r}(),Nl=new id("@firebase/app-compat");try{const r=rt();if(void 0!==r.firebase){Nl.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const e=r.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Nl.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Iu=_m;!function gp(r){js("@firebase/app-compat","0.3.1",r)}(),Iu.registerVersion("firebase","11.7.1","app-compat");var _p=G(655);const nv=function yp(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}},pc=function ym(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Eh=new Us("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dd=new id("@firebase/auth");function Ml(r,...e){dd.logLevel<=Lt.ERROR&&dd.error(`Auth (${Ea}): ${r}`,...e)}function Hi(r,...e){throw gc(r,...e)}function fi(r,...e){return gc(r,...e)}function Su(r,e,t){const n=Object.assign(Object.assign({},pc()),{[e]:t});return new Us("auth","Firebase",n).create(e,{appName:r.name})}function Ni(r){return Su(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qa(r,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Hi(r,"argument-error"),Su(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gc(r,...e){if("string"!=typeof r){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Eh.create(r,...e)}function gt(r,e,...t){if(!r)throw gc(e,...t)}function Ms(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ml(e),new Error(e)}function Do(r,e){r||Ms(e)}function Ru(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.href)||""}function Dh(){return"http:"===rv()||"https:"===rv()}function rv(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class Pl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Do(t>e,"Short delay should be less than long delay!"),this.isMobile=function di(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}()||Eo()}get(){return function iv(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Dh()||mu()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hd(r,e){Do(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Ol{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Em=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zE=new Pl(3e4,6e4);function Hr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function Mr(r,e,t,n){return Dm.apply(this,arguments)}function Dm(){return(Dm=K(function*(r,e,t,n,o={}){return Tm(r,o,K(function*(){let l={},d={};n&&("GET"===e?d=n:l={body:JSON.stringify(n)});const g=As(Object.assign({key:r.config.apiKey},d)).slice(1),v=yield r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const I=Object.assign({method:e,headers:v},l);return gu()||(I.referrerPolicy="no-referrer"),r.emulatorConfig&&D(r.emulatorConfig.host)&&(I.credentials="include"),Ol.fetch()(yield wm(r,r.config.apiHost,t,g),I)}))})).apply(this,arguments)}function Tm(r,e,t){return fd.apply(this,arguments)}function fd(){return(fd=K(function*(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},sv),e);try{const o=new WE(r),l=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=yield l.json();if("needConfirmation"in d)throw wh(r,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const g=l.ok?d.errorMessage:d.error.message,[v,I]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===v)throw wh(r,"credential-already-in-use",d);if("EMAIL_EXISTS"===v)throw wh(r,"email-already-in-use",d);if("USER_DISABLED"===v)throw wh(r,"user-disabled",d);const F=n[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(I)throw Su(r,F,I);Hi(r,F)}}catch(o){if(o instanceof Di)throw o;Hi(r,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function Da(r,e,t,n){return pd.apply(this,arguments)}function pd(){return(pd=K(function*(r,e,t,n,o={}){const l=yield Mr(r,e,t,n,o);return"mfaPendingCredential"in l&&Hi(r,"multi-factor-auth-required",{_serverResponse:l}),l})).apply(this,arguments)}function wm(r,e,t,n){return vp.apply(this,arguments)}function vp(){return(vp=K(function*(r,e,t,n){const o=`${e}${t}?${n}`,l=r,d=l.config.emulator?hd(r.config,o):`${r.config.apiScheme}://${o}`;return Em.includes(t)&&(yield l._persistenceManagerAvailable,"COOKIE"===l._getPersistenceType())?l._getPersistence()._getFinalTarget(d).toString():d})).apply(this,arguments)}function bp(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(fi(this.auth,"network-request-failed")),zE.get())})}}function wh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=fi(r,e,n);return o.customData._tokenResponse=t,o}function Ep(r){return void 0!==r&&void 0!==r.getResponse}function ov(r){return void 0!==r&&void 0!==r.enterprise}class av{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bp(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function mc(){return(mc=K(function*(r){return(yield Mr(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Im(r,e){return lv.apply(this,arguments)}function lv(){return(lv=K(function*(r,e){return Mr(r,"GET","/v2/recaptchaConfig",Hr(r,e))})).apply(this,arguments)}function Cm(){return(Cm=K(function*(r,e){return Mr(r,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kI(r,e){return uv.apply(this,arguments)}function uv(){return(uv=K(function*(r,e){return Mr(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function _c(r,e){return Am.apply(this,arguments)}function Am(){return(Am=K(function*(r,e){return Mr(r,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ih(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ch(){return(Ch=K(function*(r,e=!1){const t=T(r),n=yield t.getIdToken(e),o=xl(n);gt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l="object"==typeof o.firebase?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:n,authTime:Ih(To(o.auth_time)),issuedAtTime:Ih(To(o.iat)),expirationTime:Ih(To(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function To(r){return 1e3*Number(r)}function xl(r){const[e,t,n]=r.split(".");if(void 0===e||void 0===t||void 0===n)return Ml("JWT malformed, contained fewer than 3 sections"),null;try{const o=M(t);return o?JSON.parse(o):(Ml("Failed to decode base64 JWT payload"),null)}catch(o){return Ml("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Dp(r){const e=xl(r);return gt(e,"internal-error"),gt(typeof e.exp<"u","internal-error"),gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ta(r,e){return Ah.apply(this,arguments)}function Ah(){return(Ah=K(function*(r,e,t=!1){if(t)return e;try{return yield e}catch(n){throw n instanceof Di&&cv(n)&&r.auth.currentUser===r&&(yield r.auth.signOut()),n}})).apply(this,arguments)}function cv({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}class VI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(K(function*(){yield t.iteration()}),n)}iteration(){var e=this;return K(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class dv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ih(this.lastLoginAt),this.creationTime=Ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yc(r){return Sh.apply(this,arguments)}function Sh(){return(Sh=K(function*(r){var e;const t=r.auth,n=yield r.getIdToken(),o=yield Ta(r,_c(t,{idToken:n}));gt(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const d=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?pv(l.providerUserInfo):[],g=fv(r.providerData,d),F=!!r.isAnonymous&&!(r.email&&l.passwordHash||g?.length),L={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:g,metadata:new dv(l.createdAt,l.lastLoginAt),isAnonymous:F};Object.assign(r,L)})).apply(this,arguments)}function hv(){return(hv=K(function*(r){const e=T(r);yield yc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fv(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function pv(r){return r.map(e=>{var{providerId:t}=e,n=(0,_p._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Rh(){return(Rh=K(function*(r,e){const t=yield Tm(r,{},K(function*(){const n=As({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,d=yield wm(r,o,"/v1/token",`key=${l}`),g=yield r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Ol.fetch()(d,{method:"POST",headers:g,body:n})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Nh(){return(Nh=K(function*(r,e){return Mr(r,"POST","/v2/accounts:revokeToken",Hr(r,e))})).apply(this,arguments)}class f{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(typeof e.idToken<"u","internal-error"),gt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gt(0!==e.length,"internal-error");const t=Dp(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return K(function*(n,o=!1){return o||!t.accessToken||t.isExpired?(gt(t.refreshToken,n,"user-token-expired"),t.refreshToken?(yield t.refresh(n,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return K(function*(){const{accessToken:o,refreshToken:l,expiresIn:d}=yield function YE(r,e){return Rh.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(o,l,Number(d))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,d=new f;return n&&(gt("string"==typeof n,"internal-error",{appName:e}),d.refreshToken=n),o&&(gt("string"==typeof o,"internal-error",{appName:e}),d.accessToken=o),l&&(gt("number"==typeof l,"internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new f,this.toJSON())}_performRefresh(){return Ms("not implemented")}}function y(r,e){gt("string"==typeof r||typeof r>"u","internal-error",{appName:e})}class c{constructor(e){var{uid:t,auth:n,stsTokenManager:o}=e,l=(0,_p._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new dv(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return K(function*(){const n=yield Ta(t,t.stsTokenManager.getToken(t.auth,e));return gt(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function qE(r){return Ch.apply(this,arguments)}(this,e)}reload(){return function KE(r){return hv.apply(this,arguments)}(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new c(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return K(function*(n,o=!1){let l=!1;n.idToken&&n.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(n),l=!0),o&&(yield yc(t)),yield t.auth._persistUserIfCurrent(t),l&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return K(function*(){if(Nr(e.auth.app))return Promise.reject(Ni(e.auth));const t=yield e.getIdToken();return yield Ta(e,function xI(r,e){return Cm.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,o,l,d,g,v,I,F;const L=null!==(n=t.displayName)&&void 0!==n?n:void 0,Q=null!==(o=t.email)&&void 0!==o?o:void 0,ue=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,ye=null!==(d=t.photoURL)&&void 0!==d?d:void 0,Be=null!==(g=t.tenantId)&&void 0!==g?g:void 0,Ke=null!==(v=t._redirectEventId)&&void 0!==v?v:void 0,vt=null!==(I=t.createdAt)&&void 0!==I?I:void 0,Ct=null!==(F=t.lastLoginAt)&&void 0!==F?F:void 0,{uid:It,emailVerified:$t,isAnonymous:Ln,providerData:an,stsTokenManager:me}=t;gt(It&&me,e,"internal-error");const ie=f.fromJSON(this.name,me);gt("string"==typeof It,e,"internal-error"),y(L,e.name),y(Q,e.name),gt("boolean"==typeof $t,e,"internal-error"),gt("boolean"==typeof Ln,e,"internal-error"),y(ue,e.name),y(ye,e.name),y(Be,e.name),y(Ke,e.name),y(vt,e.name),y(Ct,e.name);const de=new c({uid:It,auth:e,email:Q,emailVerified:$t,displayName:L,isAnonymous:Ln,photoURL:ye,phoneNumber:ue,tenantId:Be,stsTokenManager:ie,createdAt:vt,lastLoginAt:Ct});return an&&Array.isArray(an)&&(de.providerData=an.map(ve=>Object.assign({},ve))),Ke&&(de._redirectEventId=Ke),de}static _fromIdTokenResponse(e,t){return K(function*(n,o,l=!1){const d=new f;d.updateFromServerResponse(o);const g=new c({uid:o.localId,auth:n,stsTokenManager:d,isAnonymous:l});return yield yc(g),g}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,n){return K(function*(){const o=t.users[0];gt(void 0!==o.localId,"internal-error");const l=void 0!==o.providerUserInfo?pv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash||l?.length),g=new f;g.updateFromIdToken(n);const v=new c({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),I={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new dv(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash||l?.length)};return Object.assign(v,I),v})()}}const b=new Map;function A(r){Do(r instanceof Function,"Expected a class definition");let e=b.get(r);return e?(Do(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,b.set(r,e),e)}const ne=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return K(function*(){return!0})()}_set(t,n){var o=this;return K(function*(){o.storage[t]=n})()}_get(t){var n=this;return K(function*(){const o=n.storage[t];return void 0===o?null:o})()}_remove(t){var n=this;return K(function*(){delete n.storage[t]})()}_addListener(t,n){}_removeListener(t,n){}}return r.type="NONE",r})();function ge(r,e,t){return`firebase:${r}:${e}:${t}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=ge(this.userKey,o.apiKey,l),this.fullPersistenceKey=ge("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return K(function*(){const t=yield e.persistence._get(e.fullUserKey);if(!t)return null;if("string"==typeof t){const n=yield _c(e.auth,{idToken:t}).catch(()=>{});return n?c._fromGetAccountInfoResponse(e.auth,n,t):null}return c._fromJSON(e.auth,t)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return K(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return K(function*(n,o,l="authUser"){if(!o.length)return new fe(A(ne),n,l);const d=(yield Promise.all(o.map(function(){var L=K(function*(Q){if(yield Q._isAvailable())return Q});return function(Q){return L.apply(this,arguments)}}()))).filter(L=>L);let g=d[0]||A(ne);const v=ge(l,n.config.apiKey,n.name);let I=null;for(const L of o)try{const Q=yield L._get(v);if(Q){let ue;if("string"==typeof Q){const ye=yield _c(n,{idToken:Q}).catch(()=>{});if(!ye)break;ue=yield c._fromGetAccountInfoResponse(n,ye,Q)}else ue=c._fromJSON(n,Q);L!==g&&(I=ue),g=L;break}}catch{}const F=d.filter(L=>L._shouldAllowMigration);return g._shouldAllowMigration&&F.length?(g=F[0],I&&(yield g._set(v,I.toJSON())),yield Promise.all(o.map(function(){var L=K(function*(Q){if(Q!==g)try{yield Q._remove(v)}catch{}});return function(Q){return L.apply(this,arguments)}}())),new fe(g,n,l)):new fe(g,n,l)}).apply(this,arguments)}}function Ue(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ft(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tn(e))return"Blackberry";if(_n(e))return"Webos";if(Ht(e))return"Safari";if((e.includes("chrome/")||At(e))&&!e.includes("edge/"))return"Chrome";if(Cn(e))return"Android";{const n=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===n?.length)return n[1]}return"Other"}function Xe(r=In()){return/firefox\//i.test(r)}function Ht(r=In()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function At(r=In()){return/crios\//i.test(r)}function Ft(r=In()){return/iemobile/i.test(r)}function Cn(r=In()){return/android/i.test(r)}function tn(r=In()){return/blackberry/i.test(r)}function _n(r=In()){return/webos/i.test(r)}function En(r=In()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Yn(r=In()){return En(r)||Cn(r)||_n(r)||tn(r)||/windows phone/i.test(r)||Ft(r)}function Xn(r,e=[]){let t;switch(r){case"Browser":t=Ue(In());break;case"Worker":t=`${Ue(In())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${n}`}class Or{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((d,g)=>{try{d(e(l))}catch(v){g(v)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return K(function*(){if(t.auth.currentUser===e)return;const n=[];try{for(const o of t.queue)yield o(e),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const l of n)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}function Mi(){return(Mi=K(function*(r,e={}){return Mr(r,"GET","/v2/passwordPolicy",Hr(r,e))})).apply(this,arguments)}class ji{constructor(e){var t,n,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=d.minPasswordLength)&&void 0!==t?t:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(o=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==o?o:"",this.forceUpgradeOnSignin=null!==(l=e.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,o,l,d,g;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,v),this.validatePasswordCharacterOptions(e,v),v.isValid&&(v.isValid=null===(t=v.meetsMinPasswordLength)||void 0===t||t),v.isValid&&(v.isValid=null===(n=v.meetsMaxPasswordLength)||void 0===n||n),v.isValid&&(v.isValid=null===(o=v.containsLowercaseLetter)||void 0===o||o),v.isValid&&(v.isValid=null===(l=v.containsUppercaseLetter)||void 0===l||l),v.isValid&&(v.isValid=null===(d=v.containsNumericCharacter)||void 0===d||d),v.isValid&&(v.isValid=null===(g=v.containsNonAlphanumericCharacter)||void 0===g||g),v}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class wo{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=A(t)),this._initializationPromise=this.queue(K(function*(){var o,l,d;if(!n._deleted&&(n.persistenceManager=yield fe.create(n,e),null===(o=n._resolvePersistenceManagerAvailable)||void 0===o||o.call(n),!n._deleted)){if(null!==(l=n._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch{}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(d=n.currentUser)||void 0===d?void 0:d.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return K(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return K(function*(){try{const n=yield _c(t,{idToken:e}),o=yield c._fromGetAccountInfoResponse(t,n,e);yield t.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return K(function*(){var n;if(Nr(t.app)){const g=t.app.settings.authIdToken;return g?new Promise(v=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(g).then(v,v))}):t.directlySetCurrentUser(null)}const o=yield t.assertedPersistence.getCurrentUser();let l=o,d=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const g=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,v=l?._redirectEventId,I=yield t.tryRedirectSignIn(e);(!g||g===v)&&I?.user&&(l=I.user,d=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(d)try{yield t.beforeStateQueue.runMiddleware(l)}catch(g){l=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(g))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return gt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return K(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return K(function*(){try{yield yc(e)}catch(n){if("auth/network-request-failed"!==n?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Th(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var e=this;return K(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return K(function*(){if(Nr(t.app))return Promise.reject(Ni(t));const n=e?T(e):null;return n&&gt(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return K(function*(n,o=!1){if(!t._deleted)return n&&gt(t.tenantId===n.tenantId,t,"tenant-id-mismatch"),o||(yield t.beforeStateQueue.runMiddleware(n)),t.queue(K(function*(){yield t.directlySetCurrentUser(n),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return K(function*(){return Nr(e.app)?Promise.reject(Ni(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Nr(this.app)?Promise.reject(Ni(this)):this.queue(K(function*(){yield t.assertedPersistence.setPersistence(A(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return K(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const n=t._getPasswordPolicyInternal();return n.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return K(function*(){const t=yield function _r(r){return Mi.apply(this,arguments)}(e),n=new ji(t);null===e.tenantId?e._projectPasswordPolicy=n:e._tenantPasswordPolicies[e.tenantId]=n})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Us("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}revokeAccessToken(e){var t=this;return K(function*(){if(t.currentUser){const n=yield t.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};null!=t.tenantId&&(o.tenantId=t.tenantId),yield function gv(r,e){return Nh.apply(this,arguments)}(t,o)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return K(function*(){const o=yield n.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return K(function*(){if(!t.redirectPersistenceManager){const n=e&&A(e)||t._popupRedirectResolver;gt(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[A(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return K(function*(){var n,o;return t._isInitialized&&(yield t.queue(K(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return K(function*(){if(e===t.currentUser)return t.queue(K(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(g,this,"internal-error"),g.then(()=>{d||l(this.currentUser)}),"function"==typeof t){const v=e.addObserver(t,n,o);return()=>{d=!0,v()}}{const v=e.addObserver(t);return()=>{d=!0,v()}}}directlySetCurrentUser(e){var t=this;return K(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return K(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();o&&(n["X-Firebase-Client"]=o);const l=yield e._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n})()}_getAppCheckToken(){var e=this;return K(function*(){var t;if(Nr(e.app)&&e.app.settings.appCheckToken)return e.app.settings.appCheckToken;const n=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return n?.error&&function bm(r,...e){dd.logLevel<=Lt.WARN&&dd.warn(`Auth (${Ea}): ${r}`,...e)}(`Error while retrieving App Check token: ${n.error}`),n?.token})()}}function Sn(r){return T(r)}class $s{constructor(e){this.auth=e,this.observer=null,this.addObserver=np(t=>this.observer=t)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wo={loadJS:()=>K(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hs(r){return Wo.loadJS(r)}function wa(r){return`__${r}${Math.floor(1e6*Math.random())}`}const Ya=1e12;class kl{constructor(e){this.auth=e,this.counter=Ya,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Pu(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ya;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Ya))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return K(function*(){var n;return null===(n=t._widgets.get(e||Ya))||void 0===n||n.execute(),""})()}}class Ec{constructor(){this.enterprise=new Qa}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Qa{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Pu{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o="string"==typeof e?document.getElementById(e):e;gt(o,"argument-error",{appName:t}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Tp(r){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<r;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ou="NO_RECAPTCHA";class Ph{constructor(e){this.type="recaptcha-enterprise",this.auth=Sn(e)}verify(){var e=this;return K(function*(t="verify",n=!1){function l(){return l=K(function*(g){if(!n){if(null==g.tenantId&&null!=g._agentRecaptchaConfig)return g._agentRecaptchaConfig.siteKey;if(null!=g.tenantId&&void 0!==g._tenantRecaptchaConfigs[g.tenantId])return g._tenantRecaptchaConfigs[g.tenantId].siteKey}return new Promise(function(){var v=K(function*(I,F){Im(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(L=>{if(void 0!==L.recaptchaKey){const Q=new av(L);return null==g.tenantId?g._agentRecaptchaConfig=Q:g._tenantRecaptchaConfigs[g.tenantId]=Q,I(Q.siteKey)}F(new Error("recaptcha Enterprise site key undefined"))}).catch(L=>{F(L)})});return function(I,F){return v.apply(this,arguments)}}())}),l.apply(this,arguments)}function d(g,v,I){const F=window.grecaptcha;ov(F)?F.enterprise.ready(()=>{F.enterprise.execute(g,{action:t}).then(L=>{v(L)}).catch(()=>{v(Ou)})}):I(Error("No reCAPTCHA enterprise script loaded."))}return e.auth.settings.appVerificationDisabledForTesting?(new Ec).execute("siteKey",{action:"verify"}):new Promise((g,v)=>{(function o(g){return l.apply(this,arguments)})(e.auth).then(I=>{if(!n&&ov(window.grecaptcha))d(I,g,v);else{if(typeof window>"u")return void v(new Error("RecaptchaVerifier is only supported in browser"));let F=function Ka(){return Wo.recaptchaEnterpriseScript}();0!==F.length&&(F+=I),hs(F).then(()=>{d(I,g,v)}).catch(L=>{v(L)})}}).catch(I=>{v(I)})})}).apply(this,arguments)}}function Dc(r,e,t){return Oh.apply(this,arguments)}function Oh(){return(Oh=K(function*(r,e,t,n=!1,o=!1){const l=new Ph(r);let d;if(o)d=Ou;else try{d=yield l.verify(t)}catch{d=yield l.verify(t,!0)}const g=Object.assign({},e);return"mfaSmsEnrollment"===t||"mfaSmsSignIn"===t?("phoneEnrollmentInfo"in g?Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:g.phoneEnrollmentInfo.phoneNumber,recaptchaToken:g.phoneEnrollmentInfo.recaptchaToken,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in g&&Object.assign(g,{phoneSignInInfo:{recaptchaToken:g.phoneSignInInfo.recaptchaToken,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),g):(Object.assign(g,n?{captchaResp:d}:{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g)})).apply(this,arguments)}function Fl(r,e,t,n,o){return gd.apply(this,arguments)}function gd(){return gd=K(function*(r,e,t,n,o){var l,d;if("EMAIL_PASSWORD_PROVIDER"===o){if(null!==(l=r._getRecaptchaConfig())&&void 0!==l&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const g=yield Dc(r,e,t,"getOobCode"===t);return n(r,g)}return n(r,e).catch(function(){var g=K(function*(v){if("auth/missing-recaptcha-token"===v.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const I=yield Dc(r,e,t,"getOobCode"===t);return n(r,I)}return Promise.reject(v)});return function(v){return g.apply(this,arguments)}}())}if("PHONE_PROVIDER"===o){if(null!==(d=r._getRecaptchaConfig())&&void 0!==d&&d.isProviderEnabled("PHONE_PROVIDER")){const g=yield Dc(r,e,t);return n(r,g).catch(function(){var v=K(function*(I){var F;if("AUDIT"===(null===(F=r._getRecaptchaConfig())||void 0===F?void 0:F.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===I.code||"auth/invalid-app-credential"===I.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const L=yield Dc(r,e,t,!1,!0);return n(r,L)}return Promise.reject(I)});return function(I){return v.apply(this,arguments)}}())}{const g=yield Dc(r,e,t,!1,!0);return n(r,g)}}return Promise.reject(o+" provider is not supported.")}),gd.apply(this,arguments)}function Sm(r){return wp.apply(this,arguments)}function wp(){return(wp=K(function*(r){const e=Sn(r),t=yield Im(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new av(t);null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new Ph(e).verify()})).apply(this,arguments)}function ku(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Ip(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}class Fu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,t){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}function Ap(r,e){return xh.apply(this,arguments)}function xh(){return(xh=K(function*(r,e){return Mr(r,"POST","/v1/accounts:resetPassword",Hr(r,e))})).apply(this,arguments)}function QE(r,e){return _v.apply(this,arguments)}function _v(){return(_v=K(function*(r,e){return Mr(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function yv(r,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=K(function*(r,e){return Mr(r,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function LI(r,e){return Rp.apply(this,arguments)}function Rp(){return(Rp=K(function*(r,e){return Mr(r,"POST","/v1/accounts:update",Hr(r,e))})).apply(this,arguments)}function Np(r,e){return vv.apply(this,arguments)}function vv(){return(vv=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithPassword",Hr(r,e))})).apply(this,arguments)}function Nm(r,e){return bv.apply(this,arguments)}function bv(){return(bv=K(function*(r,e){return Mr(r,"POST","/v1/accounts:sendOobCode",Hr(r,e))})).apply(this,arguments)}function BI(r,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=K(function*(r,e){return Nm(r,e)})).apply(this,arguments)}function UI(r,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=K(function*(r,e){return Nm(r,e)})).apply(this,arguments)}function kh(r,e){return Ja.apply(this,arguments)}function Ja(){return(Ja=K(function*(r,e){return Nm(r,e)})).apply(this,arguments)}function HI(r,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=K(function*(r,e){return Nm(r,e)})).apply(this,arguments)}function JE(){return(JE=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,e))})).apply(this,arguments)}function XE(){return(XE=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithEmailLink",Hr(r,e))})).apply(this,arguments)}class Fh extends Fu{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fh(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Fh(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return K(function*(){switch(t.signInMethod){case"password":return Fl(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Np,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function yR(r,e){return JE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Hi(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return K(function*(){switch(n.signInMethod){case"password":return Fl(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yv,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function ZE(r,e){return XE.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:Hi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Tc(r,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithIdp",Hr(r,e))})).apply(this,arguments)}class Za extends Fu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:o}=t,l=(0,_p._T)(t,["providerId","signInMethod"]);if(!n||!o)return null;const d=new Za(n,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){return Tc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=As(t)}return e}}function eD(r,e){return wv.apply(this,arguments)}function wv(){return(wv=K(function*(r,e){return Mr(r,"POST","/v1/accounts:sendVerificationCode",Hr(r,e))})).apply(this,arguments)}function Iv(){return(Iv=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithPhoneNumber",Hr(r,e))})).apply(this,arguments)}function Cv(){return(Cv=K(function*(r,e){const t=yield Da(r,"POST","/v1/accounts:signInWithPhoneNumber",Hr(r,e));if(t.temporaryProof)throw wh(r,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const $I={USER_NOT_FOUND:"user-not-found"};function Av(){return(Av=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithPhoneNumber",Hr(r,Object.assign(Object.assign({},e),{operation:"REAUTH"})),$I)})).apply(this,arguments)}class wc extends Fu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new wc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new wc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Xa(r,e){return Iv.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function tD(r,e){return Cv.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function GI(r,e){return Av.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:l}=e;return n||t||o||l?new wc({verificationId:t,verificationCode:n,phoneNumber:o,temporaryProof:l}):null}}class Mp{constructor(e){var t,n,o,l,d,g;const v=ma(_a(e)),I=null!==(t=v.apiKey)&&void 0!==t?t:null,F=null!==(n=v.oobCode)&&void 0!==n?n:null,L=function zI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=v.mode)&&void 0!==o?o:null);gt(I&&F&&L,"argument-error"),this.apiKey=I,this.operation=L,this.code=F,this.continueUrl=null!==(l=v.continueUrl)&&void 0!==l?l:null,this.languageCode=null!==(d=v.lang)&&void 0!==d?d:null,this.tenantId=null!==(g=v.tenantId)&&void 0!==g?g:null}static parseLink(e){const t=function WI(r){const e=ma(_a(r)).link,t=e?ma(_a(e)).deep_link_id:null,n=ma(_a(r)).deep_link_id;return(n?ma(_a(n)).link:null)||n||t||e||r}(e);try{return new Mp(t)}catch{return null}}}let Pm=(()=>{class r{constructor(){this.providerId=r.PROVIDER_ID}static credential(t,n){return Fh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const o=Mp.parseLink(n);return gt(o,"argument-error"),Fh._fromEmailAndCode(t,o.code,o.tenantId)}}return r.PROVIDER_ID="password",r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",r.EMAIL_LINK_SIGN_IN_METHOD="emailLink",r})();class Vl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _d extends Vl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vh extends _d{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return gt("providerId"in t&&"signInMethod"in t,"argument-error"),Za._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return gt(e.idToken||e.accessToken,"argument-error"),Za._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Vh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Vh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:o,pendingToken:l,nonce:d,providerId:g}=e;if(!n&&!o&&!t&&!l||!g)return null;try{return new Vh(g)._credential({idToken:t,accessToken:n,nonce:d,pendingToken:l})}catch{return null}}}let nD=(()=>{class r extends _d{constructor(){super("facebook.com")}static credential(t){return Za._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch{return null}}}return r.FACEBOOK_SIGN_IN_METHOD="facebook.com",r.PROVIDER_ID="facebook.com",r})(),Sv=(()=>{class r extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Za._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:o}=t;if(!n&&!o)return null;try{return r.credential(n,o)}catch{return null}}}return r.GOOGLE_SIGN_IN_METHOD="google.com",r.PROVIDER_ID="google.com",r})(),rD=(()=>{class r extends _d{constructor(){super("github.com")}static credential(t){return Za._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return r.credential(t.oauthAccessToken)}catch{return null}}}return r.GITHUB_SIGN_IN_METHOD="github.com",r.PROVIDER_ID="github.com",r})();class Lh extends Fu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Tc(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tc(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:o,pendingToken:l}=t;return n&&o&&l&&n===o?new Lh(n,l):null}static _create(e,t){return new Lh(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rv extends Vl{constructor(e){gt(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Rv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Rv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Lh.fromJSON(e);return gt(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Lh._create(n,t)}catch{return null}}}let Nv=(()=>{class r extends _d{constructor(){super("twitter.com")}static credential(t,n){return Za._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=t;if(!n||!o)return null;try{return r.credential(n,o)}catch{return null}}}return r.TWITTER_SIGN_IN_METHOD="twitter.com",r.PROVIDER_ID="twitter.com",r})();function Mv(r,e){return Vu.apply(this,arguments)}function Vu(){return(Vu=K(function*(r,e){return Da(r,"POST","/v1/accounts:signUp",Hr(r,e))})).apply(this,arguments)}class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n){return K(function*(o,l,d,g=!1){const v=yield c._fromIdTokenResponse(o,d,g),I=Om(d);return new Ca({user:v,providerId:I,_tokenResponse:d,operationType:l})}).apply(this,arguments)}static _forOperation(e,t,n){return K(function*(){yield e._updateTokensIfNecessary(n,!0);const o=Om(n);return new Ca({user:e,providerId:o,_tokenResponse:n,operationType:t})})()}}function Om(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}function Ov(){return(Ov=K(function*(r){var e;if(Nr(r.app))return Promise.reject(Ni(r));const t=Sn(r);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Ca({user:t.currentUser,providerId:null,operationType:"signIn"});const n=yield Mv(t,{returnSecureToken:!0}),o=yield Ca._fromIdTokenResponse(t,"signIn",n,!0);return yield t._updateCurrentUser(o.user),o})).apply(this,arguments)}class xv extends Di{constructor(e,t,n,o){var l;super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,xv.prototype),this.customData={appName:e.name,tenantId:null!==(l=e.tenantId)&&void 0!==l?l:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new xv(e,t,n,o)}}function KI(r,e,t,n){return("reauthenticate"===e?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw"auth/multi-factor-auth-required"===l.code?xv._fromErrorAndOperation(r,l,e,n):l})}function YI(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}function xm(){return(xm=K(function*(r,e){const t=T(r);yield Lu(!0,t,e);const{providerUserInfo:n}=yield kI(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),o=YI(n||[]);return t.providerData=t.providerData.filter(l=>o.has(l.providerId)),o.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})).apply(this,arguments)}function sD(r,e){return kv.apply(this,arguments)}function kv(){return(kv=K(function*(r,e,t=!1){const n=yield Ta(r,e._linkToIdToken(r.auth,yield r.getIdToken()),t);return Ca._forOperation(r,"link",n)})).apply(this,arguments)}function Lu(r,e,t){return Fv.apply(this,arguments)}function Fv(){return(Fv=K(function*(r,e,t){yield yc(e);const o=!1===r?"provider-already-linked":"no-such-provider";gt(YI(e.providerData).has(t)===r,e.auth,o)})).apply(this,arguments)}function Vv(r,e){return Bh.apply(this,arguments)}function Bh(){return(Bh=K(function*(r,e,t=!1){const{auth:n}=r;if(Nr(n.app))return Promise.reject(Ni(n));const o="reauthenticate";try{const l=yield Ta(r,KI(n,o,e,r),t);gt(l.idToken,n,"internal-error");const d=xl(l.idToken);gt(d,n,"internal-error");const{sub:g}=d;return gt(r.uid===g,n,"user-mismatch"),Ca._forOperation(r,o,l)}catch(l){throw"auth/user-not-found"===l?.code&&Hi(n,"user-mismatch"),l}})).apply(this,arguments)}function oD(r,e){return km.apply(this,arguments)}function km(){return(km=K(function*(r,e,t=!1){if(Nr(r.app))return Promise.reject(Ni(r));const n="signIn",o=yield KI(r,n,e),l=yield Ca._fromIdTokenResponse(r,n,o);return t||(yield r._updateCurrentUser(l.user)),l})).apply(this,arguments)}function Fm(r,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=K(function*(r,e){return oD(Sn(r),e)})).apply(this,arguments)}function aD(r,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=K(function*(r,e){const t=T(r);return yield Lu(!1,t,e.providerId),sD(t,e)})).apply(this,arguments)}function lD(r,e){return Vm.apply(this,arguments)}function Vm(){return(Vm=K(function*(r,e){return Vv(T(r),e)})).apply(this,arguments)}function JI(r,e){return Lm.apply(this,arguments)}function Lm(){return(Lm=K(function*(r,e){return Da(r,"POST","/v1/accounts:signInWithCustomToken",Hr(r,e))})).apply(this,arguments)}function Pp(){return(Pp=K(function*(r,e){if(Nr(r.app))return Promise.reject(Ni(r));const t=Sn(r),n=yield JI(t,{token:e,returnSecureToken:!0}),o=yield Ca._fromIdTokenResponse(t,"signIn",n);return yield t._updateCurrentUser(o.user),o})).apply(this,arguments)}class Bm{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Op._fromServerResponse(e,t):"totpInfo"in t?Uv._fromServerResponse(e,t):Hi(e,"internal-error")}}class Op extends Bm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Op(t)}}class Uv extends Bm{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Uv(t)}}function Hv(r,e,t){var n;gt((null===(n=t.url)||void 0===n?void 0:n.length)>0,r,"invalid-continue-uri"),gt(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),gt(typeof t.linkDomain>"u"||t.linkDomain.length>0,r,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(gt(t.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(gt(t.android.packageName.length>0,r,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Ic(r){return Um.apply(this,arguments)}function Um(){return(Um=K(function*(r){const e=Sn(r);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Uh(){return(Uh=K(function*(r,e,t){const n=Sn(r),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Hv(n,o,t),yield Fl(n,o,"getOobCode",UI,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Hm(){return Hm=K(function*(r,e,t){yield Ap(T(r),{oobCode:e,newPassword:t}).catch(function(){var n=K(function*(o){throw"auth/password-does-not-meet-requirements"===o.code&&Ic(r),o});return function(o){return n.apply(this,arguments)}}())}),Hm.apply(this,arguments)}function xp(){return(xp=K(function*(r,e){yield LI(T(r),{oobCode:e})})).apply(this,arguments)}function Ll(r,e){return kp.apply(this,arguments)}function kp(){return(kp=K(function*(r,e){const t=T(r),n=yield Ap(t,{oobCode:e}),o=n.requestType;switch(gt(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":gt(n.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":gt(n.mfaInfo,t,"internal-error");default:gt(n.email,t,"internal-error")}let l=null;return n.mfaInfo&&(l=Bm._fromServerResponse(Sn(t),n.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.newEmail:n.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===n.requestType?n.email:n.newEmail)||null,multiFactorInfo:l},operation:o}})).apply(this,arguments)}function Fp(){return(Fp=K(function*(r,e){const{data:t}=yield Ll(T(r),e);return t.email})).apply(this,arguments)}function jm(){return(jm=K(function*(r,e,t){if(Nr(r.app))return Promise.reject(Ni(r));const n=Sn(r),d=yield Fl(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mv,"EMAIL_PASSWORD_PROVIDER").catch(v=>{throw"auth/password-does-not-meet-requirements"===v.code&&Ic(r),v}),g=yield Ca._fromIdTokenResponse(n,"signIn",d);return yield n._updateCurrentUser(g.user),g})).apply(this,arguments)}function Hh(){return(Hh=K(function*(r,e,t){const n=Sn(r),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};(function l(d,g){gt(g.handleCodeInApp,n,"argument-error"),g&&Hv(n,d,g)})(o,t),yield Fl(n,o,"getOobCode",kh,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Vp(){return(Vp=K(function*(r,e,t){if(Nr(r.app))return Promise.reject(Ni(r));const n=T(r),o=Pm.credentialWithLink(e,t||Ru());return gt(o._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),Fm(n,o)})).apply(this,arguments)}function ER(r,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=K(function*(r,e){return Mr(r,"POST","/v1/accounts:createAuthUri",Hr(r,e))})).apply(this,arguments)}function zv(){return(zv=K(function*(r,e){const n={identifier:e,continueUri:Dh()?Ru():"http://localhost"},{signinMethods:o}=yield ER(T(r),n);return o||[]})).apply(this,arguments)}function Gm(){return(Gm=K(function*(r,e){const t=T(r),o={requestType:"VERIFY_EMAIL",idToken:yield r.getIdToken()};e&&Hv(t.auth,o,e);const{email:l}=yield BI(t.auth,o);l!==r.email&&(yield r.reload())})).apply(this,arguments)}function Wv(){return(Wv=K(function*(r,e,t){const n=T(r),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield r.getIdToken(),newEmail:e};t&&Hv(n.auth,l,t);const{email:d}=yield HI(n.auth,l);d!==r.email&&(yield r.reload())})).apply(this,arguments)}function TR(r,e){return zm.apply(this,arguments)}function zm(){return(zm=K(function*(r,e){return Mr(r,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qv(){return(qv=K(function*(r,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const n=T(r),l={idToken:yield n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=yield Ta(n,TR(n.auth,l));n.displayName=d.displayName||null,n.photoURL=d.photoUrl||null;const g=n.providerData.find(({providerId:v})=>"password"===v);g&&(g.displayName=n.displayName,g.photoURL=n.photoURL),yield n._updateTokensIfNecessary(d)})).apply(this,arguments)}function t1(r,e,t){return fD.apply(this,arguments)}function fD(){return(fD=K(function*(r,e,t){const{auth:n}=r,l={idToken:yield r.getIdToken(),returnSecureToken:!0};e&&(l.email=e),t&&(l.password=t);const d=yield Ta(r,QE(n,l));yield r._updateTokensIfNecessary(d,!0)})).apply(this,arguments)}class Lp{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class n1 extends Lp{constructor(e,t,n,o){super(e,t,n),this.username=o}}class CR extends Lp{constructor(e,t){super(e,"facebook.com",t)}}class AR extends n1{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class SR extends Lp{constructor(e,t){super(e,"google.com",t)}}class RR extends n1{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Cc(r){const{user:e,_tokenResponse:t}=r;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function IR(r){var e,t;if(!r)return null;const{providerId:n}=r,o=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},l=r.isNewUser||"identitytoolkit#SignupNewUserResponse"===r.kind;if(!n&&r?.idToken){const d=null===(t=null===(e=xl(r.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(d)return new Lp(l,"anonymous"!==d&&"custom"!==d?d:null)}if(!n)return null;switch(n){case"facebook.com":return new CR(l,o);case"github.com":return new AR(l,o);case"google.com":return new SR(l,o);case"twitter.com":return new RR(l,o,r.screenName||null);case"custom":case"anonymous":return new Lp(l,null);default:return new Lp(l,n,o)}}(t)}class vd{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new vd("enroll",e,t)}static _fromMfaPendingCredential(e){return new vd("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return vd._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(n=e.multiFactorSession)&&void 0!==n&&n.idToken)return vd._fromIdtoken(e.multiFactorSession.idToken)}return null}}class jh{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Sn(e),o=t.customData._serverResponse,l=(o.mfaInfo||[]).map(g=>Bm._fromServerResponse(n,g));gt(o.mfaPendingCredential,n,"internal-error");const d=vd._fromMfaPendingCredential(o.mfaPendingCredential);return new jh(d,l,function(){var g=K(function*(v){const I=yield v._process(n,d);delete o.mfaInfo,delete o.mfaPendingCredential;const F=Object.assign(Object.assign({},o),{idToken:I.idToken,refreshToken:I.refreshToken});switch(t.operationType){case"signIn":const L=yield Ca._fromIdTokenResponse(n,t.operationType,F);return yield n._updateCurrentUser(L.user),L;case"reauthenticate":return gt(t.user,n,"internal-error"),Ca._forOperation(t.user,t.operationType,F);default:Hi(n,"internal-error")}});return function(v){return g.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return K(function*(){return t.signInResolver(e)})()}}function Wm(r,e){return Mr(r,"POST","/v2/accounts/mfaEnrollment:start",Hr(r,e))}class Km{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(n=>Bm._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new Km(e)}getSession(){var e=this;return K(function*(){return vd._fromIdtoken(yield e.user.getIdToken(),e.user)})()}enroll(e,t){var n=this;return K(function*(){const o=e,l=yield n.getSession(),d=yield Ta(n.user,o._process(n.user.auth,l,t));return yield n.user._updateTokensIfNecessary(d),n.user.reload()})()}unenroll(e){var t=this;return K(function*(){const n="string"==typeof e?e:e.uid,o=yield t.user.getIdToken();try{const l=yield Ta(t.user,function _D(r,e){return Mr(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Hr(r,e))}(t.user.auth,{idToken:o,mfaEnrollmentId:n}));t.enrolledFactors=t.enrolledFactors.filter(({uid:d})=>d!==n),yield t.user._updateTokensIfNecessary(l),yield t.user.reload()}catch(l){throw l}})()}}const Up=new WeakMap,Hp="__sak";class Ym{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jp=(()=>{class r extends Ym{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yn(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),l=this.localCache[n];o!==l&&t(n,l,o)}}onStorageEvent(t,n=!1){if(!t.key)return void this.forAllChangedKeys((g,v,I)=>{this.notifyListeners(g,I)});const o=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const g=this.storage.getItem(o);!n&&this.localCache[o]===g||this.notifyListeners(o,g)},d=this.storage.getItem(o);!function An(){return ed()&&10===document.documentMode}()||d===t.newValue||t.newValue===t.oldValue?l():setTimeout(l,10)}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,n){var o=()=>super._set,l=this;return K(function*(){yield o().call(l,t,n),l.localCache[t]=JSON.stringify(n)})()}_get(t){var n=()=>super._get,o=this;return K(function*(){const l=yield n().call(o,t);return o.localCache[t]=JSON.stringify(l),l})()}_remove(t){var n=()=>super._remove,o=this;return K(function*(){yield n().call(o,t),delete o.localCache[t]})()}}return r.type="LOCAL",r})(),Ac=(()=>{class r extends Ym{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}return r.type="SESSION",r})();let c1=(()=>{class r{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const o=new r(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}handleEvent(t){var n=this;return K(function*(){const o=t,{eventId:l,eventType:d,data:g}=o.data,v=n.handlersMap[d];if(!v?.size)return;o.ports[0].postMessage({status:"ack",eventId:l,eventType:d});const I=Array.from(v).map(function(){var L=K(function*(Q){return Q(o.origin,g)});return function(Q){return L.apply(this,arguments)}}()),F=yield function LR(r){return Promise.all(r.map(function(){var e=K(function*(t){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}});return function(t){return e.apply(this,arguments)}}()))}(I);o.ports[0].postMessage({status:"done",eventId:l,eventType:d,response:F})})()}_subscribe(t,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return r.receivers=[],r})();function bd(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(10*Math.random());return r+t}class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var n=this;return K(function*(o,l,d=50){const g=typeof MessageChannel<"u"?new MessageChannel:null;if(!g)throw new Error("connection_unavailable");let v,I;return new Promise((F,L)=>{const Q=bd("",20);g.port1.start();const ue=setTimeout(()=>{L(new Error("unsupported_event"))},d);I={messageChannel:g,onMessage(ye){const Be=ye;if(Be.data.eventId===Q)switch(Be.data.status){case"ack":clearTimeout(ue),v=setTimeout(()=>{L(new Error("timeout"))},3e3);break;case"done":clearTimeout(v),F(Be.data.response);break;default:clearTimeout(ue),clearTimeout(v),L(new Error("invalid_response"))}}},n.handlers.add(I),g.port1.addEventListener("message",I.onMessage),n.target.postMessage({eventType:o,eventId:Q,data:l},[g.port2])}).finally(()=>{I&&n.removeMessageHandler(I)})}).apply(this,arguments)}}function $i(){return window}function Zv(){return typeof $i().WorkerGlobalScope<"u"&&"function"==typeof $i().importScripts}function Xv(){return(Xv=K(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ED="firebaseLocalStorageDb",$p="firebaseLocalStorage",TD="fbase_key";class Io{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zh(r,e){return r.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function e0(){const r=indexedDB.open(ED,1);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore($p,{keyPath:TD})}catch(o){t(o)}}),r.addEventListener("success",K(function*(){const n=r.result;n.objectStoreNames.contains($p)?e(n):(n.close(),yield function f1(){const r=indexedDB.deleteDatabase(ED);return new Io(r).toPromise()}(),e(yield e0()))}))})}function p1(r,e,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=K(function*(r,e,t){const n=zh(r,!0).put({[TD]:e,value:t});return new Io(n).toPromise()})).apply(this,arguments)}function t0(){return(t0=K(function*(r,e){const t=zh(r,!1).get(e),n=yield new Io(t).toPromise();return void 0===n?null:n.value})).apply(this,arguments)}function wD(r,e){const t=zh(r,!0).delete(e);return new Io(t).toPromise()}const Bu=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return K(function*(){return t.db||(t.db=yield e0()),t.db})()}_withRetries(t){var n=this;return K(function*(){let o=0;for(;;)try{const l=yield n._openDb();return yield t(l)}catch(l){if(o++>3)throw l;n.db&&(n.db.close(),n.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return K(function*(){return Zv()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return K(function*(){t.receiver=c1._getInstance(function h1(){return Zv()?self:null}()),t.receiver._subscribe("keyChanged",function(){var n=K(function*(o,l){return{keyProcessed:(yield t._poll()).includes(l.key)}});return function(o,l){return n.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var n=K(function*(o,l){return["keyChanged"]});return function(o,l){return n.apply(this,arguments)}}())})()}initializeSender(){var t=this;return K(function*(){var n,o;if(t.activeServiceWorker=yield function vD(){return Xv.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new yD(t.activeServiceWorker);const l=yield t.sender._send("ping",{},800);!l||(null===(n=l[0])||void 0===n?void 0:n.fulfilled)&&(null===(o=l[0])||void 0===o?void 0:o.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var n=this;return K(function*(){if(n.sender&&n.activeServiceWorker&&function bD(){var r;return(null===(r=navigator?.serviceWorker)||void 0===r?void 0:r.controller)||null}()===n.activeServiceWorker)try{yield n.sender._send("keyChanged",{key:t},n.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return K(function*(){try{if(!indexedDB)return!1;const t=yield e0();return yield p1(t,Hp,"1"),yield wD(t,Hp),!0}catch{}return!1})()}_withPendingWrite(t){var n=this;return K(function*(){n.pendingWrites++;try{yield t()}finally{n.pendingWrites--}})()}_set(t,n){var o=this;return K(function*(){return o._withPendingWrite(K(function*(){return yield o._withRetries(l=>p1(l,t,n)),o.localCache[t]=n,o.notifyServiceWorker(t)}))})()}_get(t){var n=this;return K(function*(){const o=yield n._withRetries(l=>function g1(r,e){return t0.apply(this,arguments)}(l,t));return n.localCache[t]=o,o})()}_remove(t){var n=this;return K(function*(){return n._withPendingWrite(K(function*(){return yield n._withRetries(o=>wD(o,t)),delete n.localCache[t],n.notifyServiceWorker(t)}))})()}_poll(){var t=this;return K(function*(){const n=yield t._withRetries(d=>{const g=zh(d,!1).getAll();return new Io(g).toPromise()});if(!n)return[];if(0!==t.pendingWrites)return[];const o=[],l=new Set;if(0!==n.length)for(const{fbase_key:d,value:g}of n)l.add(d),JSON.stringify(t.localCache[d])!==JSON.stringify(g)&&(t.notifyListeners(d,g),o.push(d));for(const d of Object.keys(t.localCache))t.localCache[d]&&!l.has(d)&&(t.notifyListeners(d,null),o.push(d));return o})()}notifyListeners(t,n){this.localCache[t]=n;const o=this.listeners[t];if(o)for(const l of Array.from(o))l(n)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(K(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return r.type="LOCAL",r})();function Jm(r,e){return Mr(r,"POST","/v2/accounts/mfaSignIn:start",Hr(r,e))}const Gp=wa("rcb"),HR=new Pl(3e4,6e4);class ID{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=$i().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return gt(function CD(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ep($i().grecaptcha)?Promise.resolve($i().grecaptcha):new Promise((n,o)=>{const l=$i().setTimeout(()=>{o(fi(e,"network-request-failed"))},HR.get());$i()[Gp]=()=>{$i().clearTimeout(l),delete $i()[Gp];const g=$i().grecaptcha;if(!g||!Ep(g))return void o(fi(e,"internal-error"));const v=g.render;g.render=(I,F)=>{const L=v(I,F);return this.counter++,L},this.hostLanguage=t,n(g)},hs(`${function Mh(){return Wo.recaptchaV2Script}()}?${As({onload:Gp,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(l),o(fi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=$i().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class AD{load(e){return K(function*(){return new kl(e)})()}clearedOneInstance(){}}const Wh="recaptcha",r0={theme:"light",type:"image"};class Uu{constructor(e,t,n=Object.assign({},r0)){this.parameters=n,this.type=Wh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(e),this.isInvisible="invisible"===this.parameters.size,gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o="string"==typeof t?document.getElementById(t):t;gt(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new AD:new ID,this.validateStartingState()}verify(){var e=this;return K(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(l=>{const d=g=>{!g||(e.tokenChangeListeners.delete(d),l(g))};e.tokenChangeListeners.add(d),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){gt(!this.parameters.sitekey,this.auth,"argument-error"),gt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(n=>n(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=$i()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){gt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return K(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return K(function*(){gt(Dh()&&!Zv(),e.auth,"internal-error"),yield function Xm(){let r=null;return new Promise(e=>{"complete"!==document.readyState?(r=()=>e(),window.addEventListener("load",r)):e()}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function Nu(r){return mc.apply(this,arguments)}(e.auth);gt(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return gt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qh{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=wc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function s0(){return(s0=K(function*(r,e,t){if(Nr(r.app))return Promise.reject(Ni(r));const n=Sn(r),o=yield Sc(n,e,T(t));return new qh(o,l=>Fm(n,l))})).apply(this,arguments)}function e_(){return(e_=K(function*(r,e,t){const n=T(r);yield Lu(!1,n,"phone");const o=yield Sc(n.auth,e,T(t));return new qh(o,l=>aD(n,l))})).apply(this,arguments)}function a0(){return(a0=K(function*(r,e,t){const n=T(r);if(Nr(n.auth.app))return Promise.reject(Ni(n.auth));const o=yield Sc(n.auth,e,T(t));return new qh(o,l=>lD(n,l))})).apply(this,arguments)}function Sc(r,e,t){return l0.apply(this,arguments)}function l0(){return l0=K(function*(r,e,t){var n;if(!r._getRecaptchaConfig())try{yield Sm(r)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"==typeof e?{phoneNumber:e}:e,"session"in o){const l=o.session;if("phoneNumber"in o){gt("enroll"===l.type,r,"internal-error");const d={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Fl(r,d,"mfaSmsEnrollment",function(){var F=K(function*(L,Q){return Q.phoneEnrollmentInfo.captchaResponse===Ou?(gt(t?.type===Wh,L,"argument-error"),Wm(L,yield SD(L,Q,t))):Wm(L,Q)});return function(Q,ue){return F.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(F=>Promise.reject(F))).phoneSessionInfo.sessionInfo}{gt("signin"===l.type,r,"internal-error");const d=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;gt(d,r,"missing-multi-factor-info");const g={mfaPendingCredential:l.credential,mfaEnrollmentId:d,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Fl(r,g,"mfaSmsSignIn",function(){var L=K(function*(Q,ue){return ue.phoneSignInInfo.captchaResponse===Ou?(gt(t?.type===Wh,Q,"argument-error"),Jm(Q,yield SD(Q,ue,t))):Jm(Q,ue)});return function(ue,ye){return L.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(L=>Promise.reject(L))).phoneResponseInfo.sessionInfo}}{const l={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Fl(r,l,"sendVerificationCode",function(){var I=K(function*(F,L){return L.captchaResponse===Ou?(gt(t?.type===Wh,F,"argument-error"),eD(F,yield SD(F,L,t))):eD(F,L)});return function(L,Q){return I.apply(this,arguments)}}(),"PHONE_PROVIDER").catch(I=>Promise.reject(I))).sessionInfo}}finally{t?._reset()}}),l0.apply(this,arguments)}function u0(){return(u0=K(function*(r,e){const t=T(r);if(Nr(t.auth.app))return Promise.reject(Ni(t.auth));yield sD(t,e)})).apply(this,arguments)}function SD(r,e,t){return c0.apply(this,arguments)}function c0(){return(c0=K(function*(r,e,t){gt(t.type===Wh,r,"argument-error");const n=yield t.verify();gt("string"==typeof n,r,"argument-error");const o=Object.assign({},e);return"phoneEnrollmentInfo"in o?(Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:o.phoneEnrollmentInfo.phoneNumber,recaptchaToken:n,captchaResponse:o.phoneEnrollmentInfo.captchaResponse,clientType:o.phoneEnrollmentInfo.clientType,recaptchaVersion:o.phoneEnrollmentInfo.recaptchaVersion}}),o):"phoneSignInInfo"in o?(Object.assign(o,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:o.phoneSignInInfo.captchaResponse,clientType:o.phoneSignInInfo.clientType,recaptchaVersion:o.phoneSignInInfo.recaptchaVersion}}),o):(Object.assign(o,{recaptchaToken:n}),o)})).apply(this,arguments)}let Wp=(()=>{class r{constructor(t){this.providerId=r.PROVIDER_ID,this.auth=Sn(t)}verifyPhoneNumber(t,n){return Sc(this.auth,t,T(n))}static credential(t,n){return wc._fromVerification(t,n)}static credentialFromResult(t){return r.credentialFromTaggedObject(t)}static credentialFromError(t){return r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:n,temporaryProof:o}=t;return n&&o?wc._fromTokenResponse(n,o):null}}return r.PROVIDER_ID="phone",r.PHONE_SIGN_IN_METHOD="phone",r})();function Ed(r,e){return e?A(e):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class t_ extends Fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function d0(r){return oD(r.auth,new t_(r),r.bypassAuthState)}function y1(r){const{auth:e,user:t}=r;return gt(t,e,"internal-error"),Vv(t,new t_(r),r.bypassAuthState)}function h0(r){return f0.apply(this,arguments)}function f0(){return(f0=K(function*(r){const{auth:e,user:t}=r;return gt(t,e,"internal-error"),sD(t,new t_(r),r.bypassAuthState)})).apply(this,arguments)}class RD{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=K(function*(n,o){e.pendingPromise={resolve:n,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(l){e.reject(l)}});return function(n,o){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return K(function*(){const{urlResponse:n,sessionId:o,postBody:l,tenantId:d,error:g,type:v}=e;if(g)return void t.reject(g);const I={auth:t.auth,requestUri:n,sessionId:o,tenantId:d||void 0,postBody:l||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(v)(I))}catch(F){t.reject(F)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d0;case"linkViaPopup":case"linkViaRedirect":return h0;case"reauthViaPopup":case"reauthViaRedirect":return y1;default:Hi(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const v1=new Pl(2e3,1e4);function p0(){return(p0=K(function*(r,e,t){if(Nr(r.app))return Promise.reject(fi(r,"operation-not-supported-in-this-environment"));const n=Sn(r);qa(r,e,Vl);const o=Ed(n,t);return new Td(n,"signInViaPopup",e,o).executeNotNull()})).apply(this,arguments)}function Kh(){return(Kh=K(function*(r,e,t){const n=T(r);if(Nr(n.auth.app))return Promise.reject(fi(n.auth,"operation-not-supported-in-this-environment"));qa(n.auth,e,Vl);const o=Ed(n.auth,t);return new Td(n.auth,"reauthViaPopup",e,o,n).executeNotNull()})).apply(this,arguments)}function ND(){return(ND=K(function*(r,e,t){const n=T(r);qa(n.auth,e,Vl);const o=Ed(n.auth,t);return new Td(n.auth,"linkViaPopup",e,o,n).executeNotNull()})).apply(this,arguments)}let Td=(()=>{class r extends RD{constructor(t,n,o,l,d){super(t,n,l,d),this.provider=o,this.authWindow=null,this.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=this}executeNotNull(){var t=this;return K(function*(){const n=yield t.execute();return gt(n,t.auth,"internal-error"),n})()}onExecution(){var t=this;return K(function*(){Do(1===t.filter.length,"Popup operations only handle one event");const n=bd();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],n),t.authWindow.associatedEvent=n,t.resolver._originValidation(t.auth).catch(o=>{t.reject(o)}),t.resolver._isIframeWebStorageSupported(t.auth,o=>{o||t.reject(fi(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,o;this.pollId=null!==(o=null===(n=this.authWindow)||void 0===n?void 0:n.window)&&void 0!==o&&o.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,v1.get())};t()}}return r.currentPopupAction=null,r})();const qp=new Map;class g0 extends RD{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return K(function*(){let n=qp.get(t.auth._key());if(!n){try{const l=(yield function T1(r,e){return Sa.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(l)}catch(o){n=()=>Promise.reject(o)}qp.set(t.auth._key(),n)}return t.bypassAuthState||qp.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return K(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const o=yield n.auth._redirectUserForId(e.eventId);if(o)return n.user=o,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return K(function*(){})()}cleanUp(){}}function Sa(){return(Sa=K(function*(r,e){const t=n_(e),n=qo(r);if(!(yield n._isAvailable()))return!1;const o="true"===(yield n._get(t));return yield n._remove(t),o})).apply(this,arguments)}function wd(r,e){return fs.apply(this,arguments)}function fs(){return(fs=K(function*(r,e){return qo(r)._set(n_(e),"true")})).apply(this,arguments)}function Yh(r,e){qp.set(r._key(),e)}function qo(r){return A(r._redirectPersistence)}function n_(r){return ge("pendingRedirect",r.config.apiKey,r.name)}function Rc(){return(Rc=K(function*(r,e,t){if(Nr(r.app))return Promise.reject(Ni(r));const n=Sn(r);qa(r,e,Vl),yield n._initializationPromise;const o=Ed(n,t);return yield wd(o,n),o._openRedirect(n,e,"signInViaRedirect")})).apply(this,arguments)}function Nc(){return(Nc=K(function*(r,e,t){const n=T(r);if(qa(n.auth,e,Vl),Nr(n.auth.app))return Promise.reject(Ni(n.auth));yield n.auth._initializationPromise;const o=Ed(n.auth,t);yield wd(o,n.auth);const l=yield m0(n);return o._openRedirect(n.auth,e,"reauthViaRedirect",l)})).apply(this,arguments)}function Mc(){return(Mc=K(function*(r,e,t){const n=T(r);qa(n.auth,e,Vl),yield n.auth._initializationPromise;const o=Ed(n.auth,t);yield Lu(!1,n,e.providerId),yield wd(o,n.auth);const l=yield m0(n);return o._openRedirect(n.auth,e,"linkViaRedirect",l)})).apply(this,arguments)}function r_(){return(r_=K(function*(r,e){return yield Sn(r)._initializationPromise,Kp(r,e,!1)})).apply(this,arguments)}function Kp(r,e){return i_.apply(this,arguments)}function i_(){return(i_=K(function*(r,e,t=!1){if(Nr(r.app))return Promise.reject(Ni(r));const n=Sn(r),o=Ed(n,e),d=yield new g0(n,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,yield n._persistUserIfCurrent(d.user),yield n._setRedirectUser(null,e)),d})).apply(this,arguments)}function m0(r){return s_.apply(this,arguments)}function s_(){return(s_=K(function*(r){const e=bd(`${r.uid}:::`);return r._redirectEventId=e,yield r.auth._setRedirectUser(r),yield r.auth._persistUserIfCurrent(r),e})).apply(this,arguments)}class _0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function w1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OD(r);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!OD(e)){const o=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function OD({type:r,error:e}){return"unknown"===r&&"auth/no-auth-event"===e?.code}function v0(r){return b0.apply(this,arguments)}function b0(){return(b0=K(function*(r,e={}){return Mr(r,"GET","/v1/projects",e)})).apply(this,arguments)}const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E0=/^https?/;function T0(){return(T0=K(function*(r){if(r.config.emulator)return;const{authorizedDomains:e}=yield v0(r);for(const t of e)try{if(o_(t))return}catch{}Hi(r,"unauthorized-domain")})).apply(this,arguments)}function o_(r){const e=Ru(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return""===d.hostname&&""===n?"chrome-extension:"===t&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&d.hostname===n}if(!E0.test(t))return!1;if(xD.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const a_=new Pl(3e4,6e4);function l_(){const r=$i().___jsl;if(r?.H)for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}let nf=null;function w0(r){return nf=nf||function I1(r){return new Promise((e,t)=>{var n,o,l;function d(){l_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l_(),t(fi(r,"network-request-failed"))},timeout:a_.get()})}if(null!==(o=null===(n=$i().gapi)||void 0===n?void 0:n.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(l=$i().gapi)||void 0===l||!l.load){const g=wa("iframefcb");return $i()[g]=()=>{gapi.load?d():t(fi(r,"network-request-failed"))},hs(`${function Mu(){return Wo.gapiScript}()}?onload=${g}`).catch(v=>t(v))}d()}}).catch(e=>{throw nf=null,e})}(r),nf}const kD=new Pl(5e3,15e3),VD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C0(r){const e=r.config;gt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?hd(e,"emulator/auth/iframe"):`https://${r.config.authDomain}/__/auth/iframe`,n={apiKey:e.apiKey,appName:r.name,v:Ea},o=LD.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${As(n).slice(1)}`}function S0(){return S0=K(function*(r){const e=yield w0(r),t=$i().gapi;return gt(t,r,"internal-error"),e.open({where:document.body,url:C0(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VD,dontclear:!0},n=>new Promise(function(){var o=K(function*(l,d){yield n.restyle({setHideOnLeave:!1});const g=fi(r,"network-request-failed"),v=$i().setTimeout(()=>{d(g)},kD.get());function I(){$i().clearTimeout(v),l(n)}n.ping(I).then(I,()=>{d(g)})});return function(l,d){return o.apply(this,arguments)}}()))}),S0.apply(this,arguments)}const BD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zD=encodeURIComponent("fac");function c_(r,e,t,n,o,l){return d_.apply(this,arguments)}function d_(){return(d_=K(function*(r,e,t,n,o,l){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Ea,eventId:o};if(e instanceof Vl){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",uc(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[F,L]of Object.entries(l||{}))d[F]=L}if(e instanceof _d){const F=e.getScopes().filter(L=>""!==L);F.length>0&&(d.scopes=F.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const F of Object.keys(g))void 0===g[F]&&delete g[F];const v=yield r._getAppCheckToken(),I=v?`#${zD}=${encodeURIComponent(v)}`:"";return`${WD(r)}?${As(g).slice(1)}${I}`})).apply(this,arguments)}function WD({config:r}){return r.emulator?hd(r,"emulator/auth/handler"):`https://${r.authDomain}/__/auth/handler`}const h_="webStorageSupport";class P0 extends class $R{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ms("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new P0(e)}_finalizeEnroll(e,t,n){return function Gh(r,e){return Mr(r,"POST","/v2/accounts/mfaEnrollment:finalize",Hr(r,e))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Zm(r,e){return Mr(r,"POST","/v2/accounts/mfaSignIn:finalize",Hr(r,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let A1=(()=>{class r{constructor(){}static assertion(t){return P0._fromCredential(t)}}return r.FACTOR_ID="phone",r})();var KD="@firebase/auth";class QD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return K(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pc(){return window}function Qp(){return Qp=K(function*(r,e,t){var n;const{BuildInfo:o}=Pc();Do(e.sessionId,"AuthEvent did not contain a session ID");const l=yield tT(e.sessionId),d={};return En()?d.ibi=o.packageName:Cn()?d.apn=o.packageName:Hi(r,"operation-not-supported-in-this-environment"),o.displayName&&(d.appDisplayName=o.displayName),d.sessionId=l,c_(r,t,e.type,void 0,null!==(n=e.eventId)&&void 0!==n?n:void 0,d)}),Qp.apply(this,arguments)}function k0(){return k0=K(function*(r){const{BuildInfo:e}=Pc(),t={};En()?t.iosBundleId=e.packageName:Cn()?t.androidPackageName=e.packageName:Hi(r,"operation-not-supported-in-this-environment"),yield v0(r,t)}),k0.apply(this,arguments)}function Ko(){return Ko=K(function*(r,e,t){const{cordova:n}=Pc();let o=()=>{};try{yield new Promise((l,d)=>{let g=null;function v(){var L;l();const Q=null===(L=n.plugins.browsertab)||void 0===L?void 0:L.close;"function"==typeof Q&&Q(),"function"==typeof t?.close&&t.close()}function I(){g||(g=window.setTimeout(()=>{d(fi(r,"redirect-cancelled-by-user"))},2e3))}function F(){"visible"===document?.visibilityState&&I()}e.addPassiveListener(v),document.addEventListener("resume",I,!1),Cn()&&document.addEventListener("visibilitychange",F,!1),o=()=>{e.removePassiveListener(v),document.removeEventListener("resume",I,!1),document.removeEventListener("visibilitychange",F,!1),g&&window.clearTimeout(g)}})}finally{o()}}),Ko.apply(this,arguments)}function tT(r){return f_.apply(this,arguments)}function f_(){return f_=K(function*(r){const e=O1(r),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(o=>o.toString(16).padStart(2,"0")).join("")}),f_.apply(this,arguments)}function O1(r){if(Do(/[0-9a-zA-Z]+/.test(r),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(r);const e=new ArrayBuffer(r.length),t=new Uint8Array(e);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}On(),function Ps(r){Wo=r}({loadJS:r=>new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=fi("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",function P1(){var r,e;return null!==(e=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==e?e:document}().appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function JD(r){Ga(new z("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=n.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:n.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xn(r)},I=new wo(n,o,l,v);return function xu(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(A);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}(I,t),I},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ga(new z("auth-internal",e=>{const t=Sn(e.getProvider("auth").getImmediate());return new QD(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(KD,"1.10.2",function R1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r)),js(KD,"1.10.2","esm2017")}("Browser");class k1 extends _0{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return K(function*(){yield e.initPromise})()}}function sf(r){return V0.apply(this,arguments)}function V0(){return V0=K(function*(r){const e=yield p_()._get(g_(r));return e&&(yield p_()._remove(g_(r))),e}),V0.apply(this,arguments)}function V1(){const r=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const n=Math.floor(Math.random()*e.length);r.push(e.charAt(n))}return r.join("")}function p_(){return A(jp)}function g_(r){return ge("authEvent",r.config.apiKey,r.name)}function Jp(r){if(!r?.includes("?"))return{};const[e,...t]=r.split("?");return ma(t.join("?"))}function B0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fi("no-auth-event")}}function af(){var r;return(null===(r=self?.location)||void 0===r?void 0:r.protocol)||null}function U0(r=In()){return!("file:"!==af()&&"ionic:"!==af()&&"capacitor:"!==af()||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function cT(){try{const r=self.localStorage,e=bd();if(r)return r.setItem(e,"1"),r.removeItem(e),!function H1(r=In()){return function B1(){return ed()&&11===document?.documentMode}()||function U1(r=In()){return/Edge\/\d+/.test(r)}(r)}()||_u()}catch{return H0()&&_u()}return!1}function H0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function j0(){return(function lT(){return"http:"===af()||"https:"===af()}()||mu()||U0())&&!function uT(){return Eo()||yo()}()&&cT()&&!H0()}function dT(){return U0()&&typeof document<"u"}function $0(){return $0=K(function*(){return!!dT()&&new Promise(r=>{const e=setTimeout(()=>{r(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),r(!0)})})}),$0.apply(this,arguments)}const Yo={LOCAL:"local",NONE:"none",SESSION:"session"},Zp=gt,hT="persistence";function G0(r){return z0.apply(this,arguments)}function z0(){return z0=K(function*(r){yield r._initializationPromise;const e=W0(),t=ge(hT,r.config.apiKey,r.name);e&&e.setItem(t,r._getPersistenceType())}),z0.apply(this,arguments)}function W0(){var r;try{return(null===(r=function $1(){return typeof window<"u"?window:null}())||void 0===r?void 0:r.sessionStorage)||null}catch{return null}}const fT=gt;class Hu{constructor(){this.browserResolver=A(class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ac,this._completeRedirectFn=Kp,this._overrideRedirectResult=Yh}_openPopup(e,t,n,o){var l=this;return K(function*(){var d;Do(null===(d=l.eventManagers[e._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const g=yield c_(e,t,n,Ru(),o);return function $D(r,e,t,n=500,o=600){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-n)/2,0).toString();let g="";const v=Object.assign(Object.assign({},BD),{width:n.toString(),height:o.toString(),top:l,left:d}),I=In().toLowerCase();t&&(g=At(I)?"_blank":t),Xe(I)&&(e=e||"http://localhost",v.scrollbars="yes");const F=Object.entries(v).reduce((Q,[ue,ye])=>`${Q}${ue}=${ye},`,"");if(function Pr(r=In()){var e;return En(r)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(I)&&"_self"!==g)return function N0(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}(e||"",g),new R0(null);const L=window.open(e||"",g,F);gt(L,r,"popup-blocked");try{L.focus()}catch{}return new R0(L)}(e,g,bd())})()}_openRedirect(e,t,n,o){var l=this;return K(function*(){return yield l._originValidation(e),function d1(r){$i().location.href=r}(yield c_(e,t,n,Ru(),o)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Do(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return K(function*(){const n=yield function A0(r){return S0.apply(this,arguments)}(e),o=new _0(e);return n.register("authEvent",l=>(gt(l?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:o},t.iframes[e._key()]=n,o})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(h_,{type:h_},o=>{var l;const d=null===(l=o?.[0])||void 0===l?void 0:l[h_];void 0!==d&&t(!!d),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function D0(r){return T0.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yn()||Ht()||En()}}),this.cordovaResolver=A(class L0{constructor(){this._redirectPersistence=Ac,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kp,this._overrideRedirectResult=Yh}_initialize(e){var t=this;return K(function*(){const n=e._key();let o=t.eventManagers.get(n);return o||(o=new k1(e),t.eventManagers.set(n,o),t.attachCallbackListeners(e,o)),o})()}_openPopup(e){Hi(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,o){var l=this;return K(function*(){!function tl(r){var e,t,n,o,l,d,g,v,I,F;const L=Pc();gt("function"==typeof(null===(e=L?.universalLinks)||void 0===e?void 0:e.subscribe),r,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gt(typeof(null===(t=L?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",r,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gt("function"==typeof(null===(l=null===(o=null===(n=L?.cordova)||void 0===n?void 0:n.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.openUrl),r,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt("function"==typeof(null===(v=null===(g=null===(d=L?.cordova)||void 0===d?void 0:d.plugins)||void 0===g?void 0:g.browsertab)||void 0===v?void 0:v.isAvailable),r,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gt("function"==typeof(null===(F=null===(I=L?.cordova)||void 0===I?void 0:I.InAppBrowser)||void 0===F?void 0:F.open),r,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const d=yield l._initialize(e);yield d.initialized(),d.resetRedirect(),function Id(){qp.clear()}(),yield l._originValidation(e);const g=function F1(r,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:V1(),postBody:null,tenantId:r.tenantId,error:fi(r,"no-auth-event")}}(e,n,o);yield function F0(r,e){return p_()._set(g_(r),e)}(e,g);const v=yield function x0(r,e,t){return Qp.apply(this,arguments)}(e,g,t),I=yield function eT(r){const{cordova:e}=Pc();return new Promise(t=>{e.plugins.browsertab.isAvailable(n=>{let o=null;n?e.plugins.browsertab.openUrl(r):o=e.InAppBrowser.open(r,function Fn(r=In()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(r)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(r)}()?"_blank":"_system","location=yes"),t(o)})})}(v);return function Ul(r,e,t){return Ko.apply(this,arguments)}(e,d,I)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Bl(r){return k0.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:o,BuildInfo:l}=Pc(),d=setTimeout(K(function*(){yield sf(e),t.onEvent(B0())}),500),g=function(){var F=K(function*(L){clearTimeout(d);const Q=yield sf(e);let ue=null;Q&&L?.url&&(ue=function nT(r,e){var t,n;const o=function L1(r){const e=Jp(r),t=e.link?decodeURIComponent(e.link):void 0,n=Jp(t).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Jp(o).link||o||n||t||r}(e);if(o.includes("/__/auth/callback")){const l=Jp(o),d=l.firebaseError?function m_(r){try{return JSON.parse(r)}catch{return null}}(decodeURIComponent(l.firebaseError)):null,g=null===(n=null===(t=d?.code)||void 0===t?void 0:t.split("auth/"))||void 0===n?void 0:n[1],v=g?fi(g):null;return v?{type:r.type,eventId:r.eventId,tenantId:r.tenantId,error:v,urlResponse:null,sessionId:null,postBody:null}:{type:r.type,eventId:r.eventId,tenantId:r.tenantId,sessionId:r.sessionId,urlResponse:o,postBody:null}}return null}(Q,L.url)),t.onEvent(ue||B0())});return function(Q){return F.apply(this,arguments)}}();typeof n<"u"&&"function"==typeof n.subscribe&&n.subscribe(null,g);const v=o,I=`${l.packageName.toLowerCase()}://`;Pc().handleOpenURL=function(){var F=K(function*(L){if(L.toLowerCase().startsWith(I)&&g({url:L}),"function"==typeof v)try{v(L)}catch(Q){console.error(Q)}});return function(L){return F.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ac,this._completeRedirectFn=Kp,this._overrideRedirectResult=Yh}_initialize(e){var t=this;return K(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,o){var l=this;return K(function*(){return yield l.selectUnderlyingResolver(),l.assertedUnderlyingResolver._openPopup(e,t,n,o)})()}_openRedirect(e,t,n,o){var l=this;return K(function*(){return yield l.selectUnderlyingResolver(),l.assertedUnderlyingResolver._openRedirect(e,t,n,o)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dT()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fT(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return K(function*(){if(e.underlyingResolver)return;const t=yield function j1(){return $0.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function q0(r){return r.unwrap()}function gT(r){return K0(r)}function K0(r){const{_tokenResponse:e}=r instanceof Di?r.customData:r;if(!e)return null;if(!(r instanceof Di)&&"temporaryProof"in e&&"phoneNumber"in e)return Wp.credentialFromResult(r);const t=e.providerId;if(!t||"password"===t)return null;let n;switch(t){case"google.com":n=Sv;break;case"facebook.com":n=nD;break;case"github.com":n=rD;break;case"twitter.com":n=Nv;break;default:const{oauthIdToken:o,oauthAccessToken:l,oauthTokenSecret:d,pendingToken:g,nonce:v}=e;return l||d||o||g?g?t.startsWith("saml.")?Lh._create(t,g):Za._fromParams({providerId:t,signInMethod:t,pendingToken:g,idToken:o,accessToken:l}):new Vh(t).credential({idToken:o,accessToken:l,rawNonce:v}):null}return r instanceof Di?n.credentialFromError(r):n.credentialFromResult(r)}function io(r,e){return e.catch(t=>{throw t instanceof Di&&function mT(r,e){var t;const n=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new Cd(r,function $h(r,e){var t;const n=T(r),o=e;return gt(e.customData.operationType,n,"argument-error"),gt(null===(t=o.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,n,"argument-error"),jh._fromError(n,o)}(r,e));else if(n){const o=K0(e),l=e;o&&(l.credential=o,l.tenantId=n.tenantId||void 0,l.email=n.email||void 0,l.phoneNumber=n.phoneNumber||void 0)}}(r,t),t}).then(t=>{const o=t.user;return{operationType:t.operationType,credential:gT(t),additionalUserInfo:Cc(t),user:ju.getOrCreate(o)}})}function Xp(r,e){return eg.apply(this,arguments)}function eg(){return eg=K(function*(r,e){const t=yield e;return{verificationId:t.verificationId,confirm:n=>io(r,t.confirm(n))}}),eg.apply(this,arguments)}class Cd{constructor(e,t){this.resolver=t,this.auth=function pT(r){return r.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return io(q0(this.auth),this.resolver.resolveSignIn(e))}}class ju{constructor(e){this._delegate=e,this.multiFactor=function Jv(r){const e=T(r);return Up.has(e)||Up.set(e,Km._fromUser(e)),Up.get(e)}(e)}static getOrCreate(e){return ju.USER_MAP.has(e)||ju.USER_MAP.set(e,new ju(e)),ju.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return K(function*(){return io(t.auth,aD(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return K(function*(){return Xp(n.auth,function o0(r,e,t){return e_.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return K(function*(){return io(t.auth,function Dd(r,e,t){return ND.apply(this,arguments)}(t._delegate,e,Hu))})()}linkWithRedirect(e){var t=this;return K(function*(){return yield G0(Sn(t.auth)),function ef(r,e,t){return function tf(r,e,t){return Mc.apply(this,arguments)}(r,e,t)}(t._delegate,e,Hu)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return K(function*(){return io(t.auth,lD(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Xp(this.auth,function _1(r,e,t){return a0.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return io(this.auth,function E1(r,e,t){return Kh.apply(this,arguments)}(this._delegate,e,Hu))}reauthenticateWithRedirect(e){var t=this;return K(function*(){return yield G0(Sn(t.auth)),function Zh(r,e,t){return function Xh(r,e,t){return Nc.apply(this,arguments)}(r,e,t)}(t._delegate,e,Hu)})()}sendEmailVerification(e){return function e1(r,e){return Gm.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return K(function*(){return yield function QI(r,e){return xm.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function Kv(r,e){const t=T(r);return Nr(t.auth.app)?Promise.reject(Ni(t.auth)):t1(t,e,null)}(this._delegate,e)}updatePassword(e){return function wR(r,e){return t1(T(r),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function jR(r,e){return u0.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function hD(r,e){return qv.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function DR(r,e,t){return Wv.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ju.USER_MAP=new WeakMap;const tg=gt;let Ad=(()=>{class r{constructor(t,n){if(this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:o}=t.options;tg(o,"invalid-api-key",{appName:t.name}),tg(o,"invalid-api-key",{appName:t.name});const l=typeof window<"u"?Hu:void 0;this._delegate=n.initialize({options:{persistence:Y0(o,t.name),popupRedirectResolver:l}}),this._delegate._updateErrorMap(nv),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ju.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,n){!function Ia(r,e,t){const n=Sn(r);gt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!!t?.disableWarnings,l=ku(e),{host:d,port:g}=function Rm(r){const e=ku(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:Ip(n.substr(l.length+1))}}{const[l,d]=n.split(":");return{host:l,port:Ip(d)}}}(e),v=null===g?"":`:${g}`,I={url:`${l}//${d}${v}/`},F=Object.freeze({host:d,port:g,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator)return gt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void gt(ga(I,n.config.emulator)&&ga(F,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=I,n.emulatorConfig=F,n.settings.appVerificationDisabledForTesting=!0,o||function Cp(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r())}(),D(d)&&N(`${l}//${d}${v}`)}(this._delegate,t,n)}applyActionCode(t){return function ZI(r,e){return xp.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return Ll(this._delegate,t)}confirmPasswordReset(t,n){return function el(r,e,t){return Hm.apply(this,arguments)}(this._delegate,t,n)}createUserWithEmailAndPassword(t,n){var o=this;return K(function*(){return io(o._delegate,function vR(r,e,t){return jm.apply(this,arguments)}(o._delegate,t,n))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function XI(r,e){return zv.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function jv(r,e){return"EMAIL_SIGNIN"===Mp.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return K(function*(){tg(j0(),t._delegate,"operation-not-supported-in-this-environment");const n=yield function MD(r,e){return r_.apply(this,arguments)}(t._delegate,Hu);return n?io(t._delegate,Promise.resolve(n)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function iT(r,e){Sn(r)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,n,o){const{next:l,error:d,complete:g}=W1(t,n,o);return this._delegate.onAuthStateChanged(l,d,g)}onIdTokenChanged(t,n,o){const{next:l,error:d,complete:g}=W1(t,n,o);return this._delegate.onIdTokenChanged(l,d,g)}sendSignInLinkToEmail(t,n){return function $m(r,e,t){return Hh.apply(this,arguments)}(this._delegate,t,n)}sendPasswordResetEmail(t,n){return function cD(r,e,t){return Uh.apply(this,arguments)}(this._delegate,t,n||void 0)}setPersistence(t){var n=this;return K(function*(){let o;switch(function G1(r,e){Zp(Object.values(Yo).includes(e),r,"invalid-persistence-type"),Eo()?Zp(e!==Yo.SESSION,r,"unsupported-persistence-type"):yo()?Zp(e===Yo.NONE,r,"unsupported-persistence-type"):H0()?Zp(e===Yo.NONE||e===Yo.LOCAL&&_u(),r,"unsupported-persistence-type"):Zp(e===Yo.NONE||cT(),r,"unsupported-persistence-type")}(n._delegate,t),t){case Yo.SESSION:o=Ac;break;case Yo.LOCAL:o=(yield A(Bu)._isAvailable())?Bu:jp;break;case Yo.NONE:o=ne;break;default:return Hi("argument-error",{appName:n._delegate.name})}return n._delegate.setPersistence(o)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return io(this._delegate,function Pv(r){return Ov.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return io(this._delegate,Fm(this._delegate,t))}signInWithCustomToken(t){return io(this._delegate,function uD(r,e){return Pp.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,n){return io(this._delegate,function bR(r,e,t){return Nr(r.app)?Promise.reject(Ni(r)):Fm(T(r),Pm.credential(e,t)).catch(function(){var n=K(function*(o){throw"auth/password-does-not-meet-requirements"===o.code&&Ic(r),o});return function(o){return n.apply(this,arguments)}}())}(this._delegate,t,n))}signInWithEmailLink(t,n){return io(this._delegate,function $v(r,e,t){return Vp.apply(this,arguments)}(this._delegate,t,n))}signInWithPhoneNumber(t,n){return Xp(this._delegate,function zp(r,e,t){return s0.apply(this,arguments)}(this._delegate,t,n))}signInWithPopup(t){var n=this;return K(function*(){return tg(j0(),n._delegate,"operation-not-supported-in-this-environment"),io(n._delegate,function b1(r,e,t){return p0.apply(this,arguments)}(n._delegate,t,Hu))})()}signInWithRedirect(t){var n=this;return K(function*(){return tg(j0(),n._delegate,"operation-not-supported-in-this-environment"),yield G0(n._delegate),function Qh(r,e,t){return function Jh(r,e,t){return Rc.apply(this,arguments)}(r,e,t)}(n._delegate,t,Hu)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function dD(r,e){return Fp.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return r.Persistence=Yo,r})();function W1(r,e,t){let n=r;"function"!=typeof r&&({next:n,error:e,complete:t}=r);const o=n;return{next:d=>o(d&&ju.getOrCreate(d)),error:e,complete:t}}function Y0(r,e){const t=function z1(r,e){const t=W0();if(!t)return[];const n=ge(hT,r,e);switch(t.getItem(n)){case Yo.NONE:return[ne];case Yo.LOCAL:return[Bu,Ac];case Yo.SESSION:return[Ac];default:return[]}}(r,e);if(typeof self<"u"&&!t.includes(Bu)&&t.push(Bu),typeof window<"u")for(const n of[jp,Ac])t.includes(n)||t.push(n);return t.includes(ne)||t.push(ne),t}class _T{static credential(e,t){return Wp.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Wp(q0(Iu.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}_T.PHONE_SIGN_IN_METHOD=Wp.PHONE_SIGN_IN_METHOD,_T.PROVIDER_ID=Wp.PROVIDER_ID;const yT=gt;class vT{constructor(e,t,n=Iu.app()){var o;yT(null===(o=n.options)||void 0===o?void 0:o.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Uu(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cn(r){r.INTERNAL.registerComponent(new z("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ad(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pm,FacebookAuthProvider:nD,GithubAuthProvider:rD,GoogleAuthProvider:Sv,OAuthProvider:Vh,SAMLAuthProvider:Rv,PhoneAuthProvider:_T,PhoneMultiFactorGenerator:A1,RecaptchaVerifier:vT,TwitterAuthProvider:Nv,Auth:Ad,AuthCredential:Fu,Error:Di}).setInstantiationMode("LAZY").setMultipleInstances(!1)),r.registerVersion("@firebase/auth-compat","0.5.22")}(Iu);var Oc,Sd,bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ET={};(function(){var r;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function o(me,ie,de){de||(de=0);var ve=Array(16);if("string"==typeof ie)for(var we=0;16>we;++we)ve[we]=ie.charCodeAt(de++)|ie.charCodeAt(de++)<<8|ie.charCodeAt(de++)<<16|ie.charCodeAt(de++)<<24;else for(we=0;16>we;++we)ve[we]=ie[de++]|ie[de++]<<8|ie[de++]<<16|ie[de++]<<24;var Oe=me.g[3],he=(ie=me.g[0])+(Oe^(de=me.g[1])&((we=me.g[2])^Oe))+ve[0]+3614090360&4294967295;he=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=(de=(we=(Oe=(ie=de+(he<<7&4294967295|he>>>25))+((he=Oe+(we^ie&(de^we))+ve[1]+3905402710&4294967295)<<12&4294967295|he>>>20))+((he=we+(de^Oe&(ie^de))+ve[2]+606105819&4294967295)<<17&4294967295|he>>>15))+((he=de+(ie^we&(Oe^ie))+ve[3]+3250441966&4294967295)<<22&4294967295|he>>>10))+((he=ie+(Oe^de&(we^Oe))+ve[4]+4118548399&4294967295)<<7&4294967295|he>>>25))+((he=Oe+(we^ie&(de^we))+ve[5]+1200080426&4294967295)<<12&4294967295|he>>>20))+((he=we+(de^Oe&(ie^de))+ve[6]+2821735955&4294967295)<<17&4294967295|he>>>15))+((he=de+(ie^we&(Oe^ie))+ve[7]+4249261313&4294967295)<<22&4294967295|he>>>10))+((he=ie+(Oe^de&(we^Oe))+ve[8]+1770035416&4294967295)<<7&4294967295|he>>>25))+((he=Oe+(we^ie&(de^we))+ve[9]+2336552879&4294967295)<<12&4294967295|he>>>20))+((he=we+(de^Oe&(ie^de))+ve[10]+4294925233&4294967295)<<17&4294967295|he>>>15))+((he=de+(ie^we&(Oe^ie))+ve[11]+2304563134&4294967295)<<22&4294967295|he>>>10))+((he=ie+(Oe^de&(we^Oe))+ve[12]+1804603682&4294967295)<<7&4294967295|he>>>25))+((he=Oe+(we^ie&(de^we))+ve[13]+4254626195&4294967295)<<12&4294967295|he>>>20))+((he=we+(de^Oe&(ie^de))+ve[14]+2792965006&4294967295)<<17&4294967295|he>>>15))+((he=de+(ie^we&(Oe^ie))+ve[15]+1236535329&4294967295)<<22&4294967295|he>>>10))+((he=ie+(we^Oe&(de^we))+ve[1]+4129170786&4294967295)<<5&4294967295|he>>>27))+((he=Oe+(de^we&(ie^de))+ve[6]+3225465664&4294967295)<<9&4294967295|he>>>23))+((he=we+(ie^de&(Oe^ie))+ve[11]+643717713&4294967295)<<14&4294967295|he>>>18))+((he=de+(Oe^ie&(we^Oe))+ve[0]+3921069994&4294967295)<<20&4294967295|he>>>12))+((he=ie+(we^Oe&(de^we))+ve[5]+3593408605&4294967295)<<5&4294967295|he>>>27))+((he=Oe+(de^we&(ie^de))+ve[10]+38016083&4294967295)<<9&4294967295|he>>>23))+((he=we+(ie^de&(Oe^ie))+ve[15]+3634488961&4294967295)<<14&4294967295|he>>>18))+((he=de+(Oe^ie&(we^Oe))+ve[4]+3889429448&4294967295)<<20&4294967295|he>>>12))+((he=ie+(we^Oe&(de^we))+ve[9]+568446438&4294967295)<<5&4294967295|he>>>27))+((he=Oe+(de^we&(ie^de))+ve[14]+3275163606&4294967295)<<9&4294967295|he>>>23))+((he=we+(ie^de&(Oe^ie))+ve[3]+4107603335&4294967295)<<14&4294967295|he>>>18))+((he=de+(Oe^ie&(we^Oe))+ve[8]+1163531501&4294967295)<<20&4294967295|he>>>12))+((he=ie+(we^Oe&(de^we))+ve[13]+2850285829&4294967295)<<5&4294967295|he>>>27))+((he=Oe+(de^we&(ie^de))+ve[2]+4243563512&4294967295)<<9&4294967295|he>>>23))+((he=we+(ie^de&(Oe^ie))+ve[7]+1735328473&4294967295)<<14&4294967295|he>>>18))+((he=de+(Oe^ie&(we^Oe))+ve[12]+2368359562&4294967295)<<20&4294967295|he>>>12))+((he=ie+(de^we^Oe)+ve[5]+4294588738&4294967295)<<4&4294967295|he>>>28))+((he=Oe+(ie^de^we)+ve[8]+2272392833&4294967295)<<11&4294967295|he>>>21))+((he=we+(Oe^ie^de)+ve[11]+1839030562&4294967295)<<16&4294967295|he>>>16))+((he=de+(we^Oe^ie)+ve[14]+4259657740&4294967295)<<23&4294967295|he>>>9))+((he=ie+(de^we^Oe)+ve[1]+2763975236&4294967295)<<4&4294967295|he>>>28))+((he=Oe+(ie^de^we)+ve[4]+1272893353&4294967295)<<11&4294967295|he>>>21))+((he=we+(Oe^ie^de)+ve[7]+4139469664&4294967295)<<16&4294967295|he>>>16))+((he=de+(we^Oe^ie)+ve[10]+3200236656&4294967295)<<23&4294967295|he>>>9))+((he=ie+(de^we^Oe)+ve[13]+681279174&4294967295)<<4&4294967295|he>>>28))+((he=Oe+(ie^de^we)+ve[0]+3936430074&4294967295)<<11&4294967295|he>>>21))+((he=we+(Oe^ie^de)+ve[3]+3572445317&4294967295)<<16&4294967295|he>>>16))+((he=de+(we^Oe^ie)+ve[6]+76029189&4294967295)<<23&4294967295|he>>>9))+((he=ie+(de^we^Oe)+ve[9]+3654602809&4294967295)<<4&4294967295|he>>>28))+((he=Oe+(ie^de^we)+ve[12]+3873151461&4294967295)<<11&4294967295|he>>>21))+((he=we+(Oe^ie^de)+ve[15]+530742520&4294967295)<<16&4294967295|he>>>16))+((he=de+(we^Oe^ie)+ve[2]+3299628645&4294967295)<<23&4294967295|he>>>9))+((he=ie+(we^(de|~Oe))+ve[0]+4096336452&4294967295)<<6&4294967295|he>>>26))+((he=Oe+(de^(ie|~we))+ve[7]+1126891415&4294967295)<<10&4294967295|he>>>22))+((he=we+(ie^(Oe|~de))+ve[14]+2878612391&4294967295)<<15&4294967295|he>>>17))+((he=de+(Oe^(we|~ie))+ve[5]+4237533241&4294967295)<<21&4294967295|he>>>11))+((he=ie+(we^(de|~Oe))+ve[12]+1700485571&4294967295)<<6&4294967295|he>>>26))+((he=Oe+(de^(ie|~we))+ve[3]+2399980690&4294967295)<<10&4294967295|he>>>22))+((he=we+(ie^(Oe|~de))+ve[10]+4293915773&4294967295)<<15&4294967295|he>>>17))+((he=de+(Oe^(we|~ie))+ve[1]+2240044497&4294967295)<<21&4294967295|he>>>11))+((he=ie+(we^(de|~Oe))+ve[8]+1873313359&4294967295)<<6&4294967295|he>>>26))+((he=Oe+(de^(ie|~we))+ve[15]+4264355552&4294967295)<<10&4294967295|he>>>22))+((he=we+(ie^(Oe|~de))+ve[6]+2734768916&4294967295)<<15&4294967295|he>>>17))+((he=de+(Oe^(we|~ie))+ve[13]+1309151649&4294967295)<<21&4294967295|he>>>11))+((Oe=(ie=de+((he=ie+(we^(de|~Oe))+ve[4]+4149444226&4294967295)<<6&4294967295|he>>>26))+((he=Oe+(de^(ie|~we))+ve[11]+3174756917&4294967295)<<10&4294967295|he>>>22))^((we=Oe+((he=we+(ie^(Oe|~de))+ve[2]+718787259&4294967295)<<15&4294967295|he>>>17))|~ie))+ve[9]+3951481745&4294967295,me.g[0]=me.g[0]+ie&4294967295,me.g[1]=me.g[1]+(we+(he<<21&4294967295|he>>>11))&4294967295,me.g[2]=me.g[2]+we&4294967295,me.g[3]=me.g[3]+Oe&4294967295}function d(me,ie){this.h=ie;for(var de=[],ve=!0,we=me.length-1;0<=we;we--){var Oe=0|me[we];ve&&Oe==ie||(de[we]=Oe,ve=!1)}this.g=de}(function e(me,ie){function de(){}de.prototype=ie.prototype,me.D=ie.prototype,me.prototype=new de,me.prototype.constructor=me,me.C=function(ve,we,Oe){for(var he=Array(arguments.length-2),tu=2;tu<arguments.length;tu++)he[tu-2]=arguments[tu];return ie.prototype[we].apply(ve,he)}})(n,function t(){this.blockSize=-1}),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(me,ie){void 0===ie&&(ie=me.length);for(var de=ie-this.blockSize,ve=this.B,we=this.h,Oe=0;Oe<ie;){if(0==we)for(;Oe<=de;)o(this,me,Oe),Oe+=this.blockSize;if("string"==typeof me){for(;Oe<ie;)if(ve[we++]=me.charCodeAt(Oe++),we==this.blockSize){o(this,ve),we=0;break}}else for(;Oe<ie;)if(ve[we++]=me[Oe++],we==this.blockSize){o(this,ve),we=0;break}}this.h=we,this.o+=ie},n.prototype.v=function(){var me=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);me[0]=128;for(var ie=1;ie<me.length-8;++ie)me[ie]=0;var de=8*this.o;for(ie=me.length-8;ie<me.length;++ie)me[ie]=255&de,de/=256;for(this.u(me),me=Array(16),ie=de=0;4>ie;++ie)for(var ve=0;32>ve;ve+=8)me[de++]=this.g[ie]>>>ve&255;return me};var g={};function v(me){return-128<=me&&128>me?function l(me,ie){var de=g;return Object.prototype.hasOwnProperty.call(de,me)?de[me]:de[me]=ie(me)}(me,function(ie){return new d([0|ie],0>ie?-1:0)}):new d([0|me],0>me?-1:0)}function I(me){if(isNaN(me)||!isFinite(me))return L;if(0>me)return Ke(I(-me));for(var ie=[],de=1,ve=0;me>=de;ve++)ie[ve]=me/de|0,de*=4294967296;return new d(ie,0)}var L=v(0),Q=v(1),ue=v(16777216);function ye(me){if(0!=me.h)return!1;for(var ie=0;ie<me.g.length;ie++)if(0!=me.g[ie])return!1;return!0}function Be(me){return-1==me.h}function Ke(me){for(var ie=me.g.length,de=[],ve=0;ve<ie;ve++)de[ve]=~me.g[ve];return new d(de,~me.h).add(Q)}function vt(me,ie){return me.add(Ke(ie))}function Ct(me,ie){for(;(65535&me[ie])!=me[ie];)me[ie+1]+=me[ie]>>>16,me[ie]&=65535,ie++}function It(me,ie){this.g=me,this.h=ie}function $t(me,ie){if(ye(ie))throw Error("division by zero");if(ye(me))return new It(L,L);if(Be(me))return ie=$t(Ke(me),ie),new It(Ke(ie.g),Ke(ie.h));if(Be(ie))return ie=$t(me,Ke(ie)),new It(Ke(ie.g),ie.h);if(30<me.g.length){if(Be(me)||Be(ie))throw Error("slowDivide_ only works with positive integers.");for(var de=Q,ve=ie;0>=ve.l(me);)de=Ln(de),ve=Ln(ve);var we=an(de,1),Oe=an(ve,1);for(ve=an(ve,2),de=an(de,2);!ye(ve);){var he=Oe.add(ve);0>=he.l(me)&&(we=we.add(de),Oe=he),ve=an(ve,1),de=an(de,1)}return ie=vt(me,we.j(ie)),new It(we,ie)}for(we=L;0<=me.l(ie);){for(de=Math.max(1,Math.floor(me.m()/ie.m())),ve=48>=(ve=Math.ceil(Math.log(de)/Math.LN2))?1:Math.pow(2,ve-48),he=(Oe=I(de)).j(ie);Be(he)||0<he.l(me);)he=(Oe=I(de-=ve)).j(ie);ye(Oe)&&(Oe=Q),we=we.add(Oe),me=vt(me,he)}return new It(we,me)}function Ln(me){for(var ie=me.g.length+1,de=[],ve=0;ve<ie;ve++)de[ve]=me.i(ve)<<1|me.i(ve-1)>>>31;return new d(de,me.h)}function an(me,ie){var de=ie>>5;ie%=32;for(var ve=me.g.length-de,we=[],Oe=0;Oe<ve;Oe++)we[Oe]=0<ie?me.i(Oe+de)>>>ie|me.i(Oe+de+1)<<32-ie:me.i(Oe+de);return new d(we,me.h)}(r=d.prototype).m=function(){if(Be(this))return-Ke(this).m();for(var me=0,ie=1,de=0;de<this.g.length;de++){var ve=this.i(de);me+=(0<=ve?ve:4294967296+ve)*ie,ie*=4294967296}return me},r.toString=function(me){if(2>(me=me||10)||36<me)throw Error("radix out of range: "+me);if(ye(this))return"0";if(Be(this))return"-"+Ke(this).toString(me);for(var ie=I(Math.pow(me,6)),de=this,ve="";;){var we=$t(de,ie).g,Oe=((0<(de=vt(de,we.j(ie))).g.length?de.g[0]:de.h)>>>0).toString(me);if(ye(de=we))return Oe+ve;for(;6>Oe.length;)Oe="0"+Oe;ve=Oe+ve}},r.i=function(me){return 0>me?0:me<this.g.length?this.g[me]:this.h},r.l=function(me){return Be(me=vt(this,me))?-1:ye(me)?0:1},r.abs=function(){return Be(this)?Ke(this):this},r.add=function(me){for(var ie=Math.max(this.g.length,me.g.length),de=[],ve=0,we=0;we<=ie;we++){var Oe=ve+(65535&this.i(we))+(65535&me.i(we)),he=(Oe>>>16)+(this.i(we)>>>16)+(me.i(we)>>>16);ve=he>>>16,de[we]=(he&=65535)<<16|(Oe&=65535)}return new d(de,-2147483648&de[de.length-1]?-1:0)},r.j=function(me){if(ye(this)||ye(me))return L;if(Be(this))return Be(me)?Ke(this).j(Ke(me)):Ke(Ke(this).j(me));if(Be(me))return Ke(this.j(Ke(me)));if(0>this.l(ue)&&0>me.l(ue))return I(this.m()*me.m());for(var ie=this.g.length+me.g.length,de=[],ve=0;ve<2*ie;ve++)de[ve]=0;for(ve=0;ve<this.g.length;ve++)for(var we=0;we<me.g.length;we++){var Oe=this.i(ve)>>>16,he=65535&this.i(ve),tu=me.i(we)>>>16,zf=65535&me.i(we);de[2*ve+2*we]+=he*zf,Ct(de,2*ve+2*we),de[2*ve+2*we+1]+=Oe*zf,Ct(de,2*ve+2*we+1),de[2*ve+2*we+1]+=he*tu,Ct(de,2*ve+2*we+1),de[2*ve+2*we+2]+=Oe*tu,Ct(de,2*ve+2*we+2)}for(ve=0;ve<ie;ve++)de[ve]=de[2*ve+1]<<16|de[2*ve];for(ve=ie;ve<2*ie;ve++)de[ve]=0;return new d(de,0)},r.A=function(me){return $t(this,me).h},r.and=function(me){for(var ie=Math.max(this.g.length,me.g.length),de=[],ve=0;ve<ie;ve++)de[ve]=this.i(ve)&me.i(ve);return new d(de,this.h&me.h)},r.or=function(me){for(var ie=Math.max(this.g.length,me.g.length),de=[],ve=0;ve<ie;ve++)de[ve]=this.i(ve)|me.i(ve);return new d(de,this.h|me.h)},r.xor=function(me){for(var ie=Math.max(this.g.length,me.g.length),de=[],ve=0;ve<ie;ve++)de[ve]=this.i(ve)^me.i(ve);return new d(de,this.h^me.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Sd=ET.Md5=n,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=I,d.fromString=function F(me,ie){if(0==me.length)throw Error("number format error: empty string");if(2>(ie=ie||10)||36<ie)throw Error("radix out of range: "+ie);if("-"==me.charAt(0))return Ke(F(me.substring(1),ie));if(0<=me.indexOf("-"))throw Error('number format error: interior "-" character');for(var de=I(Math.pow(ie,8)),ve=L,we=0;we<me.length;we+=8){var Oe=Math.min(8,me.length-we),he=parseInt(me.substring(we,we+Oe),ie);8>Oe?(Oe=I(Math.pow(ie,Oe)),ve=ve.j(Oe).add(I(he))):ve=(ve=ve.j(de)).add(I(he))}return ve},Oc=ET.Integer=d}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var ng,v_,Q0,rg,J0,Z0,X0,eb,y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ra={};(function(){var r,e="function"==typeof Object.defineProperties?Object.defineProperty:function(_,O,j){return _==Array.prototype||_==Object.prototype||(_[O]=j.value),_},n=function t(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof y_&&y_];for(var O=0;O<_.length;++O){var j=_[O];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}(this);!function o(_,O){if(O)e:{var j=n;_=_.split(".");for(var J=0;J<_.length-1;J++){var Ne=_[J];if(!(Ne in j))break e;j=j[Ne]}(O=O(J=j[_=_[_.length-1]]))!=J&&null!=O&&e(j,_,{configurable:!0,writable:!0,value:O})}}("Array.prototype.values",function(_){return _||function(){return function l(_,O){_ instanceof String&&(_+="");var j=0,J=!1,Ne={next:function(){if(!J&&j<_.length){var Ye=j++;return{value:O(Ye,_[Ye]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Ne[Symbol.iterator]=function(){return Ne},Ne}(this,function(O,j){return j})}});var d=d||{},g=this||self;function v(_){var O=typeof _;return"array"==(O="object"!=O?O:_?Array.isArray(_)?"array":O:"null")||"object"==O&&"number"==typeof _.length}function I(_){var O=typeof _;return"object"==O&&null!=_||"function"==O}function F(_,O,j){return _.call.apply(_.bind,arguments)}function L(_,O,j){if(!_)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ne,J),_.apply(O,Ne)}}return function(){return _.apply(O,arguments)}}function Q(_,O,j){return(Q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F:L).apply(null,arguments)}function ue(_,O){var j=Array.prototype.slice.call(arguments,1);return function(){var J=j.slice();return J.push.apply(J,arguments),_.apply(this,J)}}function ye(_,O){function j(){}j.prototype=O.prototype,_.aa=O.prototype,_.prototype=new j,_.prototype.constructor=_,_.Qb=function(J,Ne,Ye){for(var Rt=Array(arguments.length-2),Zr=2;Zr<arguments.length;Zr++)Rt[Zr-2]=arguments[Zr];return O.prototype[Ne].apply(J,Rt)}}function Be(_){const O=_.length;if(0<O){const j=Array(O);for(let J=0;J<O;J++)j[J]=_[J];return j}return[]}function Ke(_,O){for(let j=1;j<arguments.length;j++){const J=arguments[j];if(v(J)){const Ne=_.length||0,Ye=J.length||0;_.length=Ne+Ye;for(let Rt=0;Rt<Ye;Rt++)_[Ne+Rt]=J[Rt]}else _.push(J)}}function Ct(_){return/^[\s\xa0]*$/.test(_)}function It(){var _=g.navigator;return _&&(_=_.userAgent)?_:""}function $t(_){return $t[" "](_),_}$t[" "]=function(){};var Ln=!(-1==It().indexOf("Gecko")||-1!=It().toLowerCase().indexOf("webkit")&&-1==It().indexOf("Edge")||-1!=It().indexOf("Trident")||-1!=It().indexOf("MSIE")||-1!=It().indexOf("Edge"));function an(_,O,j){for(const J in _)O.call(j,_[J],J,_)}function ie(_){const O={};for(const j in _)O[j]=_[j];return O}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(_,O){let j,J;for(let Ne=1;Ne<arguments.length;Ne++){for(j in J=arguments[Ne],J)_[j]=J[j];for(let Ye=0;Ye<de.length;Ye++)j=de[Ye],Object.prototype.hasOwnProperty.call(J,j)&&(_[j]=J[j])}}function we(_){var O=1;_=_.split(":");const j=[];for(;0<O&&_.length;)j.push(_.shift()),O--;return _.length&&j.push(_.join(":")),j}function Oe(_){g.setTimeout(()=>{throw _},0)}function he(){var _=er;let O=null;return _.g&&(O=_.g,_.g=_.g.next,_.g||(_.h=null),O.next=null),O}var zf=new class vt{constructor(O,j){this.i=O,this.j=j,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}(()=>new Wt,_=>_.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(O,j){this.h=O,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,ln=!1,er=new class tu{constructor(){this.h=this.g=null}add(O,j){const J=zf.get();J.set(O,j),this.h?this.h.next=J:this.g=J,this.h=J}},rs=()=>{const _=g.Promise.resolve(void 0);Zt=()=>{_.then(nu)}};var nu=()=>{for(var _;_=he();){try{_.h.call(_.g)}catch(j){Oe(j)}var O=zf;O.j(_),100>O.h&&(O.h++,_.next=O.g,O.g=_)}ln=!1};function Wi(){this.s=this.s,this.C=this.C}function mi(_,O){this.type=_,this.g=this.target=O,this.defaultPrevented=!1}Wi.prototype.s=!1,Wi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Wi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},mi.prototype.h=function(){this.defaultPrevented=!0};var _i=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var _=!1,O=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const j=()=>{};g.addEventListener("test",j,O),g.removeEventListener("test",j,O)}catch{}return _}();function Wf(_,O){if(mi.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var j=this.type=_.type,J=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=O,O=_.relatedTarget){if(Ln){e:{try{$t(O.nodeName);var Ne=!0;break e}catch{}Ne=!1}Ne||(O=null)}}else"mouseover"==j?O=_.fromElement:"mouseout"==j&&(O=_.toElement);this.relatedTarget=O,J?(this.clientX=void 0!==J.clientX?J.clientX:J.pageX,this.clientY=void 0!==J.clientY?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:qS[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Wf.aa.h.call(this)}}ye(Wf,mi);var qS={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var qi="closure_listenable_"+(1e6*Math.random()|0),Zd=0;function Oa(_,O,j,J,Ne){this.listener=_,this.proxy=null,this.src=O,this.type=j,this.capture=!!J,this.ha=Ne,this.key=++Zd,this.da=this.fa=!1}function Xd(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function qf(_){this.src=_,this.g={},this.h=0}function KS(_,O){var j=O.type;if(j in _.g){var Ye,J=_.g[j],Ne=Array.prototype.indexOf.call(J,O,void 0);(Ye=0<=Ne)&&Array.prototype.splice.call(J,Ne,1),Ye&&(Xd(O),0==_.g[j].length&&(delete _.g[j],_.h--))}}function YS(_,O,j,J){for(var Ne=0;Ne<_.length;++Ne){var Ye=_[Ne];if(!Ye.da&&Ye.listener==O&&Ye.capture==!!j&&Ye.ha==J)return Ne}return-1}qf.prototype.add=function(_,O,j,J,Ne){var Ye=_.toString();(_=this.g[Ye])||(_=this.g[Ye]=[],this.h++);var Rt=YS(_,O,J,Ne);return-1<Rt?(O=_[Rt],j||(O.fa=!1)):((O=new Oa(O,this.src,Ye,!!J,Ne)).fa=j,_.push(O)),O};var QS="closure_lm_"+(1e6*Math.random()|0),JS={};function vP(_,O,j,J,Ne){if(J&&J.once)return EP(_,O,j,J,Ne);if(Array.isArray(O)){for(var Ye=0;Ye<O.length;Ye++)vP(_,O[Ye],j,J,Ne);return null}return j=tR(j),_&&_[qi]?_.K(O,j,I(J)?!!J.capture:!!J,Ne):bP(_,O,j,!1,J,Ne)}function bP(_,O,j,J,Ne,Ye){if(!O)throw Error("Invalid event type");var Rt=I(Ne)?!!Ne.capture:!!Ne,Zr=XS(_);if(Zr||(_[QS]=Zr=new qf(_)),(j=Zr.add(O,j,J,Rt,Ye)).proxy)return j;if(J=function TF(){const O=wF;return function _(j){return O.call(_.src,_.listener,j)}}(),j.proxy=J,J.src=_,J.listener=j,_.addEventListener)_i||(Ne=Rt),void 0===Ne&&(Ne=!1),_.addEventListener(O.toString(),J,Ne);else if(_.attachEvent)_.attachEvent(TP(O.toString()),J);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(J)}return j}function EP(_,O,j,J,Ne){if(Array.isArray(O)){for(var Ye=0;Ye<O.length;Ye++)EP(_,O[Ye],j,J,Ne);return null}return j=tR(j),_&&_[qi]?_.L(O,j,I(J)?!!J.capture:!!J,Ne):bP(_,O,j,!0,J,Ne)}function DP(_,O,j,J,Ne){if(Array.isArray(O))for(var Ye=0;Ye<O.length;Ye++)DP(_,O[Ye],j,J,Ne);else J=I(J)?!!J.capture:!!J,j=tR(j),_&&_[qi]?(_=_.i,(O=String(O).toString())in _.g&&-1<(j=YS(Ye=_.g[O],j,J,Ne))&&(Xd(Ye[j]),Array.prototype.splice.call(Ye,j,1),0==Ye.length&&(delete _.g[O],_.h--))):_&&(_=XS(_))&&(O=_.g[O.toString()],_=-1,O&&(_=YS(O,j,J,Ne)),(j=-1<_?O[_]:null)&&ZS(j))}function ZS(_){if("number"!=typeof _&&_&&!_.da){var O=_.src;if(O&&O[qi])KS(O.i,_);else{var j=_.type,J=_.proxy;O.removeEventListener?O.removeEventListener(j,J,_.capture):O.detachEvent?O.detachEvent(TP(j),J):O.addListener&&O.removeListener&&O.removeListener(J),(j=XS(O))?(KS(j,_),0==j.h&&(j.src=null,O[QS]=null)):Xd(_)}}}function TP(_){return _ in JS?JS[_]:JS[_]="on"+_}function wF(_,O){if(_.da)_=!0;else{O=new Wf(O,this);var j=_.listener,J=_.ha||_.src;_.fa&&ZS(_),_=j.call(J,O)}return _}function XS(_){return(_=_[QS])instanceof qf?_:null}var eR="__closure_events_fn_"+(1e9*Math.random()>>>0);function tR(_){return"function"==typeof _?_:(_[eR]||(_[eR]=function(O){return _.handleEvent(O)}),_[eR])}function Mo(){Wi.call(this),this.i=new qf(this),this.M=this,this.F=null}function ra(_,O){var j,J=_.F;if(J)for(j=[];J;J=J.F)j.push(J);if(_=_.M,J=O.type||O,"string"==typeof O)O=new mi(O,_);else if(O instanceof mi)O.target=O.target||_;else{var Ne=O;ve(O=new mi(J,_),Ne)}if(Ne=!0,j)for(var Ye=j.length-1;0<=Ye;Ye--){var Rt=O.g=j[Ye];Ne=cI(Rt,J,!0,O)&&Ne}if(Ne=cI(Rt=O.g=_,J,!0,O)&&Ne,Ne=cI(Rt,J,!1,O)&&Ne,j)for(Ye=0;Ye<j.length;Ye++)Ne=cI(Rt=O.g=j[Ye],J,!1,O)&&Ne}function cI(_,O,j,J){if(!(O=_.i.g[String(O)]))return!0;O=O.concat();for(var Ne=!0,Ye=0;Ye<O.length;++Ye){var Rt=O[Ye];if(Rt&&!Rt.da&&Rt.capture==j){var Zr=Rt.listener,lo=Rt.ha||Rt.src;Rt.fa&&KS(_.i,Rt),Ne=!1!==Zr.call(lo,J)&&Ne}}return Ne&&!J.defaultPrevented}function wP(_,O,j){if("function"==typeof _)j&&(_=Q(_,j));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=Q(_.handleEvent,_)}return 2147483647<Number(O)?-1:g.setTimeout(_,O||0)}function IP(_){_.g=wP(()=>{_.g=null,_.i&&(_.i=!1,IP(_))},_.l);const O=_.h;_.h=null,_.m.apply(null,O)}ye(Mo,Wi),Mo.prototype[qi]=!0,Mo.prototype.removeEventListener=function(_,O,j,J){DP(this,_,O,j,J)},Mo.prototype.N=function(){if(Mo.aa.N.call(this),this.i){var O,_=this.i;for(O in _.g){for(var j=_.g[O],J=0;J<j.length;J++)Xd(j[J]);delete _.g[O],_.h--}}this.F=null},Mo.prototype.K=function(_,O,j,J){return this.i.add(String(_),O,!1,j,J)},Mo.prototype.L=function(_,O,j,J){return this.i.add(String(_),O,!0,j,J)};class IF extends Wi{constructor(O,j){super(),this.m=O,this.l=j,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:IP(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mE(_){Wi.call(this),this.h=_,this.g={}}ye(mE,Wi);var CP=[];function AP(_){an(_.g,function(O,j){this.g.hasOwnProperty(j)&&ZS(O)},_),_.g={}}mE.prototype.N=function(){mE.aa.N.call(this),AP(this)},mE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nR=g.JSON.stringify,CF=g.JSON.parse;function rR(){}function RP(){}rR.prototype.h=null;var _E={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function iR(){mi.call(this,"d")}function sR(){mi.call(this,"c")}ye(iR,mi),ye(sR,mi);var Kg={},NP=null;function dI(){return NP=NP||new Mo}function MP(_){mi.call(this,Kg.La,_)}function yE(_){const O=dI();ra(O,new MP(O))}function PP(_,O){mi.call(this,Kg.STAT_EVENT,_),this.stat=O}function ia(_){const O=dI();ra(O,new PP(O,_))}function OP(_,O){mi.call(this,Kg.Ma,_),this.size=O}function vE(_,O){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){_()},O)}function bE(){this.g=!0}function Sy(_,O,j,J){_.info(function(){return"XMLHTTP TEXT ("+O+"): "+function MF(_,O){if(!_.g)return O;if(!O)return null;try{var j=JSON.parse(O);if(j)for(_=0;_<j.length;_++)if(Array.isArray(j[_])){var J=j[_];if(!(2>J.length)){var Ne=J[1];if(Array.isArray(Ne)&&!(1>Ne.length)){var Ye=Ne[0];if("noop"!=Ye&&"stop"!=Ye&&"close"!=Ye)for(var Rt=1;Rt<Ne.length;Rt++)Ne[Rt]=""}}}return nR(j)}catch{return O}}(_,j)+(J?" "+J:"")})}Kg.La="serverreachability",ye(MP,mi),Kg.STAT_EVENT="statevent",ye(PP,mi),Kg.Ma="timingevent",ye(OP,mi),bE.prototype.xa=function(){this.g=!1},bE.prototype.info=function(){};var oR,hI={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function fI(){}function Kf(_,O,j,J){this.j=_,this.i=O,this.l=j,this.R=J||1,this.U=new mE(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kP}function kP(){this.i=null,this.g="",this.h=!1}ye(fI,rR),fI.prototype.g=function(){return new XMLHttpRequest},fI.prototype.i=function(){return{}},oR=new fI;var FP={},aR={};function lR(_,O,j){_.L=1,_.v=_I(eh(O)),_.m=j,_.P=!0,VP(_,null)}function VP(_,O){_.F=Date.now(),pI(_),_.A=eh(_.v);var j=_.A,J=_.R;Array.isArray(J)||(J=[String(J)]),JP(j.i,"t",J),_.C=0,j=_.j.J,_.h=new kP,_.g=gO(_.j,j?O:null,!_.m),0<_.O&&(_.M=new IF(Q(_.Y,_,_.g),_.O)),O=_.U,j=_.g,J=_.ca;var Ne="readystatechange";Array.isArray(Ne)||(Ne&&(CP[0]=Ne.toString()),Ne=CP);for(var Ye=0;Ye<Ne.length;Ye++){var Rt=vP(j,Ne[Ye],J||O.handleEvent,!1,O.h||O);if(!Rt)break;O.g[Rt.key]=Rt}O=_.H?ie(_.H):{},_.m?(_.u||(_.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,O)):(_.u="GET",_.g.ea(_.A,_.u,null,O)),yE(),function SF(_,O,j,J,Ne,Ye){_.info(function(){if(_.g)if(Ye)for(var Rt="",Zr=Ye.split("&"),lo=0;lo<Zr.length;lo++){var vr=Zr[lo].split("=");if(1<vr.length){var Po=vr[0];vr=vr[1];var Oo=Po.split("_");Rt=2<=Oo.length&&"type"==Oo[1]?Rt+(Po+"=")+vr+"&":Rt+(Po+"=redacted&")}}else Rt=null;else Rt=Ye;return"XMLHTTP REQ ("+J+") [attempt "+Ne+"]: "+O+"\n"+j+"\n"+Rt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function LP(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function PF(_,O){var j=_.C,J=O.indexOf("\n",j);return-1==J?aR:(j=Number(O.substring(j,J)),isNaN(j)?FP:(J+=1)+j>O.length?aR:(O=O.slice(J,J+j),_.C=J+j,O))}function pI(_){_.S=Date.now()+_.I,BP(_,_.I)}function BP(_,O){if(null!=_.B)throw Error("WatchDog timer not null");_.B=vE(Q(_.ba,_),O)}function uR(_){_.B&&(g.clearTimeout(_.B),_.B=null)}function EE(_){0==_.j.G||_.J||dO(_.j,_)}function Yg(_){uR(_);var O=_.M;O&&"function"==typeof O.ma&&O.ma(),_.M=null,AP(_.U),_.g&&(O=_.g,_.g=null,O.abort(),O.ma())}function cR(_,O){try{var j=_.j;if(0!=j.G&&(j.g==_||dR(j.h,_)))if(!_.K&&dR(j.h,_)&&3==j.G){try{var J=j.Da.g.parse(O)}catch{J=null}if(Array.isArray(J)&&3==J.length){var Ne=J;if(0==Ne[0]){e:if(!j.u){if(j.g){if(!(j.g.F+3e3<_.F))break e;DI(j),bI(j)}gR(j),ia(18)}}else j.za=Ne[1],0<j.za-j.T&&37500>Ne[2]&&j.F&&0==j.v&&!j.C&&(j.C=vE(Q(j.Za,j),6e3));if(1>=jP(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Jg(j,11)}else if((_.K||j.g==_)&&DI(j),!Ct(O))for(Ne=j.Da.g.parse(O),O=0;O<Ne.length;O++){let vr=Ne[O];if(j.T=vr[0],vr=vr[1],2==j.G)if("c"==vr[0]){j.K=vr[1],j.ia=vr[2];const Po=vr[3];null!=Po&&(j.la=Po,j.j.info("VER="+j.la));const Oo=vr[4];null!=Oo&&(j.Aa=Oo,j.j.info("SVER="+j.Aa));const My=vr[5];null!=My&&"number"==typeof My&&0<My&&(j.L=J=1.5*My,j.j.info("backChannelRequestTimeoutMs_="+J)),J=j;const Qu=_.g;if(Qu){const wI=Qu.g?Qu.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wI){var Ye=J.h;Ye.g||-1==wI.indexOf("spdy")&&-1==wI.indexOf("quic")&&-1==wI.indexOf("h2")||(Ye.j=Ye.l,Ye.g=new Set,Ye.h&&(hR(Ye,Ye.h),Ye.h=null))}if(J.D){const _R=Qu.g?Qu.g.getResponseHeader("X-HTTP-Session-Id"):null;_R&&(J.ya=_R,yi(J.I,J.D,_R))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-_.F,j.j.info("Handshake RTT: "+j.R+"ms"));var Rt=_;if((J=j).qa=pO(J,J.J?J.ia:null,J.W),Rt.K){$P(J.h,Rt);var Zr=Rt,lo=J.L;lo&&(Zr.I=lo),Zr.B&&(uR(Zr),pI(Zr)),J.g=Rt}else uO(J);0<j.i.length&&EI(j)}else"stop"!=vr[0]&&"close"!=vr[0]||Jg(j,7);else 3==j.G&&("stop"==vr[0]||"close"==vr[0]?"stop"==vr[0]?Jg(j,7):pR(j):"noop"!=vr[0]&&j.l&&j.l.ta(vr),j.v=0)}yE()}catch{}}function UP(_){this.l=_||10,_=g.PerformanceNavigationTiming?0<(_=g.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HP(_){return!!_.h||!!_.g&&_.g.size>=_.j}function jP(_){return _.h?1:_.g?_.g.size:0}function dR(_,O){return _.h?_.h==O:!!_.g&&_.g.has(O)}function hR(_,O){_.g?_.g.add(O):_.h=O}function $P(_,O){_.h&&_.h==O?_.h=null:_.g&&_.g.has(O)&&_.g.delete(O)}function GP(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let O=_.i;for(const j of _.g.values())O=O.concat(j.D);return O}return Be(_.i)}function zP(_,O){if(_.forEach&&"function"==typeof _.forEach)_.forEach(O,void 0);else if(v(_)||"string"==typeof _)Array.prototype.forEach.call(_,O,void 0);else for(var j=function kF(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(v(_)||"string"==typeof _){var O=[];_=_.length;for(var j=0;j<_;j++)O.push(j);return O}O=[],j=0;for(const J in _)O[j++]=J;return O}}}(_),J=function xF(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(v(_)){for(var O=[],j=_.length,J=0;J<j;J++)O.push(_[J]);return O}for(J in O=[],j=0,_)O[j++]=_[J];return O}(_),Ne=J.length,Ye=0;Ye<Ne;Ye++)O.call(void 0,J[Ye],j&&j[Ye],_)}Kf.prototype.ca=function(_){_=_.target;const O=this.M;O&&3==th(_)?O.j():this.Y(_)},Kf.prototype.Y=function(_){try{if(_==this.g)e:{const Oo=th(this.g);var O=this.g.Ba();if(this.g.Z(),!(3>Oo)&&(3!=Oo||this.g&&(this.h.h||this.g.oa()||iO(this.g)))){this.J||4!=Oo||7==O||yE(),uR(this);var j=this.g.Z();this.X=j;t:if(LP(this)){var J=iO(this.g);_="";var Ne=J.length,Ye=4==th(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yg(this),EE(this);var Rt="";break t}this.h.i=new g.TextDecoder}for(O=0;O<Ne;O++)this.h.h=!0,_+=this.h.i.decode(J[O],{stream:!(Ye&&O==Ne-1)});J.length=0,this.h.g+=_,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=200==j,function RF(_,O,j,J,Ne,Ye,Rt){_.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ne+"]: "+O+"\n"+j+"\n"+Ye+" "+Rt})}(this.i,this.u,this.A,this.l,this.R,Oo,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Zr,lo=this.g;if((Zr=lo.g?lo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(Zr)){var vr=Zr;break t}}vr=null}if(!(j=vr)){this.o=!1,this.s=3,ia(12),Yg(this),EE(this);break e}Sy(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cR(this,j)}if(this.P){let Qu;for(j=!0;!this.J&&this.C<Rt.length;){if(Qu=PF(this,Rt),Qu==aR){4==Oo&&(this.s=4,ia(14),j=!1),Sy(this.i,this.l,null,"[Incomplete Response]");break}if(Qu==FP){this.s=4,ia(15),Sy(this.i,this.l,Rt,"[Invalid Chunk]"),j=!1;break}Sy(this.i,this.l,Qu,null),cR(this,Qu)}if(LP(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Oo||0!=Rt.length||this.h.h||(this.s=1,ia(16),j=!1),this.o=this.o&&j,j){if(0<Rt.length&&!this.W){this.W=!0;var Po=this.j;Po.g==this&&Po.ba&&!Po.M&&(Po.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),mR(Po),Po.M=!0,ia(11))}}else Sy(this.i,this.l,Rt,"[Invalid Chunked Response]"),Yg(this),EE(this)}else Sy(this.i,this.l,Rt,null),cR(this,Rt);4==Oo&&Yg(this),this.o&&!this.J&&(4==Oo?dO(this.j,this):(this.o=!1,pI(this)))}else(function YF(_){const O={};_=(_.g&&2<=th(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let J=0;J<_.length;J++){if(Ct(_[J]))continue;var j=we(_[J]);const Ne=j[0];if("string"!=typeof(j=j[1]))continue;j=j.trim();const Ye=O[Ne]||[];O[Ne]=Ye,Ye.push(j)}!function me(_,O){for(const j in _)O.call(void 0,_[j],j,_)}(O,function(J){return J.join(", ")})})(this.g),400==j&&0<Rt.indexOf("Unknown SID")?(this.s=3,ia(12)):(this.s=0,ia(13)),Yg(this),EE(this)}}}catch{}},Kf.prototype.cancel=function(){this.J=!0,Yg(this)},Kf.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function NF(_,O){_.info(function(){return"TIMEOUT: "+O})}(this.i,this.A),2!=this.L&&(yE(),ia(17)),Yg(this),this.s=2,EE(this)):BP(this,this.S-_)},UP.prototype.cancel=function(){if(this.i=GP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var WP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qg){this.h=_.h,gI(this,_.j),this.o=_.o,this.g=_.g,mI(this,_.s),this.l=_.l;var O=_.i,j=new wE;j.i=O.i,O.g&&(j.g=new Map(O.g),j.h=O.h),qP(this,j),this.m=_.m}else _&&(O=String(_).match(WP))?(this.h=!1,gI(this,O[1]||"",!0),this.o=DE(O[2]||""),this.g=DE(O[3]||"",!0),mI(this,O[4]),this.l=DE(O[5]||"",!0),qP(this,O[6]||"",!0),this.m=DE(O[7]||"")):(this.h=!1,this.i=new wE(null,this.h))}function eh(_){return new Qg(_)}function gI(_,O,j){_.j=j?DE(O,!0):O,_.j&&(_.j=_.j.replace(/:$/,""))}function mI(_,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);_.s=O}else _.s=null}function qP(_,O,j){O instanceof wE?(_.i=O,function jF(_,O){O&&!_.j&&(Yf(_),_.i=null,_.g.forEach(function(j,J){var Ne=J.toLowerCase();J!=Ne&&(YP(this,J),JP(this,Ne,j))},_)),_.j=O}(_.i,_.h)):(j||(O=TE(O,UF)),_.i=new wE(O,_.h))}function yi(_,O,j){_.i.set(O,j)}function _I(_){return yi(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function DE(_,O){return _?O?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function TE(_,O,j){return"string"==typeof _?(_=encodeURI(_).replace(O,VF),j&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function VF(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Qg.prototype.toString=function(){var _=[],O=this.j;O&&_.push(TE(O,KP,!0),":");var j=this.g;return(j||"file"==O)&&(_.push("//"),(O=this.o)&&_.push(TE(O,KP,!0),"@"),_.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(j=this.s)&&_.push(":",String(j))),(j=this.l)&&(this.g&&"/"!=j.charAt(0)&&_.push("/"),_.push(TE(j,"/"==j.charAt(0)?BF:LF,!0))),(j=this.i.toString())&&_.push("?",j),(j=this.m)&&_.push("#",TE(j,HF)),_.join("")};var _,KP=/[#\/\?@]/g,LF=/[#\?:]/g,BF=/[#\?]/g,UF=/[#\?@]/g,HF=/#/g;function wE(_,O){this.h=this.g=null,this.i=_||null,this.j=!!O}function Yf(_){_.g||(_.g=new Map,_.h=0,_.i&&function FF(_,O){if(_){_=_.split("&");for(var j=0;j<_.length;j++){var J=_[j].indexOf("="),Ne=null;if(0<=J){var Ye=_[j].substring(0,J);Ne=_[j].substring(J+1)}else Ye=_[j];O(Ye,Ne?decodeURIComponent(Ne.replace(/\+/g," ")):"")}}}(_.i,function(O,j){_.add(decodeURIComponent(O.replace(/\+/g," ")),j)}))}function YP(_,O){Yf(_),O=Ry(_,O),_.g.has(O)&&(_.i=null,_.h-=_.g.get(O).length,_.g.delete(O))}function QP(_,O){return Yf(_),O=Ry(_,O),_.g.has(O)}function JP(_,O,j){YP(_,O),0<j.length&&(_.i=null,_.g.set(Ry(_,O),Be(j)),_.h+=j.length)}function Ry(_,O){return O=String(O),_.j&&(O=O.toLowerCase()),O}function Qf(_,O,j,J,Ne){try{Ne&&(Ne.onload=null,Ne.onerror=null,Ne.onabort=null,Ne.ontimeout=null),J(j)}catch{}}function zF(){this.g=new class{stringify(_){return g.JSON.stringify(_,void 0)}parse(_){return g.JSON.parse(_,void 0)}}}function WF(_,O,j){const J=j||"";try{zP(_,function(Ne,Ye){let Rt=Ne;I(Ne)&&(Rt=nR(Ne)),O.push(J+Ye+"="+encodeURIComponent(Rt))})}catch(Ne){throw O.push(J+"type="+encodeURIComponent("_badmap")),Ne}}function IE(_){this.l=_.Ub||null,this.j=_.eb||!1}function yI(_,O){Mo.call(this),this.D=_,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ZP(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function CE(_){_.readyState=4,_.l=null,_.j=null,_.v=null,AE(_)}function AE(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function XP(_){let O="";return an(_,function(j,J){O+=J,O+=":",O+=j,O+="\r\n"}),O}function fR(_,O,j){e:{for(J in j){var J=!1;break e}J=!0}J||(j=XP(j),"string"==typeof _?null!=j&&encodeURIComponent(String(j)):yi(_,O,j))}function Ki(_){Mo.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(r=wE.prototype).add=function(_,O){Yf(this),this.i=null,_=Ry(this,_);var j=this.g.get(_);return j||this.g.set(_,j=[]),j.push(O),this.h+=1,this},r.forEach=function(_,O){Yf(this),this.g.forEach(function(j,J){j.forEach(function(Ne){_.call(O,Ne,J,this)},this)},this)},r.na=function(){Yf(this);const _=Array.from(this.g.values()),O=Array.from(this.g.keys()),j=[];for(let J=0;J<O.length;J++){const Ne=_[J];for(let Ye=0;Ye<Ne.length;Ye++)j.push(O[J])}return j},r.V=function(_){Yf(this);let O=[];if("string"==typeof _)QP(this,_)&&(O=O.concat(this.g.get(Ry(this,_))));else{_=Array.from(this.g.values());for(let j=0;j<_.length;j++)O=O.concat(_[j])}return O},r.set=function(_,O){return Yf(this),this.i=null,QP(this,_=Ry(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[O]),this.h+=1,this},r.get=function(_,O){return _&&0<(_=this.V(_)).length?String(_[0]):O},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],O=Array.from(this.g.keys());for(var j=0;j<O.length;j++){var J=O[j];const Ye=encodeURIComponent(String(J)),Rt=this.V(J);for(J=0;J<Rt.length;J++){var Ne=Ye;""!==Rt[J]&&(Ne+="="+encodeURIComponent(String(Rt[J]))),_.push(Ne)}}return this.i=_.join("&")},ye(IE,rR),IE.prototype.g=function(){return new yI(this.l,this.j)},IE.prototype.i=(_={},function(){return _}),ye(yI,Mo),(r=yI.prototype).open=function(_,O){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=O,this.readyState=1,AE(this)},r.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(O.body=_),(this.D||g).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,CE(this)),this.readyState=0},r.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,AE(this)),this.g&&(this.readyState=3,AE(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZP(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},r.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var O=_.value?_.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!_.done}))&&(this.response=this.responseText+=O)}_.done?CE(this):AE(this),3==this.readyState&&ZP(this)}},r.Ra=function(_){this.g&&(this.response=this.responseText=_,CE(this))},r.Qa=function(_){this.g&&(this.response=_,CE(this))},r.ga=function(){this.g&&CE(this)},r.setRequestHeader=function(_,O){this.u.append(_,O)},r.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],O=this.h.entries();for(var j=O.next();!j.done;)_.push((j=j.value)[0]+": "+j[1]),j=O.next();return _.join("\r\n")},Object.defineProperty(yI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),ye(Ki,Mo);var qF=/^https?$/i,KF=["POST","PUT"];function eO(_,O){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=O,_.m=5,tO(_),vI(_)}function tO(_){_.A||(_.A=!0,ra(_,"complete"),ra(_,"error"))}function nO(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=th(_)||2!=_.Z()))if(_.u&&4==th(_))wP(_.Ea,0,_);else if(ra(_,"readystatechange"),4==th(_)){_.h=!1;try{const Rt=_.Z();e:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var j;if(!(j=O)){var J;if(J=0===Rt){var Ne=String(_.D).match(WP)[1]||null;!Ne&&g.self&&g.self.location&&(Ne=g.self.location.protocol.slice(0,-1)),J=!qF.test(Ne?Ne.toLowerCase():"")}j=J}if(j)ra(_,"complete"),ra(_,"success");else{_.m=6;try{var Ye=2<th(_)?_.g.statusText:""}catch{Ye=""}_.l=Ye+" ["+_.Z()+"]",tO(_)}}finally{vI(_)}}}function vI(_,O){if(_.g){rO(_);const j=_.g,J=_.v[0]?()=>{}:null;_.g=null,_.v=null,O||ra(_,"ready");try{j.onreadystatechange=J}catch{}}}function rO(_){_.I&&(g.clearTimeout(_.I),_.I=null)}function th(_){return _.g?_.g.readyState:0}function iO(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function SE(_,O,j){return j&&j.internalChannelParams&&j.internalChannelParams[_]||O}function sO(_){this.Aa=0,this.i=[],this.j=new bE,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=SE("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=SE("baseRetryDelayMs",5e3,_),this.cb=SE("retryDelaySeedMs",1e4,_),this.Wa=SE("forwardChannelMaxRetries",2,_),this.wa=SE("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new UP(_&&_.concurrentRequestLimit),this.Da=new zF,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function pR(_){if(oO(_),3==_.G){var O=_.U++,j=eh(_.I);if(yi(j,"SID",_.K),yi(j,"RID",O),yi(j,"TYPE","terminate"),RE(_,j),(O=new Kf(_,_.j,O)).L=2,O.v=_I(eh(j)),j=!1,g.navigator&&g.navigator.sendBeacon)try{j=g.navigator.sendBeacon(O.v.toString(),"")}catch{}!j&&g.Image&&((new Image).src=O.v,j=!0),j||(O.g=gO(O.j,null),O.g.ea(O.v)),O.F=Date.now(),pI(O)}fO(_)}function bI(_){_.g&&(mR(_),_.g.cancel(),_.g=null)}function oO(_){bI(_),_.u&&(g.clearTimeout(_.u),_.u=null),DI(_),_.h.cancel(),_.s&&("number"==typeof _.s&&g.clearTimeout(_.s),_.s=null)}function EI(_){if(!HP(_.h)&&!_.s){_.s=!0;var O=_.Ga;Zt||rs(),ln||(Zt(),ln=!0),er.add(O,_),_.B=0}}function aO(_,O){var j;j=O?O.l:_.U++;const J=eh(_.I);yi(J,"SID",_.K),yi(J,"RID",j),yi(J,"AID",_.T),RE(_,J),_.m&&_.o&&fR(J,_.m,_.o),j=new Kf(_,_.j,j,_.B+1),null===_.m&&(j.H=_.o),O&&(_.i=O.D.concat(_.i)),O=lO(_,j,1e3),j.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),hR(_.h,j),lR(j,J,O)}function RE(_,O){_.H&&an(_.H,function(j,J){yi(O,J,j)}),_.l&&zP({},function(j,J){yi(O,J,j)})}function lO(_,O,j){j=Math.min(_.i.length,j);var J=_.l?Q(_.l.Na,_.l,_):null;e:{var Ne=_.i;let Ye=-1;for(;;){const Rt=["count="+j];-1==Ye?0<j?(Ye=Ne[0].g,Rt.push("ofs="+Ye)):Ye=0:Rt.push("ofs="+Ye);let Zr=!0;for(let lo=0;lo<j;lo++){let vr=Ne[lo].g;const Po=Ne[lo].map;if(vr-=Ye,0>vr)Ye=Math.max(0,Ne[lo].g-100),Zr=!1;else try{WF(Po,Rt,"req"+vr+"_")}catch{J&&J(Po)}}if(Zr){J=Rt.join("&");break e}}}return _=_.i.splice(0,j),O.D=_,J}function uO(_){if(!_.g&&!_.u){_.Y=1;var O=_.Fa;Zt||rs(),ln||(Zt(),ln=!0),er.add(O,_),_.v=0}}function gR(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=vE(Q(_.Fa,_),hO(_,_.v)),_.v++,0))}function mR(_){null!=_.A&&(g.clearTimeout(_.A),_.A=null)}function cO(_){_.g=new Kf(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var O=eh(_.qa);yi(O,"RID","rpc"),yi(O,"SID",_.K),yi(O,"AID",_.T),yi(O,"CI",_.F?"0":"1"),!_.F&&_.ja&&yi(O,"TO",_.ja),yi(O,"TYPE","xmlhttp"),RE(_,O),_.m&&_.o&&fR(O,_.m,_.o),_.L&&(_.g.I=_.L);var j=_.g;_=_.ia,j.L=1,j.v=_I(eh(O)),j.m=null,j.P=!0,VP(j,_)}function DI(_){null!=_.C&&(g.clearTimeout(_.C),_.C=null)}function dO(_,O){var j=null;if(_.g==O){DI(_),mR(_),_.g=null;var J=2}else{if(!dR(_.h,O))return;j=O.D,$P(_.h,O),J=1}if(0!=_.G)if(O.o)if(1==J){j=O.m?O.m.length:0,O=Date.now()-O.F;var Ne=_.B;ra(J=dI(),new OP(J,j)),EI(_)}else uO(_);else if(3==(Ne=O.s)||0==Ne&&0<O.X||!(1==J&&function QF(_,O){return!(jP(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=O.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=vE(Q(_.Ga,_,O),hO(_,_.B)),_.B++,0)))}(_,O)||2==J&&gR(_)))switch(j&&0<j.length&&(O=_.h,O.i=O.i.concat(j)),Ne){case 1:Jg(_,5);break;case 4:Jg(_,10);break;case 3:Jg(_,6);break;default:Jg(_,2)}}function hO(_,O){let j=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(j*=2),j*O}function Jg(_,O){if(_.j.info("Error code "+O),2==O){var j=Q(_.fb,_),J=_.Xa;const Ne=!J;J=new Qg(J||"//www.google.com/images/cleardot.gif"),g.location&&"http"==g.location.protocol||gI(J,"https"),_I(J),Ne?function $F(_,O){const j=new bE;if(g.Image){const J=new Image;J.onload=ue(Qf,j,"TestLoadImage: loaded",!0,O,J),J.onerror=ue(Qf,j,"TestLoadImage: error",!1,O,J),J.onabort=ue(Qf,j,"TestLoadImage: abort",!1,O,J),J.ontimeout=ue(Qf,j,"TestLoadImage: timeout",!1,O,J),g.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=_}else O(!1)}(J.toString(),j):function GF(_,O){new bE;const J=new AbortController,Ne=setTimeout(()=>{J.abort(),Qf(0,0,!1,O)},1e4);fetch(_,{signal:J.signal}).then(Ye=>{clearTimeout(Ne),Qf(0,0,!!Ye.ok,O)}).catch(()=>{clearTimeout(Ne),Qf(0,0,!1,O)})}(J.toString(),j)}else ia(2);_.G=0,_.l&&_.l.sa(O),fO(_),oO(_)}function fO(_){if(_.G=0,_.ka=[],_.l){const O=GP(_.h);(0!=O.length||0!=_.i.length)&&(Ke(_.ka,O),Ke(_.ka,_.i),_.h.i.length=0,Be(_.i),_.i.length=0),_.l.ra()}}function pO(_,O,j){var J=j instanceof Qg?eh(j):new Qg(j);if(""!=J.g)O&&(J.g=O+"."+J.g),mI(J,J.s);else{var Ne=g.location;J=Ne.protocol,O=O?O+"."+Ne.hostname:Ne.hostname,Ne=+Ne.port;var Ye=new Qg(null);J&&gI(Ye,J),O&&(Ye.g=O),Ne&&mI(Ye,Ne),j&&(Ye.l=j),J=Ye}return O=_.ya,(j=_.D)&&O&&yi(J,j,O),yi(J,"VER",_.la),RE(_,J),J}function gO(_,O,j){if(O&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(O=new Ki(_.Ca&&!_.pa?new IE({eb:j}):_.pa)).Ha(_.J),O}function mO(){}function TI(){}function sl(_,O){Mo.call(this),this.g=new sO(O),this.l=_,this.h=O&&O.messageUrlParams||null,_=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(_?_["X-WebChannel-Content-Type"]=O.messageContentType:_={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(_?_["X-WebChannel-Client-Profile"]=O.va:_={"X-WebChannel-Client-Profile":O.va}),this.g.S=_,(_=O&&O.Sb)&&!Ct(_)&&(this.g.m=_),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!Ct(O)&&(this.g.D=O,null!==(_=this.h)&&O in _&&O in(_=this.h)&&delete _[O]),this.j=new Ny(this)}function _O(_){iR.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var O=_.__sm__;if(O){e:{for(const j in O){_=j;break e}_=void 0}(this.i=_)&&(_=this.i,O=null!==O&&_ in O?O[_]:void 0),this.data=O}else this.data=_}function yO(){sR.call(this),this.status=1}function Ny(_){this.g=_}(r=Ki.prototype).Ha=function(_){this.J=_},r.ea=function(_,O,j,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);O=O?O.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oR.g(),this.v=function SP(_){return _.h||(_.h=_.i())}(this.o?this.o:oR),this.g.onreadystatechange=Q(this.Ea,this);try{this.B=!0,this.g.open(O,String(_),!0),this.B=!1}catch(Ye){return void eO(this,Ye)}if(_=j||"",j=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ne in J)j.set(Ne,J[Ne]);else{if("function"!=typeof J.keys||"function"!=typeof J.get)throw Error("Unknown input type for opt_headers: "+String(J));for(const Ye of J.keys())j.set(Ye,J.get(Ye))}J=Array.from(j.keys()).find(Ye=>"content-type"==Ye.toLowerCase()),Ne=g.FormData&&_ instanceof g.FormData,!(0<=Array.prototype.indexOf.call(KF,O,void 0))||J||Ne||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ye,Rt]of j)this.g.setRequestHeader(Ye,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rO(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ye){eO(this,Ye)}},r.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ra(this,"complete"),ra(this,"abort"),vI(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vI(this,!0)),Ki.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?nO(this):this.bb())},r.bb=function(){nO(this)},r.isActive=function(){return!!this.g},r.Z=function(){try{return 2<th(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(_){if(this.g){var O=this.g.responseText;return _&&0==O.indexOf(_)&&(O=O.substring(_.length)),CF(O)}},r.Ba=function(){return this.m},r.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(r=sO.prototype).la=8,r.G=1,r.connect=function(_,O,j,J){ia(0),this.W=_,this.H=O||{},j&&void 0!==J&&(this.H.OSID=j,this.H.OAID=J),this.F=this.X,this.I=pO(this,null,this.W),EI(this)},r.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ne=new Kf(this,this.j,_);let Ye=this.o;if(this.S&&(Ye?(Ye=ie(Ye),ve(Ye,this.S)):Ye=this.S),null!==this.m||this.O||(Ne.H=Ye,Ye=null),this.P)e:{for(var O=0,j=0;j<this.i.length;j++){var J=this.i[j];if(void 0===(J="__data__"in J.map&&"string"==typeof(J=J.map.__data__)?J.length:void 0))break;if(4096<(O+=J)){O=j;break e}if(4096===O||j===this.i.length-1){O=j+1;break e}}O=1e3}else O=1e3;O=lO(this,Ne,O),yi(j=eh(this.I),"RID",_),yi(j,"CVER",22),this.D&&yi(j,"X-HTTP-Session-Id",this.D),RE(this,j),Ye&&(this.O?O="headers="+encodeURIComponent(String(XP(Ye)))+"&"+O:this.m&&fR(j,this.m,Ye)),hR(this.h,Ne),this.Ua&&yi(j,"TYPE","init"),this.P?(yi(j,"$req",O),yi(j,"SID","null"),Ne.T=!0,lR(Ne,j,null)):lR(Ne,j,O),this.G=2}}else 3==this.G&&(_?aO(this,_):0==this.i.length||HP(this.h)||aO(this))},r.Fa=function(){if(this.u=null,cO(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=vE(Q(this.ab,this),_)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ia(10),bI(this),cO(this))},r.Za=function(){null!=this.C&&(this.C=null,bI(this),gR(this),ia(19))},r.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ia(2)):(this.j.info("Failed to ping google.com"),ia(1))},r.isActive=function(){return!!this.l&&this.l.isActive(this)},(r=mO.prototype).ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){},TI.prototype.g=function(_,O){return new sl(_,O)},ye(sl,Mo),sl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sl.prototype.close=function(){pR(this.g)},sl.prototype.o=function(_){var O=this.g;if("string"==typeof _){var j={};j.__data__=_,_=j}else this.u&&((j={}).__data__=nR(_),_=j);O.i.push(new class{constructor(_,O){this.g=_,this.map=O}}(O.Ya++,_)),3==O.G&&EI(O)},sl.prototype.N=function(){this.g.l=null,delete this.j,pR(this.g),delete this.g,sl.aa.N.call(this)},ye(_O,iR),ye(yO,sR),ye(Ny,mO),Ny.prototype.ua=function(){ra(this.g,"a")},Ny.prototype.ta=function(_){ra(this.g,new _O(_))},Ny.prototype.sa=function(_){ra(this.g,new yO)},Ny.prototype.ra=function(){ra(this.g,"b")},TI.prototype.createWebChannel=TI.prototype.g,sl.prototype.send=sl.prototype.o,sl.prototype.open=sl.prototype.m,sl.prototype.close=sl.prototype.close,eb=Ra.createWebChannelTransport=function(){return new TI},X0=Ra.getStatEventTarget=function(){return dI()},Z0=Ra.Event=Kg,J0=Ra.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hI.NO_ERROR=0,hI.TIMEOUT=8,hI.HTTP_ERROR=6,rg=Ra.ErrorCode=hI,xP.COMPLETE="complete",Q0=Ra.EventType=xP,RP.EventType=_E,_E.OPEN="a",_E.CLOSE="b",_E.ERROR="c",_E.MESSAGE="d",Mo.prototype.listen=Mo.prototype.K,v_=Ra.WebChannel=RP,Ra.FetchXmlHttpFactory=IE,Ki.prototype.listenOnce=Ki.prototype.L,Ki.prototype.getLastError=Ki.prototype.Ka,Ki.prototype.getLastErrorCode=Ki.prototype.Ba,Ki.prototype.getStatus=Ki.prototype.Z,Ki.prototype.getResponseJson=Ki.prototype.Oa,Ki.prototype.getResponseText=Ki.prototype.oa,Ki.prototype.send=Ki.prototype.ea,Ki.prototype.setWithCredentials=Ki.prototype.Ha,ng=Ra.XhrIo=Ki}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});const tb="@firebase/firestore";class ps{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");let lf="11.7.0";const Na=new id("@firebase/firestore");function uf(){return Na.logLevel}function pt(r,...e){if(Na.logLevel<=Lt.DEBUG){const t=e.map(b_);Na.debug(`Firestore (${lf}): ${r}`,...t)}}function ni(r,...e){if(Na.logLevel<=Lt.ERROR){const t=e.map(b_);Na.error(`Firestore (${lf}): ${r}`,...t)}}function Co(r,...e){if(Na.logLevel<=Lt.WARN){const t=e.map(b_);Na.warn(`Firestore (${lf}): ${r}`,...t)}}function b_(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function xt(r,e,t){let n="Unexpected state";"string"==typeof e?n=e:t=e,TT(r,n,t)}function TT(r,e,t){let n=`FIRESTORE (${lf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(void 0!==t)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ni(n),new Error(n)}function jt(r,e,t,n){let o="Unexpected state";"string"==typeof t?o=t:n=t,r||TT(e,o,n)}function wt(r,e){return r}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ps.UNAUTHENTICATED))}shutdown(){}}class K1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IT{constructor(e){this.t=e,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;jt(void 0===this.o,42304);let o=this.i;const l=I=>this.i!==o?(o=this.i,t(I)):Promise.resolve();let d=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ts,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const I=d;e.enqueueRetryable(K(function*(){yield I.promise,yield l(n.currentUser)}))},v=I=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ts)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(jt("string"==typeof n.accessToken,31837,{l:n}),new nb(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e,2055,{h:e}),new ps(e)}}class Y1{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ps.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q1{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Y1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){jt(void 0===this.o,3512);const n=l=>{null!=l.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,pt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>n(l))};const o=l=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt("string"==typeof t.token,44558,{tokenResult:t}),this.m=t.token,new CT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}function E_(){return new TextEncoder}class sg{static newId(){const t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=qR(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return n}}function dn(r,e){return r<e?-1:r>e?1:0}function rb(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),o=e.codePointAt(t);if(n!==o){if(n<128&&o<128)return dn(n,o);{const l=E_(),d=og(l.encode(ib(r,t)),l.encode(ib(e,t)));return 0!==d?d:dn(n,o)}}t+=n>65535?2:1}return dn(r.length,e.length)}function ib(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function og(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return dn(r[t],e[t]);return dn(r.length,e.length)}function cf(r,e,t){return r.length===e.length&&r.every((n,o)=>t(n,e[o]))}function AT(r){return r+"\0"}const ST=-62135596800;class ri{static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ri(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ct(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ct(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ST)throw new ct(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-ST).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new ri(0,0))}static max(){return new Kt(new ri(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sb="__name__";class Hl{constructor(e,t,n){void 0===t?t=0:t>e.length&&xt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&xt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hl?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=Hl.compareSegments(e.get(o),t.get(o));if(0!==l)return l}return dn(e.length,t.length)}static compareSegments(e,t){const n=Hl.isNumericId(e),o=Hl.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?Hl.extractNumericId(e).compare(Hl.extractNumericId(t)):rb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oc.fromString(e.substring(4,e.length-2))}}class Vn extends Hl{construct(e,t,n){return new Vn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ct(je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(o=>o.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends Hl{construct(e,t,n){return new qr(e,t,n)}static isValidIdentifier(e){return J1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===sb}static keyField(){return new qr([sb])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(0===n.length)throw new ct(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new ct(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new ct(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=v,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(n+=g,o++):(l(),o++)}if(l(),d)throw new ct(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qr(t)}static emptyPath(){return new qr([])}}class St{constructor(e){this.path=e}static fromPath(e){return new St(Vn.fromString(e))}static fromName(e){return new St(Vn.fromString(e).popFirst(5))}static empty(){return new St(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Vn(e.slice()))}}class df{constructor(e,t,n,o){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=o}}function D_(r){return r.fields.find(e=>2===e.kind)}function Nd(r){return r.fields.filter(e=>2!==e.kind)}df.UNKNOWN_ID=-1;class Md{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pd(0,Qo.min())}}function MT(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Kt.fromTimestamp(1e9===n?new ri(t+1,0):new ri(t,n));return new Qo(o,St.empty(),e)}function PT(r){return new Qo(r.readTime,r.key,-1)}class Qo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qo(Kt.min(),St.empty(),-1)}static max(){return new Qo(Kt.max(),St.empty(),-1)}}function ag(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=St.comparator(r.documentKey,e.documentKey),0!==t?t:dn(r.largestBatchId,e.largestBatchId))}const OT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ab{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(r){return lb.apply(this,arguments)}function lb(){return lb=K(function*(r){if(r.code!==je.FAILED_PRECONDITION||r.message!==OT)throw r;pt("LocalStore","Unexpectedly lost primary lease")}),lb.apply(this,arguments)}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,n)=>{t(e)})}static reject(e){return new Re((t,n)=>{n(e)})}static waitFor(e){return new Re((t,n)=>{let o=0,l=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++l,d&&l===o&&t()},v=>n(v))}),d=!0,l===o&&t()})}static or(e){let t=Re.resolve(!1);for(const n of e)t=t.next(o=>o?Re.resolve(o):n());return t}static forEach(e,t){const n=[];return e.forEach((o,l)=>{n.push(t.call(this,o,l))}),this.waitFor(n)}static mapArray(e,t){return new Re((n,o)=>{const l=e.length,d=new Array(l);let g=0;for(let v=0;v<l;v++){const I=v;t(e[I]).next(F=>{d[I]=F,++g,g===l&&n(d)},F=>o(F))}})}static doWhile(e,t){return new Re((n,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):n()};l()})}}const Jo="SimpleDb";class T_{static open(e,t,n,o){try{return new T_(t,e.transaction(o,n))}catch(l){throw new hf(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ts,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new hf(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const o=I_(n.target.error);this.S.reject(new hf(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pt(Jo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new kT(t)}}class jl{static delete(e){return pt(Jo,"Removing database:",e),Od(rt().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!_u())return!1;if(jl.F())return!0;const e=In(),t=jl.M(e),n=0<t&&t<10,o=xT(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||l)}static F(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===jl.M(In())&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}k(e){var t=this;return K(function*(){return t.db||(pt(Jo,"Opening database:",t.name),t.db=yield new Promise((n,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{n(d.target.result)},l.onblocked=()=>{o(new hf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new ct(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new ct(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new hf(e,g))},l.onupgradeneeded=d=>{pt(Jo,'Database "'+t.name+'" requires upgrade from version:',d.oldVersion);const g=d.target.result;if(null!==t.L&&t.L!==d.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${t.L}, event.oldVersion=${d.oldVersion}, event.newVersion=${d.newVersion}, db.version=${g.version}`);t.B.q(g,l.transaction,d.oldVersion,t.version).next(()=>{pt(Jo,"Database upgrade to version "+t.version+" complete")})}}),t.db.addEventListener("close",n=>{t.L=n.target.version},{passive:!0})),t.$&&(t.db.onversionchange=n=>t.$(n)),t.db})()}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,o){var l=this;return K(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.k(e);const v=T_.open(l.db,e,d?"readonly":"readwrite",n),I=o(v).next(F=>(v.v(),F)).catch(F=>(v.abort(F),Re.reject(F))).toPromise();return I.catch(()=>{}),yield v.D,I}catch(v){const I=v,F="FirebaseError"!==I.name&&g<3;if(pt(Jo,"Transaction failed with error:",I.message,"Retrying:",F),l.close(),!F)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function xT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class Z1{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Od(this.K.delete())}}class hf extends ct{constructor(e,t){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $u(r){return"IndexedDbTransactionError"===r.name}class kT{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(pt(Jo,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(pt(Jo,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Od(n)}add(e){return pt(Jo,"ADD",this.store.name,e,e),Od(this.store.add(e))}get(e){return Od(this.store.get(e)).next(t=>(void 0===t&&(t=null),pt(Jo,"GET",this.store.name,e,t),t))}delete(e){return pt(Jo,"DELETE",this.store.name,e),Od(this.store.delete(e))}count(){return pt(Jo,"COUNT",this.store.name),Od(this.store.count())}J(e,t){const n=this.options(e,t),o=n.index?this.store.index(n.index):this.store;if("function"==typeof o.getAll){const l=o.getAll(n.range);return new Re((d,g)=>{l.onerror=v=>{g(v.target.error)},l.onsuccess=v=>{d(v.target.result)}})}{const l=this.cursor(n),d=[];return this.Y(l,(g,v)=>{d.push(v)}).next(()=>d)}}Z(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Re((o,l)=>{n.onerror=d=>{l(d.target.error)},n.onsuccess=d=>{o(d.target.result)}})}X(e,t){pt(Jo,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const o=this.cursor(n);return this.Y(o,(l,d,g)=>g.delete())}te(e,t){let n;t?n=e:(n={},t=e);const o=this.cursor(n);return this.Y(o,t)}ne(e){const t=this.cursor({});return new Re((n,o)=>{t.onerror=l=>{const d=I_(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():n()}):n()}})}Y(e,t){const n=[];return new Re((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const v=new Z1(g),I=t(g.primaryKey,g.value,v);if(I instanceof Re){const F=I.catch(L=>(v.done(),Re.reject(L)));n.push(F)}v.isDone?o():null===v.j?g.continue():g.continue(v.j)}}).next(()=>Re.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Od(r){return new Re((e,t)=>{r.onsuccess=n=>{e(n.target.result)},r.onerror=n=>{const o=I_(n.target.error);t(o)}})}let w_=!1;function I_(r){const e=jl.M(In());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return w_||(w_=!0,setTimeout(()=>{throw n},0)),n}}return r}const lg="IndexBackfiller";class X1{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ie(e){var t=this;pt(lg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,K(function*(){t.task=null;try{const n=yield t.re.se();pt(lg,`Documents written: ${n}`)}catch(n){$u(n)?pt(lg,"Ignoring IndexedDB error during index backfill: ",n):yield xc(n)}yield t.ie(6e4)}))}}class ub{constructor(e,t){this.localStore=e,this.persistence=t}se(){var e=this;return K(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>e.oe(n,t))}).apply(this,arguments)}oe(e,t){const n=new Set;let o=t,l=!0;return Re.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!n.has(d))return pt(lg,`Processing collection: ${d}`),this._e(e,d,o).next(g=>{o-=g,n.add(d)});l=!1})).next(()=>t-o)}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,n).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ae(o,l)).next(g=>(pt(lg,`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ae(e,t){let n=e;return t.changes.forEach((o,l)=>{const d=PT(l);ag(d,n)>0&&(n=d)}),new Qo(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}let so=(()=>{class r{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=o=>this.ue(o),this.ce=o=>n.writeSequenceNumber(o))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}return r.le=-1,r})();function xd(r){return null==r}function ug(r){return 0===r&&1/r==-1/0}function FT(r){return"number"==typeof r&&Number.isInteger(r)&&!ug(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Gs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=kd(e)),e=VT(r.get(t),e);return kd(e)}function VT(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function kd(r){return r+"\x01\x01"}function nl(r){const e=r.length;if(jt(e>=2,64408,{path:r}),2===e)return jt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1),56145,{path:r}),Vn.emptyPath();const t=e-2,n=[];let o="";for(let l=0;l<e;){const d=r.indexOf("\x01",l);switch((d<0||d>t)&&xt(50515,{path:r}),r.charAt(d+1)){case"\x01":const g=r.substring(l,d);let v;0===o.length?v=g:(o+=g,v=o,o=""),n.push(v);break;case"\x10":o+=r.substring(l,d),o+="\0";break;case"\x11":o+=r.substring(l,d+1);break;default:xt(61167,{path:r})}l=d+2}return new Vn(n)}const Fd="remoteDocuments",C_="owner",Vd="owner",Ld="mutationQueues",Zo="mutations",LT="batchId",kc="userMutationsIndex",A_=["userId","batchId"];function cg(r,e){return[r,Gs(e)]}function cb(r,e,t){return[r,Gs(e),t]}const BT={},Bd="documentMutations",S_="remoteDocumentsV14",tC=["prefixPath","collectionGroup","readTime","documentId"],R_="documentKeyIndex",nC=["prefixPath","collectionGroup","documentId"],db="collectionGroupIndex",KR=["collectionGroup","readTime","prefixPath","documentId"],pf="remoteDocumentGlobal",hb="remoteDocumentGlobalKey",gf="targets",rC="queryTargetsIndex",YR=["canonicalId","targetId"],mf="targetDocuments",iC=["targetId","path"],N_="documentTargetsIndex",UT=["path","targetId"],dg="targetGlobalKey",Fc="targetGlobal",hg="collectionParents",sC=["collectionId","parent"],_f="clientMetadata",M_="bundles",Vc="namedQueries",P_="indexConfiguration",O_="collectionGroupIndex",x_="indexState",lC=["indexId","uid"],uC="sequenceNumberIndex",cC=["uid","sequenceNumber"],k_="indexEntries",dC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],GT="documentKeyIndex",hC=["indexId","uid","orderedDocumentKey"],Lc="documentOverlays",fC=["userId","collectionPath","documentId"],fg="collectionPathOverlayIndex",$l=["userId","collectionPath","largestBatchId"],zT="collectionGroupOverlayIndex",fb=["userId","collectionGroup","largestBatchId"],Ud="globals",WT=[Ld,Zo,Bd,Fd,gf,C_,Fc,mf,_f,pf,hg,M_,Vc],gC=[...WT,Lc],pg=[Ld,Zo,Bd,S_,gf,C_,Fc,mf,_f,pf,hg,M_,Vc,Lc],gg=pg,pb=[...gg,P_,x_,k_],mC=pb,qT=[...pb,Ud];class F_ extends ab{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function Oi(r,e){const t=wt(r);return jl.N(t.he,e)}function gb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Bc(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function _C(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class xr{constructor(e,t){this.comparator=e,this.root=t||gs.EMPTY}insert(e,t){return new xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??gs.RED,this.left=o??gs.EMPTY,this.right=l??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new gs(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return gs.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xt(27949);return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new gs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hr{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hr(this.comparator);return t.data=e,t}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vf(r){return r.hasNext()?r.getNext():void 0}class Ao{constructor(e){this.fields=e,e.sort(qr.comparator)}static empty(){return new Ao([])}unionWith(e){let t=new hr(qr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ao(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cf(this.fields,e.fields,(t,n)=>t.isEqual(n))}}class YT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new YT("Invalid base64 string: "+l):l}}(e);return new pi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gl(r){if(jt(!!r,39018),"string"==typeof r){let e=0;const t=mb.exec(r);if(jt(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Kr(r.seconds),nanos:Kr(r.nanos)}}function Kr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function zl(r){return"string"==typeof r?pi.fromBase64String(r):pi.fromUint8Array(r)}const _b="server_timestamp",QT="__type__",yb="__previous_value__",vb="__local_write_time__";function L_(r){var e,t;return(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{})[QT])||void 0===t?void 0:t.stringValue)===_b}function mg(r){const e=r.mapValue.fields[yb];return L_(e)?mg(e):e}function bf(r){const e=Gl(r.mapValue.fields[vb].timestampValue);return new ri(e.seconds,e.nanos)}class oo{constructor(e,t,n,o,l,d,g,v,I,F){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=I,this.isUsingEmulator=F}}const Wl="(default)";class Uc{constructor(e,t){this.projectId=e,this.database=t||Wl}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===Wl}isEqual(e){return e instanceof Uc&&e.projectId===this.projectId&&e.database===this.database}}const bb="__type__",vC="__max__",Hd={mapValue:{fields:{__type__:{stringValue:vC}}}},B_="__vector__",jd="value",Hc={nullValue:"NULL_VALUE"};function jc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?L_(r)?4:XT(r)?9007199254740991:bg(r)?10:11:xt(28295,{value:r})}function Ma(r,e){if(r===e)return!0;const t=jc(r);if(t!==jc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bf(r).isEqual(bf(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Gl(o.timestampValue),g=Gl(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return l=e,zl(r.bytesValue).isEqual(zl(l.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Kr(o.geoPointValue.latitude)===Kr(l.geoPointValue.latitude)&&Kr(o.geoPointValue.longitude)===Kr(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Kr(o.integerValue)===Kr(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=Kr(o.doubleValue),g=Kr(l.doubleValue);return d===g?ug(d)===ug(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return cf(r.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},g=l.mapValue.fields||{};if(gb(d)!==gb(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===g[v]||!Ma(d[v],g[v])))return!1;return!0}(r,e);default:return xt(52216,{left:r})}var l}function _g(r,e){return void 0!==(r.values||[]).find(t=>Ma(t,e))}function zu(r,e){if(r===e)return 0;const t=jc(r),n=jc(e);if(t!==n)return dn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(r.booleanValue,e.booleanValue);case 2:return function(l,d){const g=Kr(l.integerValue||l.doubleValue),v=Kr(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return JT(r.timestampValue,e.timestampValue);case 4:return JT(bf(r),bf(e));case 5:return rb(r.stringValue,e.stringValue);case 6:return function(l,d){const g=zl(l),v=zl(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(l,d){const g=l.split("/"),v=d.split("/");for(let I=0;I<g.length&&I<v.length;I++){const F=dn(g[I],v[I]);if(0!==F)return F}return dn(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,d){const g=dn(Kr(l.latitude),Kr(d.latitude));return 0!==g?g:dn(Kr(l.longitude),Kr(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ZT(r.arrayValue,e.arrayValue);case 10:return function(l,d){var g,v,I,F;const ue=null===(g=(l.fields||{})[jd])||void 0===g?void 0:g.arrayValue,ye=null===(v=(d.fields||{})[jd])||void 0===v?void 0:v.arrayValue,Be=dn((null===(I=ue?.values)||void 0===I?void 0:I.length)||0,(null===(F=ye?.values)||void 0===F?void 0:F.length)||0);return 0!==Be?Be:ZT(ue,ye)}(r.mapValue,e.mapValue);case 11:return function(l,d){if(l===Hd.mapValue&&d===Hd.mapValue)return 0;if(l===Hd.mapValue)return 1;if(d===Hd.mapValue)return-1;const g=l.fields||{},v=Object.keys(g),I=d.fields||{},F=Object.keys(I);v.sort(),F.sort();for(let L=0;L<v.length&&L<F.length;++L){const Q=rb(v[L],F[L]);if(0!==Q)return Q;const ue=zu(g[v[L]],I[F[L]]);if(0!==ue)return ue}return dn(v.length,F.length)}(r.mapValue,e.mapValue);default:throw xt(23264,{Pe:t})}}function JT(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return dn(r,e);const t=Gl(r),n=Gl(e),o=dn(t.seconds,n.seconds);return 0!==o?o:dn(t.nanos,n.nanos)}function ZT(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=zu(t[o],n[o]);if(l)return l}return dn(t.length,n.length)}function Ef(r){return yg(r)}function yg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Gl(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?zl(r.bytesValue).toBase64():"referenceValue"in r?St.fromName(r.referenceValue).toString():"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=yg(l);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of n)l?l=!1:o+=",",o+=`${d}:${yg(t.fields[d])}`;return o+"}"}(r.mapValue):xt(61005,{value:r})}function vg(r){switch(jc(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mg(r);return e?16+vg(e):16;case 5:return 2*r.stringValue.length;case 6:return zl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(r.arrayValue.values||[]).reduce((o,l)=>o+vg(l),0);case 10:case 11:return function(n){let o=0;return Bc(n.fields,(l,d)=>{o+=l.length+vg(d)}),o}(r.mapValue);default:throw xt(13486,{value:r})}}function $c(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Df(r){return!!r&&"integerValue"in r}function $d(r){return!!r&&"arrayValue"in r}function bC(r){return!!r&&"nullValue"in r}function Eb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function U_(r){return!!r&&"mapValue"in r}function bg(r){var e,t;return(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{})[bb])||void 0===t?void 0:t.stringValue)===B_}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Bc(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=ql(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(r.arrayValue.values[t]);return e}return Object.assign({},r)}function XT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}const Db={mapValue:{fields:{[bb]:{stringValue:B_},[jd]:{arrayValue:{}}}}};function Tb(r){return"nullValue"in r?Hc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?$c(Uc.empty(),St.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?bg(r)?Db:{mapValue:{}}:xt(35942,{value:r})}function QR(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?$c(Uc.empty(),St.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?Db:"mapValue"in r?bg(r)?{mapValue:{}}:Hd:xt(61959,{value:r})}function ew(r,e){const t=zu(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function EC(r,e){const t=zu(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Os{constructor(e){this.value=e}static empty(){return new Os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!U_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=qr.emptyPath(),n={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,n,o),n={},o=[],t=g.popLast()}d?n[g.lastSegment()]=ql(d):o.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());U_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];U_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){Bc(t,(o,l)=>e[o]=l);for(const o of n)delete e[o]}clone(){return new Os(ql(this.value))}}function tw(r){const e=[];return Bc(r.fields,(t,n)=>{const o=new qr([t]);if(U_(n)){const l=tw(n.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new Ao(e)}class Yr{constructor(e,t,n,o,l,d,g){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Yr(e,0,Kt.min(),Kt.min(),Kt.min(),Os.empty(),0)}static newFoundDocument(e,t,n,o){return new Yr(e,1,t,Kt.min(),n,o,0)}static newNoDocument(e,t){return new Yr(e,2,t,Kt.min(),Kt.min(),Os.empty(),0)}static newUnknownDocument(e,t){return new Yr(e,3,t,Kt.min(),Kt.min(),Os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wu{constructor(e,t){this.position=e,this.inclusive=t}}function wb(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],d=r.position[o];if(n=l.field.isKeyField()?St.comparator(St.fromName(d.referenceValue),t.key):zu(d,t.data.field(l.field)),"desc"===l.dir&&(n*=-1),0!==n)break}return n}function nw(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ma(r.position[t],e.position[t]))return!1;return!0}class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rw(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class iw{}class Qn extends iw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new aw(e,t,n):"array-contains"===t?new XR(e,n):"in"===t?new wC(e,n):"not-in"===t?new eN(e,n):"array-contains-any"===t?new tN(e,n):new Qn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new JR(e,n):new ZR(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(zu(t,this.value)):null!==t&&jc(this.value)===jc(t)&&this.matchesComparison(zu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends iw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new yr(e,t)}matches(e){return wf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wf(r){return"and"===r.op}function H_(r){return"or"===r.op}function j_(r){return Ib(r)&&wf(r)}function Ib(r){for(const e of r.filters)if(e instanceof yr)return!1;return!0}function $_(r){if(r instanceof Qn)return r.field.canonicalString()+r.op.toString()+Ef(r.value);if(j_(r))return r.filters.map(e=>$_(e)).join(",");{const e=r.filters.map(t=>$_(t)).join(",");return`${r.op}(${e})`}}function sw(r,e){return r instanceof Qn?(n=r,(o=e)instanceof Qn&&n.op===o.op&&n.field.isEqual(o.field)&&Ma(n.value,o.value)):r instanceof yr?function(n,o){return o instanceof yr&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((l,d,g)=>l&&sw(d,o.filters[g]),!0)}(r,e):void xt(19439);var n,o}function ow(r,e){const t=r.filters.concat(e);return yr.create(t,r.op)}function DC(r){return r instanceof Qn?`${(t=r).field.canonicalString()} ${t.op} ${Ef(t.value)}`:r instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(DC).join(" ,")+"}"}(r):"Filter";var t}class aw extends Qn{constructor(e,t,n){super(e,t,n),this.key=St.fromName(n.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.matchesComparison(t)}}class JR extends Qn{constructor(e,t){super(e,"in",t),this.keys=TC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZR extends Qn{constructor(e,t){super(e,"not-in",t),this.keys=TC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TC(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(n=>St.fromName(n.referenceValue))}class XR extends Qn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $d(t)&&_g(t.arrayValue,this.value)}}class wC extends Qn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_g(this.value.arrayValue,t)}}class eN extends Qn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!_g(this.value.arrayValue,t)}}class tN extends Qn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$d(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>_g(this.value.arrayValue,n))}}class nN{constructor(e,t=null,n=[],o=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=d,this.endAt=g,this.Ie=null}}function If(r,e=null,t=[],n=[],o=null,l=null,d=null){return new nN(r,e,t,n,o,l,d)}function Cf(r){const e=wt(r);if(null===e.Ie){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>$_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>{return(l=n).field.canonicalString()+l.dir;var l}).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ef(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ef(n)).join(",")),e.Ie=t}return e.Ie}function Af(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rw(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!sw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nw(r.startAt,e.startAt)&&nw(r.endAt,e.endAt)}function Gd(r){return St.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Eg(r,e){return r.filters.filter(t=>t instanceof Qn&&t.field.isEqual(e))}function Cb(r,e,t){let n=Hc,o=!0;for(const l of Eg(r,e)){let d=Hc,g=!0;switch(l.op){case"<":case"<=":d=Tb(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=Hc}ew({value:n,inclusive:o},{value:d,inclusive:g})<0&&(n=d,o=g)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const d=t.position[l];ew({value:n,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(n=d,o=t.inclusive);break}return{value:n,inclusive:o}}function IC(r,e,t){let n=Hd,o=!0;for(const l of Eg(r,e)){let d=Hd,g=!0;switch(l.op){case">=":case">":d=QR(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=Hd}EC({value:n,inclusive:o},{value:d,inclusive:g})>0&&(n=d,o=g)}if(null!==t)for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const d=t.position[l];EC({value:n,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(n=d,o=t.inclusive);break}return{value:n,inclusive:o}}class rl{constructor(e,t=null,n=[],o=[],l=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null}}function Ab(r,e,t,n,o,l,d,g){return new rl(r,e,t,n,o,l,d,g)}function Sf(r){return new rl(r)}function Sb(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function lw(r){return null!==r.collectionGroup}function Rf(r){const e=wt(r);if(null===e.Ee){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new hr(qr.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(I=>{I.isInequality()&&(g=g.add(I.field))})}),g})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Tf(l,n))}),t.has(qr.keyField().canonicalString())||e.Ee.push(new Tf(qr.keyField(),n))}return e.Ee}function zs(r){const e=wt(r);return e.de||(e.de=function Dg(r,e){if("F"===r.limitType)return If(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>new Tf(o.field,"desc"===o.dir?"asc":"desc"));const t=r.endAt?new Wu(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Wu(r.startAt.position,r.startAt.inclusive):null;return If(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}(e,Rf(r))),e.de}function Rb(r,e){const t=r.filters.concat([e]);return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Nb(r,e,t){return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function G_(r,e){return Af(zs(r),zs(e))&&r.limitType===e.limitType}function CC(r){return`${Cf(zs(r))}|lt:${r.limitType}`}function Nf(r){return`Query(target=${function(t){let n=t.path.canonicalString();return null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(o=>DC(o)).join(", ")}]`),xd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(o=>Ef(o)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(o=>Ef(o)).join(",")),`Target(${n})`}(zs(r))}; limitType=${r.limitType})`}function Tg(r,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):St.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(r,e)&&function(n,o){for(const l of Rf(n))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(r,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(r,e)&&(o=e,!((n=r).startAt&&!function(d,g,v){const I=wb(d,g,v);return d.inclusive?I<=0:I<0}(n.startAt,Rf(n),o)||n.endAt&&!function(d,g,v){const I=wb(d,g,v);return d.inclusive?I>=0:I>0}(n.endAt,Rf(n),o)));var n,o}function cw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AC(r){return(e,t)=>{let n=!1;for(const o of Rf(r)){const l=SC(o,e,t);if(0!==l)return l;n=n||o.field.isKeyField()}return 0}}function SC(r,e,t){const n=r.field.isKeyField()?St.comparator(e.key,t.key):function(l,d,g){const v=d.data.field(l),I=g.data.field(l);return null!==v&&null!==I?zu(v,I):xt(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return xt(19790,{direction:r.dir})}}class Kl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[o,l]of n)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return 1===n.length?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Bc(this.inner,(t,n)=>{for(const[o,l]of n)e(o,l)})}isEmpty(){return _C(this.inner)}size(){return this.innerSize}}const dw=new xr(St.comparator);function Xo(){return dw}const Pa=new xr(St.comparator);function wg(...r){let e=Pa;for(const t of r)e=e.insert(t.key,t);return e}function z_(r){let e=Pa;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Yl(){return Ig()}function ea(){return Ig()}function Ig(){return new Kl(r=>r.toString(),(r,e)=>r.isEqual(e))}const Mb=new xr(St.comparator),RC=new hr(St.comparator);function Rn(...r){let e=RC;for(const t of r)e=e.add(t);return e}const Pb=new hr(dn);function W_(){return Pb}function q_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ug(e)?"-0":e}}function hw(r){return{integerValue:""+r}}function Ob(r,e){return FT(e)?hw(e):q_(r,e)}class Cg{constructor(){this._=void 0}}function NC(r,e,t){return r instanceof Gc?function(o,l){const d={fields:{[QT]:{stringValue:_b},[vb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&L_(l)&&(l=mg(l)),l&&(d.fields[yb]=l),{mapValue:d}}(t,e):r instanceof So?xb(r,e):r instanceof qu?Ql(r,e):function(o,l){const d=pw(o,l),g=MC(d)+MC(o.Re);return Df(d)&&Df(o.Re)?hw(g):q_(o.serializer,g)}(r,e)}function fw(r,e,t){return r instanceof So?xb(r,e):r instanceof qu?Ql(r,e):t}function pw(r,e){return r instanceof Mf?Df(n=e)||(l=n)&&"doubleValue"in l?e:{integerValue:0}:null;var n,l}class Gc extends Cg{}class So extends Cg{constructor(e){super(),this.elements=e}}function xb(r,e){const t=gw(e);for(const n of r.elements)t.some(o=>Ma(o,n))||t.push(n);return{arrayValue:{values:t}}}class qu extends Cg{constructor(e){super(),this.elements=e}}function Ql(r,e){let t=gw(e);for(const n of r.elements)t=t.filter(o=>!Ma(o,n));return{arrayValue:{values:t}}}class Mf extends Cg{constructor(e,t){super(),this.serializer=e,this.Re=t}}function MC(r){return Kr(r.integerValue||r.doubleValue)}function gw(r){return $d(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ag{constructor(e,t){this.field=e,this.transform=t}}class OC{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kb(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Sg{}function mw(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Ku(r.key,Qr.none()):new zd(r.key,r.data,Qr.none());{const t=r.data,n=Os.empty();let o=new hr(qr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?n.delete(l):n.set(l,d),o=o.add(l)}return new Jl(r.key,n,new Ao(o.toArray()),Qr.none())}}function _w(r,e,t){r instanceof zd?function(o,l,d){const g=o.value.clone(),v=Bb(o.fieldTransforms,l,d.transformResults);g.setAll(v),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,t):r instanceof Jl?function(o,l,d){if(!kb(o.precondition,l))return void l.convertToUnknownDocument(d.version);const g=Bb(o.fieldTransforms,l,d.transformResults),v=l.data;v.setAll(Lb(o)),v.setAll(g),l.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function K_(r,e,t,n){return r instanceof zd?function(l,d,g,v){if(!kb(l.precondition,d))return g;const I=l.value.clone(),F=Rg(l.fieldTransforms,v,d);return I.setAll(F),d.convertToFoundDocument(d.version,I).setHasLocalMutations(),null}(r,e,t,n):r instanceof Jl?function(l,d,g,v){if(!kb(l.precondition,d))return g;const I=Rg(l.fieldTransforms,v,d),F=d.data;return F.setAll(Lb(l)),F.setAll(I),d.convertToFoundDocument(d.version,F).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(L=>L.field))}(r,e,t,n):(g=t,kb(r.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function Fb(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=pw(n.transform,o||null);null!=l&&(null===t&&(t=Os.empty()),t.set(n.field,l))}return t||null}function Vb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===o||n&&o&&cf(n,o,(l,d)=>function PC(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(n=r.transform)instanceof So&&o instanceof So||n instanceof qu&&o instanceof qu?cf(n.elements,o.elements,Ma):n instanceof Mf&&o instanceof Mf?Ma(n.Re,o.Re):n instanceof Gc&&o instanceof Gc);var n,o}(l,d))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var n,o}class zd extends Sg{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jl extends Sg{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Lb(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Bb(r,e,t){const n=new Map;jt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let o=0;o<t.length;o++){const l=r[o],d=l.transform,g=e.data.field(l.field);n.set(l.field,fw(d,g,t[o]))}return n}function Rg(r,e,t){const n=new Map;for(const o of r){const l=o.transform,d=t.data.field(o.field);n.set(o.field,NC(l,d,e))}return n}class Ku extends Sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y_ extends Sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_w(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=K_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=K_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ea();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(o.key)?null:g;const v=mw(d,g);null!==v&&n.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Kt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rn())}isEqual(e){return this.batchId===e.batchId&&cf(this.mutations,e.mutations,(t,n)=>Vb(t,n))&&cf(this.baseMutations,e.baseMutations,(t,n)=>Vb(t,n))}}class Q_{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){jt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let o=Mb;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,n[d].version);return new Q_(e,t,n,o)}}class J_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kC{constructor(e,t){this.count=e,this.unchangedNames=t}}var ns,tr;function Hb(r){switch(r){case je.OK:return xt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return xt(15467,{code:r})}}function yw(r){if(void 0===r)return ni("GRPC error has no .code"),je.UNKNOWN;switch(r){case ns.OK:return je.OK;case ns.CANCELLED:return je.CANCELLED;case ns.UNKNOWN:return je.UNKNOWN;case ns.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case ns.INTERNAL:return je.INTERNAL;case ns.UNAVAILABLE:return je.UNAVAILABLE;case ns.UNAUTHENTICATED:return je.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case ns.NOT_FOUND:return je.NOT_FOUND;case ns.ALREADY_EXISTS:return je.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return je.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case ns.ABORTED:return je.ABORTED;case ns.OUT_OF_RANGE:return je.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return je.UNIMPLEMENTED;case ns.DATA_LOSS:return je.DATA_LOSS;default:return xt(39323,{code:r})}}(tr=ns||(ns={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";const FC=new Oc([4294967295,4294967295],0);function VC(r){const e=E_().encode(r),t=new Sd;return t.update(e),new Uint8Array(t.digest())}function LC(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Oc([t,n],0),new Oc([o,l],0)]}class vw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new X_(`Invalid padding: ${t}`);if(n<0)throw new X_(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new X_(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new X_(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Oc.fromNumber(this.pe)}we(e,t,n){let o=e.add(t.multiply(Oc.fromNumber(n)));return 1===o.compare(FC)&&(o=new Oc([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=VC(e),[n,o]=LC(t);for(let l=0;l<this.hashCount;l++){const d=this.we(n,o,l);if(!this.be(d))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new vw(l,o,t);return n.forEach(g=>d.insert(g)),d}insert(e){if(0===this.pe)return;const t=VC(e),[n,o]=LC(t);for(let l=0;l<this.hashCount;l++){const d=this.we(n,o,l);this.Se(d)}}Se(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class X_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ey{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,Ng.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ey(Kt.min(),o,new xr(dn),Xo(),Rn())}}class Ng{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ng(n,t,Rn(),Rn(),Rn())}}class Wd{constructor(e,t,n,o){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=o}}class bw{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,n=pi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class jb{constructor(){this.Fe=0,this.Me=ty(),this.xe=pi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Rn(),t=Rn(),n=Rn();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:xt(38017,{changeType:l})}}),new Ng(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ty()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qd{constructor(e){this.ze=e,this.je=new Map,this.He=Xo(),this.Je=Mg(),this.Ye=Mg(),this.Ze=new xr(dn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:xt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,n=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(Gd(l))if(0===n){const d=new St(l.path);this.tt(t,d,Yr.newNoDocument(d,Kt.min()))}else jt(1===n,20013,{expectedCount:n});else{const d=this.ut(t);if(d!==n){const g=this.ct(e),v=g?this.lt(g,e,d):1;0!==v&&(this.st(t),this.Ze=this.Ze.insert(t,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let d,g;try{d=zl(n).toUint8Array()}catch(v){if(v instanceof YT)return Co("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new vw(d,o,l)}catch(v){return Co(v instanceof X_?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return 0===g.pe?null:g}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let o=0;return n.forEach(l=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,d)=>{const g=this._t(d);if(g){if(l.current&&Gd(g.target)){const v=new St(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Yr.newNoDocument(v,e))}l.Le&&(t.set(d,l.qe()),l.Qe())}});let n=Rn();this.Ye.forEach((l,d)=>{let g=!0;d.forEachWhile(v=>{const I=this._t(v);return!I||"TargetPurposeLimboResolution"===I.purpose||(g=!1,!1)}),g&&(n=n.add(l))}),this.He.forEach((l,d)=>d.setReadTime(e));const o=new ey(e,t,this.Ze,this.He,n);return this.He=Xo(),this.Je=Mg(),this.Ye=Mg(),this.Ze=new xr(dn),o}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new jb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new hr(dn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new hr(dn),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||pt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new jb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Mg(){return new xr(St.comparator)}function ty(){return new xr(St.comparator)}const $b={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gb={and:"AND",or:"OR"};class zb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pf(r,e){return r.useProto3Json||xd(e)?e:{value:e}}function Pg(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UC(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rN(r,e){return Pg(r,e.toTimestamp())}function zi(r){return jt(!!r,49232),Kt.fromTimestamp(function(t){const n=Gl(t);return new ri(n.seconds,n.nanos)}(r))}function ny(r,e){return Wb(r,e).canonicalString()}function Wb(r,e){const t=(o=r,new Vn(["projects",o.projectId,"databases",o.database])).child("documents");var o;return void 0===e?t:t.child(e)}function Dw(r){const e=Vn.fromString(r);return jt(GC(e),10190,{key:e.toString()}),e}function Og(r,e){return ny(r.databaseId,e.path)}function Zl(r,e){const t=Dw(e);if(t.get(1)!==r.databaseId.projectId)throw new ct(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ct(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new St(Tw(t))}function qb(r,e){return ny(r.databaseId,e)}function Kb(r){const e=Dw(r);return 4===e.length?Vn.emptyPath():Tw(e)}function ry(r){return new Vn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Tw(r){return jt(r.length>4&&"documents"===r.get(4),29091,{key:r.toString()}),r.popFirst(5)}function ww(r,e,t){return{name:Og(r,e),fields:t.value.mapValue.fields}}function Yb(r,e,t){const n=Zl(r,e.name),o=zi(e.updateTime),l=e.createTime?zi(e.createTime):Kt.min(),d=new Os({mapValue:{fields:e.fields}}),g=Yr.newFoundDocument(n,o,l,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Of(r,e){let t;if(e instanceof zd)t={update:ww(r,e.key,e.value)};else if(e instanceof Ku)t={delete:Og(r,e.key)};else if(e instanceof Jl)t={update:ww(r,e.key,e.data),updateMask:lN(e.fieldMask)};else{if(!(e instanceof Y_))return xt(16599,{ft:e.type});t={verify:Og(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(l,d){const g=d.transform;if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof So)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof qu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mf)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw xt(20930,{transform:d.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:rN(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:xt(27497)),t;var l}function xg(r,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Qr.updateTime(zi(l.updateTime)):void 0!==l.exists?Qr.exists(l.exists):Qr.none():Qr.none(),n=e.updateTransforms?e.updateTransforms.map(o=>function(d,g){let v=null;"setToServerValue"in g?(jt("REQUEST_TIME"===g.setToServerValue,16630,{proto:g}),v=new Gc):"appendMissingElements"in g?v=new So(g.appendMissingElements.values||[]):"removeAllFromArray"in g?v=new qu(g.removeAllFromArray.values||[]):"increment"in g?v=new Mf(d,g.increment):xt(16584,{proto:g});const I=qr.fromServerFormat(g.fieldPath);return new Ag(I,v)}(r,o)):[];var l;if(e.update){const o=Zl(r,e.update.name),l=new Os({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ao((e.updateMask.fieldPaths||[]).map(F=>qr.fromServerFormat(F)));return new Jl(o,l,d,t,n)}return new zd(o,l,t,n)}if(e.delete){const o=Zl(r,e.delete);return new Ku(o,t)}if(e.verify){const o=Zl(r,e.verify);return new Y_(o,t)}return xt(1463,{proto:e})}function Iw(r,e){return{documents:[qb(r,e.path)]}}function Jb(r,e){const t={structuredQuery:{}},n=e.path;let o;null!==e.collectionGroup?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=qb(r,o);const l=function(I){if(0!==I.length)return Sw(yr.create(I,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(I){if(0!==I.length)return I.map(F=>{return{field:Kd((Q=F).field),direction:sN(Q.dir)};var Q})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=Pf(r,e.limit);return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(t.structuredQuery.endAt=function(I){return{before:!I.inclusive,values:I.position}}(e.endAt)),{gt:t,parent:o};var I}function Cw(r){let e=Kb(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){jt(1===n,65062);const F=t.from[0];F.allDescendants?o=F.collectionId:e=e.child(F.collectionId)}let l=[];t.where&&(l=function(L){const Q=Aw(L);return Q instanceof yr&&j_(Q)?Q.getFilters():[Q]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(Q=>{return new Tf(kg((ye=Q).field),function(Ke){switch(Ke){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ye.direction));var ye}));let g=null;t.limit&&(g=function(L){let Q;return Q="object"==typeof L?L.value:L,xd(Q)?null:Q}(t.limit));let v=null;var L;t.startAt&&(v=new Wu((L=t.startAt).values||[],!!L.before));let I=null;return t.endAt&&(I=function(L){return new Wu(L.values||[],!L.before)}(t.endAt)),Ab(e,o,d,l,g,"F",v,I)}function Aw(r){return void 0!==r.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=kg(t.unaryFilter.field);return Qn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=kg(t.unaryFilter.field);return Qn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=kg(t.unaryFilter.field);return Qn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kg(t.unaryFilter.field);return Qn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(r):void 0!==r.fieldFilter?Qn.create(kg((t=r).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==r.compositeFilter?function(t){return yr.create(t.compositeFilter.filters.map(n=>Aw(n)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(t.compositeFilter.op))}(r):xt(30097,{filter:r});var t}function sN(r){return $b[r]}function oN(r){return BC[r]}function aN(r){return Gb[r]}function Kd(r){return{fieldPath:r.canonicalString()}}function kg(r){return qr.fromServerFormat(r.fieldPath)}function Sw(r){return r instanceof Qn?function(t){if("=="===t.op){if(Eb(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NAN"}};if(bC(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Eb(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NAN"}};if(bC(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(t.field),op:oN(t.op),value:t.value}}}(r):r instanceof yr?function(t){const n=t.getFilters().map(o=>Sw(o));return 1===n.length?n[0]:{compositeFilter:{op:aN(t.op),filters:n}}}(r):xt(54877,{filter:r})}function lN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GC(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class zc{constructor(e,t,n,o,l=Kt.min(),d=Kt.min(),g=pi.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zC{constructor(e){this.wt=e}}function WC(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:i(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document={name:Og(l=r.wt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Pg(l,d.version.toTimestamp()),createTime:Pg(l,d.createTime.toTimestamp())};else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:s(e.version)};else{if(!e.isUnknownDocument())return xt(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:s(e.version)}}var l,d;return n}function i(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function s(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function a(r){const e=new ri(r.seconds,r.nanoseconds);return Kt.fromTimestamp(e)}function u(r,e){const t=(e.baseMutations||[]).map(l=>xg(r.wt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const n=e.mutations.map(l=>xg(r.wt,l)),o=ri.fromMillis(e.localWriteTimeMs);return new Ub(e.batchId,o,t,n)}function h(r){const e=a(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?a(r.lastLimboFreeSnapshotVersion):Kt.min();let n;return n=void 0!==r.query.documents?function(l){const d=l.documents.length;return jt(1===d,1966,{count:d}),zs(Sf(Kb(l.documents[0])))}(r.query):zs(Cw(r.query)),new zc(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,pi.fromBase64String(r.resumeToken))}function m(r,e){const t=s(e.snapshotVersion),n=s(e.lastLimboFreeSnapshotVersion);let o;o=Gd(e.target)?Iw(r.wt,e.target):Jb(r.wt,e.target).gt;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cf(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:o}}function E(r){const e=Cw({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Nb(e,e.limit,"L"):e}function C(r,e){return new J_(e.largestBatchId,xg(r.wt,e.overlayMutation))}function R(r,e){const t=e.path.lastSegment();return[r,Gs(e.path.popLast()),t]}function U(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:s(n.readTime),documentKey:Gs(n.documentKey.path),largestBatchId:n.largestBatchId}}class q{getBundleMetadata(e,t){return X(e).get(t).next(n=>{if(n)return{id:(l=n).bundleId,createTime:a(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return X(e).put({bundleId:(o=t).id,createTime:s(zi(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return pe(e).get(t).next(n=>{if(n)return{name:(l=n).name,query:E(l.bundledQuery),readTime:a(l.readTime)};var l})}saveNamedQuery(e,t){return pe(e).put({name:(o=t).name,readTime:s(zi(o.readTime)),bundledQuery:o.bundledQuery});var o}}function X(r){return Oi(r,M_)}function pe(r){return Oi(r,Vc)}class Ce{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){return new Ce(e,t.uid||"")}getOverlay(e,t){return Ze(e).get(R(this.userId,t)).next(n=>n?C(this.serializer,n):null)}getOverlays(e,t){const n=Yl();return Re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&n.set(o,l)})).next(()=>n)}saveOverlays(e,t,n){const o=[];return n.forEach((l,d)=>{const g=new J_(t,d);o.push(this.St(e,g))}),Re.waitFor(o)}removeOverlaysForBatchId(e,t,n){const o=new Set;t.forEach(d=>o.add(Gs(d.getCollectionPath())));const l=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,n],[this.userId,d,n+1],!1,!0);l.push(Ze(e).X(fg,g))}),Re.waitFor(l)}getOverlaysForCollection(e,t,n){const o=Yl(),l=Gs(t),d=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Ze(e).J(fg,d).next(g=>{for(const v of g){const I=C(this.serializer,v);o.set(I.getKey(),I)}return o})}getOverlaysForCollectionGroup(e,t,n,o){const l=Yl();let d;const g=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ze(e).te({index:zT,range:g},(v,I,F)=>{const L=C(this.serializer,I);l.size()<o||L.largestBatchId===d?(l.set(L.getKey(),L),d=L.largestBatchId):F.done()}).next(()=>l)}St(e,t){return Ze(e).put(function(o,l,d){const[g,v,I]=R(l,d.mutation.key);return{userId:l,collectionPath:v,documentId:I,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Of(o.wt,d.mutation)}}(this.serializer,this.userId,t))}}function Ze(r){return Oi(r,Lc)}class yt{Dt(e){return Oi(e,Ud)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const n=t?.value;return n?pi.fromUint8Array(n):pi.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class bt{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Kr(e.integerValue));else if("doubleValue"in e){const n=Kr(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),ug(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Gl(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(zl(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?XT(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):bg(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):xt(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const o of Object.keys(n))this.Nt(o,t),this.Ct(n[o],t)}qt(e,t){var n,o;const l=e.fields||{};this.Mt(t,53);const d=jd,g=(null===(o=null===(n=l[d].arrayValue)||void 0===n?void 0:n.values)||void 0===o?void 0:o.length)||0;this.Mt(t,15),t.xt(Kr(g)),this.Nt(d,t),this.Ct(l[d],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const o of n)this.Ct(o,t)}kt(e,t){this.Mt(t,37),St.fromName(e).path.forEach(n=>{this.Mt(t,60),this.Kt(n,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}function on(r){if(0===r)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function dt(r){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const d=on(255&n[l]);if(o+=d,8!==d)break}return o}(r);return Math.ceil(e/8)}bt.Wt=new bt;class fn{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const o=t.codePointAt(0);this.zt(240|o>>>18),this.zt(128|63&o>>>12),this.zt(128|63&o>>>6),this.zt(128|63&o)}}this.jt()}Xt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const o=t.codePointAt(0);this.Jt(240|o>>>18),this.Jt(128|63&o>>>12),this.Jt(128|63&o>>>6),this.Jt(128|63&o)}}this.Yt()}en(e){const t=this.tn(e),n=dt(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let o=t.length-n;o<t.length;++o)this.buffer[this.position++]=255&t[o]}rn(e){const t=this.tn(e),n=dt(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let o=t.length-n;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}sn(){this._n(255),this._n(255)}an(){this.un(255),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let o=1;o<t.length;++o)t[o]^=n?255:0;return t}zt(e){const t=255&e;0===t?(this._n(0),this._n(255)):255===t?(this._n(255),this._n(0)):this._n(t)}Jt(e){const t=255&e;0===t?(this.un(0),this.un(255)):255===t?(this.un(255),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const o=new Uint8Array(n);o.set(this.buffer),this.buffer=o}}class fr{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class ii{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class il{constructor(){this.ln=new fn,this.hn=new fr(this.ln),this.Pn=new ii(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return 0===e?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}class Yu{constructor(e,t,n,o){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=o}In(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Yu(this.indexId,this.documentKey,this.arrayValue,n)}}function Xl(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=iy(r.arrayValue,e.arrayValue),0!==t?t:(t=iy(r.directionalValue,e.directionalValue),0!==t?t:St.comparator(r.documentKey,e.documentKey)))}function iy(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(0!==n)return n}return r.length-e.length}class sy{constructor(e){this.En=new hr((t,n)=>qr.comparator(t.field,n.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const n=t;n.isInequality()?this.En=this.En.add(n):this.An.push(n)}}get Rn(){return this.En.size>1}Vn(e){if(jt(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=D_(e);if(void 0!==t&&!this.mn(t))return!1;const n=Nd(e);let o=new Set,l=0,d=0;for(;l<n.length&&this.mn(n[l]);++l)o=o.add(n[l].fieldPath.canonicalString());if(l===n.length)return!0;if(this.En.size>0){const g=this.En.getIterator().getNext();if(!o.has(g.field.canonicalString())){const v=n[l];if(!this.fn(g,v)||!this.gn(this.dn[d++],v))return!1}++l}for(;l<n.length;++l){const g=n[l];if(d>=this.dn.length||!this.gn(this.dn[d++],g))return!1}return!0}pn(){if(this.Rn)return null;let e=new hr(qr.comparator);const t=[];for(const n of this.An)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Md(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Md(n.field,0))}for(const n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Md(n.field,"asc"===n.dir?0:1)));return new df(df.UNKNOWN_ID,this.collectionId,t,Pd.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function oy(r){var e,t;if(jt(r instanceof Qn||r instanceof yr,20012),r instanceof Qn){if(r instanceof wC){const o=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Qn.create(r.field,"==",l)))||[];return yr.create(o,"or")}return r}const n=r.filters.map(o=>oy(o));return yr.create(n,r.op)}function Zb(r){if(0===r.getFilters().length)return[];const e=qC(oy(r));return jt(ay(e),7391),Fg(e)||Vg(e)?[e]:e.getFilters()}function Fg(r){return r instanceof Qn}function Vg(r){return r instanceof yr&&j_(r)}function ay(r){return Fg(r)||Vg(r)||function(t){if(t instanceof yr&&H_(t)){for(const n of t.getFilters())if(!Fg(n)&&!Vg(n))return!1;return!0}return!1}(r)}function qC(r){if(jt(r instanceof Qn||r instanceof yr,34018),r instanceof Qn)return r;if(1===r.filters.length)return qC(r.filters[0]);const e=r.filters.map(n=>qC(n));let t=yr.create(e,r.op);return t=Rw(t),ay(t)?t:(jt(t instanceof yr,64498),jt(wf(t),40251),jt(t.filters.length>1,57927),t.filters.reduce((n,o)=>KC(n,o)))}function KC(r,e){let t;return jt(r instanceof Qn||r instanceof yr,38388),jt(e instanceof Qn||e instanceof yr,25473),t=r instanceof Qn?e instanceof Qn?yr.create([r,e],"and"):cN(r,e):e instanceof Qn?cN(e,r):function(o,l){if(jt(o.filters.length>0&&l.filters.length>0,48005),wf(o)&&wf(l))return ow(o,l.getFilters());const d=H_(o)?o:l,g=H_(o)?l:o,v=d.filters.map(I=>KC(I,g));return yr.create(v,"or")}(r,e),Rw(t)}function cN(r,e){if(wf(e))return ow(e,r.getFilters());{const t=e.filters.map(n=>KC(r,n));return yr.create(t,"or")}}function Rw(r){if(jt(r instanceof Qn||r instanceof yr,11850),r instanceof Qn)return r;const e=r.getFilters();if(1===e.length)return Rw(e[0]);if(Ib(r))return r;const t=e.map(o=>Rw(o)),n=[];return t.forEach(o=>{o instanceof Qn?n.push(o):o instanceof yr&&(o.op===r.op?n.push(...o.filters):n.push(o))}),1===n.length?n[0]:yr.create(n,r.op)}class bO{constructor(){this.yn=new YC}addToCollectionParentIndex(e,t){return this.yn.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Re.resolve()}deleteFieldIndex(e,t){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,t){return Re.resolve()}getDocumentsMatchingTarget(e,t){return Re.resolve(null)}getIndexType(e,t){return Re.resolve(0)}getFieldIndexes(e,t){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,t){return Re.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,t){return Re.resolve(Qo.min())}updateCollectionGroup(e,t,n){return Re.resolve()}updateIndexEntries(e,t){return Re.resolve()}}class YC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new hr(Vn.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new hr(Vn.comparator)).toArray()}}const dN="IndexedDbIndexManager",Nw=new Uint8Array(0);class EO{constructor(e,t){this.databaseId=t,this.wn=new YC,this.bn=new Kl(n=>Cf(n),(n,o)=>Af(n,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const n=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const l={collectionId:n,parent:Gs(o)};return hN(e).put(l)}return Re.resolve()}getCollectionParents(e,t){const n=[],o=IDBKeyRange.bound([t,""],[AT(t),""],!1,!0);return hN(e).J(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;n.push(nl(d.parent))}return n})}addFieldIndex(e,t){const n=Xb(e),o={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var g;delete o.indexId;const l=n.add(o);if(t.indexState){const d=uy(e);return l.next(g=>{d.put(U(g,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const n=Xb(e),o=uy(e),l=ly(e);return n.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Xb(e),n=ly(e),o=uy(e);return t.X().next(()=>n.X()).next(()=>o.X())}createTargetIndexes(e,t){return Re.forEach(this.Sn(t),n=>this.getIndexType(e,n).next(o=>{if(0===o||1===o){const l=new sy(n).pn();if(null!=l)return this.addFieldIndex(e,l)}}))}getDocumentsMatchingTarget(e,t){const n=ly(e);let o=!0;const l=new Map;return Re.forEach(this.Sn(t),d=>this.Dn(e,d).next(g=>{o&&(o=!!g),l.set(d,g)})).next(()=>{if(o){let d=Rn();const g=[];return Re.forEach(l,(v,I)=>{var It;pt(dN,`Using index ${It=v,`id=${It.indexId}|cg=${It.collectionGroup}|f=${It.fields.map($t=>`${$t.fieldPath}:${$t.kind}`).join(",")}`} to execute ${Cf(t)}`);const F=function(It,$t){const Ln=D_($t);if(void 0===Ln)return null;for(const an of Eg(It,Ln.fieldPath))switch(an.op){case"array-contains-any":return an.value.arrayValue.values||[];case"array-contains":return[an.value]}return null}(I,v),L=function(It,$t){const Ln=new Map;for(const an of Nd($t))for(const me of Eg(It,an.fieldPath))switch(me.op){case"==":case"in":Ln.set(an.fieldPath.canonicalString(),me.value);break;case"not-in":case"!=":return Ln.set(an.fieldPath.canonicalString(),me.value),Array.from(Ln.values())}return null}(I,v),Q=function(It,$t){const Ln=[];let an=!0;for(const me of Nd($t)){const ie=0===me.kind?Cb(It,me.fieldPath,It.startAt):IC(It,me.fieldPath,It.startAt);Ln.push(ie.value),an&&(an=ie.inclusive)}return new Wu(Ln,an)}(I,v),ue=function(It,$t){const Ln=[];let an=!0;for(const me of Nd($t)){const ie=0===me.kind?IC(It,me.fieldPath,It.endAt):Cb(It,me.fieldPath,It.endAt);Ln.push(ie.value),an&&(an=ie.inclusive)}return new Wu(Ln,an)}(I,v),ye=this.vn(v,I,Q),Be=this.vn(v,I,ue),Ke=this.Cn(v,I,L),vt=this.Fn(v.indexId,F,ye,Q.inclusive,Be,ue.inclusive,Ke);return Re.forEach(vt,Ct=>n.Z(Ct,t.limit).next(It=>{It.forEach($t=>{const Ln=St.fromSegments($t.documentKey);d.has(Ln)||(d=d.add(Ln),g.push(Ln))})}))}).next(()=>g)}return Re.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(t=0===e.filters.length?[e]:Zb(yr.create(e.filters,"and")).map(n=>If(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,n,o,l,d,g){const v=(null!=t?t.length:1)*Math.max(n.length,l.length),I=v/(null!=t?t.length:1),F=[];for(let L=0;L<v;++L){const Q=t?this.Mn(t[L/I]):Nw,ue=this.xn(e,Q,n[L%I],o),ye=this.On(e,Q,l[L%I],d),Be=g.map(Ke=>this.xn(e,Q,Ke,!0));F.push(...this.createRange(ue,ye,Be))}return F}xn(e,t,n,o){const l=new Yu(e,St.empty(),t,n);return o?l:l.In()}On(e,t,n,o){const l=new Yu(e,St.empty(),t,n);return o?l.In():l}Dn(e,t){const n=new sy(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let d=null;for(const g of l)n.Vn(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let n=2;const o=this.Sn(t);return Re.forEach(o,l=>this.Dn(e,l).next(d=>{d?0!==n&&d.fields.length<function(v){let I=new hr(qr.comparator),F=!1;for(const L of v.filters)for(const Q of L.getFlattenedFilters())Q.field.isKeyField()||("array-contains"===Q.op||"array-contains-any"===Q.op?F=!0:I=I.add(Q.field));for(const L of v.orderBy)L.field.isKeyField()||(I=I.add(L.field));return I.size+(F?1:0)}(l)&&(n=1):n=0})).next(()=>null!==t.limit&&o.length>1&&2===n?1:n)}Nn(e,t){const n=new il;for(const o of Nd(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=n.Tn(o.kind);bt.Wt.vt(l,d)}return n.cn()}Mn(e){const t=new il;return bt.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const n=new il;return bt.Wt.vt($c(this.databaseId,t),n.Tn(function(l){const d=Nd(l);return 0===d.length?0:d[d.length-1].kind}(e))),n.cn()}Cn(e,t,n){if(null===n)return[];let o=[];o.push(new il);let l=0;for(const d of Nd(e)){const g=n[l++];for(const v of o)if(this.Ln(t,d.fieldPath)&&$d(g))o=this.kn(o,d,g);else{const I=v.Tn(d.kind);bt.Wt.vt(g,I)}}return this.qn(o)}vn(e,t,n){return this.Cn(e,t,n.position)}qn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}kn(e,t,n){const o=[...e],l=[];for(const d of n.arrayValue.values||[])for(const g of o){const v=new il;v.seed(g.cn()),bt.Wt.vt(d,v.Tn(t.kind)),l.push(v)}return l}Ln(e,t){return!!e.filters.find(n=>n instanceof Qn&&n.field.isEqual(t)&&("in"===n.op||"not-in"===n.op))}getFieldIndexes(e,t){const n=Xb(e),o=uy(e);return(t?n.J(O_,IDBKeyRange.bound(t,t)):n.J()).next(l=>{const d=[];return Re.forEach(l,g=>o.get([g.indexId,this.uid]).next(v=>{d.push(function(F,L){const Q=L?new Pd(L.sequenceNumber,new Qo(a(L.readTime),new St(nl(L.documentKey)),L.largestBatchId)):Pd.empty(),ue=F.fields.map(([ye,Be])=>new Md(qr.fromServerFormat(ye),Be));return new df(F.indexId,F.collectionGroup,ue,Q)}(g,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((n,o)=>{const l=n.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:dn(n.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const o=Xb(e),l=uy(e);return this.Qn(e).next(d=>o.J(O_,IDBKeyRange.bound(t,t)).next(g=>Re.forEach(g,v=>l.put(U(v.indexId,this.uid,d,n)))))}updateIndexEntries(e,t){const n=new Map;return Re.forEach(t,(o,l)=>{const d=n.get(o.collectionGroup);return(d?Re.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(n.set(o.collectionGroup,g),Re.forEach(g,v=>this.$n(e,o,v).next(I=>{const F=this.Un(l,v);return I.isEqual(F)?Re.resolve():this.Kn(e,l,v,I,F)}))))})}Wn(e,t,n,o){return ly(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.Bn(n,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,n,o){return ly(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.Bn(n,t.key),t.key.path.toArray()])}$n(e,t,n){const o=ly(e);let l=new hr(Xl);return o.te({index:GT,range:IDBKeyRange.only([n.indexId,this.uid,this.Bn(n,t)])},(d,g)=>{l=l.add(new Yu(n.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}Un(e,t){let n=new hr(Xl);const o=this.Nn(t,e);if(null==o)return n;const l=D_(t);if(null!=l){const d=e.data.field(l.fieldPath);if($d(d))for(const g of d.arrayValue.values||[])n=n.add(new Yu(t.indexId,e.key,this.Mn(g),o))}else n=n.add(new Yu(t.indexId,e.key,Nw,o));return n}Kn(e,t,n,o,l){pt(dN,"Updating index entries for document '%s'",t.key);const d=[];return function(v,I,F,L,Q){const ue=v.getIterator(),ye=I.getIterator();let Be=vf(ue),Ke=vf(ye);for(;Be||Ke;){let vt=!1,Ct=!1;if(Be&&Ke){const It=F(Be,Ke);It<0?Ct=!0:It>0&&(vt=!0)}else null!=Be?Ct=!0:vt=!0;vt?(L(Ke),Ke=vf(ye)):Ct?(Q(Be),Be=vf(ue)):(Be=vf(ue),Ke=vf(ye))}}(o,l,Xl,g=>{d.push(this.Wn(e,t,n,g))},g=>{d.push(this.Gn(e,t,n,g))}),Re.waitFor(d)}Qn(e){let t=1;return uy(e).te({index:uC,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((d,g)=>Xl(d,g)).filter((d,g,v)=>!g||0!==Xl(d,v[g-1]));const o=[];o.push(e);for(const d of n){const g=Xl(d,e),v=Xl(d,t);if(0===g)o[0]=e.In();else if(g>0&&v<0)o.push(d),o.push(d.In());else if(v>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2){if(this.zn(o[d],o[d+1]))return[];l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Nw,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Nw,[]]))}return l}zn(e,t){return Xl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fN)}getMinOffset(e,t){return Re.mapArray(this.Sn(t),n=>this.Dn(e,n).next(o=>o||xt(44426))).next(fN)}}function hN(r){return Oi(r,hg)}function ly(r){return Oi(r,k_)}function Xb(r){return Oi(r,P_)}function uy(r){return Oi(r,x_)}function fN(r){jt(0!==r.length,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const o=r[n].indexState.offset;ag(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Qo(e.readTime,e.documentKey,t)}const pN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ro{static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function mN(r,e,t){const n=r.store(Zo),o=r.store(Bd),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const v=n.te({range:d},(F,L,Q)=>(g++,Q.delete()));l.push(v.next(()=>{jt(1===g,47070,{batchId:t.batchId})}));const I=[];for(const F of t.mutations){const L=cb(e,F.key.path,t.batchId);l.push(o.delete(L)),I.push(F.key)}return Re.waitFor(l).next(()=>I)}function Mw(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw xt(14731);e=r.noDocument}return JSON.stringify(e).length}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class Pw{constructor(e,t,n,o){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=o,this.jn={}}static bt(e,t,n,o){jt(""!==e.uid,64387);const l=e.isAuthenticated()?e.uid:"";return new Pw(l,t,n,o)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).te({index:kc,range:n},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,n,o){const l=cy(e),d=xf(e);return d.add({}).next(g=>{jt("number"==typeof g,49019);const v=new Ub(g,t,n,o),I=function(ue,ye,Be){const Ke=Be.baseMutations.map(Ct=>Of(ue.wt,Ct)),vt=Be.mutations.map(Ct=>Of(ue.wt,Ct));return{userId:ye,batchId:Be.batchId,localWriteTimeMs:Be.localWriteTime.toMillis(),baseMutations:Ke,mutations:vt}}(this.serializer,this.userId,v),F=[];let L=new hr((Q,ue)=>dn(Q.canonicalString(),ue.canonicalString()));for(const Q of o){const ue=cb(this.userId,Q.key.path,g);L=L.add(Q.key.path.popLast()),F.push(d.put(I)),F.push(l.put(ue,BT))}return L.forEach(Q=>{F.push(this.indexManager.addToCollectionParentIndex(e,Q))}),e.addOnCommittedListener(()=>{this.jn[g]=v.keys()}),Re.waitFor(F).next(()=>v)})}lookupMutationBatch(e,t){return xf(e).get(t).next(n=>n?(jt(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),u(this.serializer,n)):null)}Hn(e,t){return this.jn[t]?Re.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const o=n.keys();return this.jn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=IDBKeyRange.lowerBound([this.userId,n]);let l=null;return xf(e).te({index:kc,range:o},(d,g,v)=>{g.userId===this.userId&&(jt(g.batchId>=n,47524,{Jn:n}),l=u(this.serializer,g)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return xf(e).te({index:kc,range:t,reverse:!0},(o,l,d)=>{n=l.batchId,d.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xf(e).J(kc,t).next(n=>n.map(o=>u(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=cg(this.userId,t.path),o=IDBKeyRange.lowerBound(n),l=[];return cy(e).te({range:o},(d,g,v)=>{const[I,F,L]=d,Q=nl(F);if(I===this.userId&&t.path.isEqual(Q))return xf(e).get(L).next(ue=>{if(!ue)throw xt(61480,{Yn:d,batchId:L});jt(ue.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:ue.userId,batchId:L}),l.push(u(this.serializer,ue))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hr(dn);const o=[];return t.forEach(l=>{const d=cg(this.userId,l.path),g=IDBKeyRange.lowerBound(d),v=cy(e).te({range:g},(I,F,L)=>{const[Q,ue,ye]=I,Be=nl(ue);Q===this.userId&&l.path.isEqual(Be)?n=n.add(ye):L.done()});o.push(v)}),Re.waitFor(o).next(()=>this.Zn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1,l=cg(this.userId,n),d=IDBKeyRange.lowerBound(l);let g=new hr(dn);return cy(e).te({range:d},(v,I,F)=>{const[L,Q,ue]=v,ye=nl(Q);L===this.userId&&n.isPrefixOf(ye)?ye.length===o&&(g=g.add(ue)):F.done()}).next(()=>this.Zn(e,g))}Zn(e,t){const n=[],o=[];return t.forEach(l=>{o.push(xf(e).get(l).next(d=>{if(null===d)throw xt(35274,{batchId:l});jt(d.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:d.userId,batchId:l}),n.push(u(this.serializer,d))}))}),Re.waitFor(o).next(()=>n)}removeMutationBatch(e,t){return mN(e.he,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),Re.forEach(n,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Re.resolve();const n=IDBKeyRange.lowerBound([this.userId]),o=[];return cy(e).te({range:n},(l,d,g)=>{if(l[0]===this.userId){const v=nl(l[1]);o.push(v)}else g.done()}).next(()=>{jt(0===o.length,56720,{er:o.map(l=>l.canonicalString())})})})}containsKey(e,t){return _N(e,this.userId,t)}tr(e){return yN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _N(r,e,t){const n=cg(e,t.path),o=n[1],l=IDBKeyRange.lowerBound(n);let d=!1;return cy(r).te({range:l,ee:!0},(g,v,I)=>{const[F,L,Q]=g;F===e&&L===o&&(d=!0),I.done()}).next(()=>d)}function xf(r){return Oi(r,Zo)}function cy(r){return Oi(r,Bd)}function yN(r){return Oi(r,Ld)}class Lg{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Lg(0)}static ir(){return new Lg(-1)}}class DO{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const n=new Lg(t.highestTargetId);return t.highestTargetId=n.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>Kt.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.sr(e).next(o=>(o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this._r(e,o)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(n=>(n.targetCount+=1,this.ur(t,n),this._r(e,n))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dy(e).delete(t.targetId)).next(()=>this.sr(e)).next(n=>(jt(n.targetCount>0,8065),n.targetCount-=1,this._r(e,n)))}removeTargets(e,t,n){let o=0;const l=[];return dy(e).te((d,g)=>{const v=h(g);v.sequenceNumber<=t&&null===n.get(v.targetId)&&(o++,l.push(this.removeTargetData(e,v)))}).next(()=>Re.waitFor(l)).next(()=>o)}forEachTarget(e,t){return dy(e).te((n,o)=>{const l=h(o);t(l)})}sr(e){return vN(e).get(dg).next(t=>(jt(null!==t,2888),t))}_r(e,t){return vN(e).put(dg,t)}ar(e,t){return dy(e).put(m(this.serializer,t))}ur(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const n=Cf(t),o=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let l=null;return dy(e).te({range:o,index:rC},(d,g,v)=>{const I=h(g);Af(t,I.target)&&(l=I,v.done())}).next(()=>l)}addMatchingKeys(e,t,n){const o=[],l=kf(e);return t.forEach(d=>{const g=Gs(d.path);o.push(l.put({targetId:n,path:g})),o.push(this.referenceDelegate.addReference(e,n,d))}),Re.waitFor(o)}removeMatchingKeys(e,t,n){const o=kf(e);return Re.forEach(t,l=>{const d=Gs(l.path);return Re.waitFor([o.delete([n,d]),this.referenceDelegate.removeReference(e,n,l)])})}removeMatchingKeysForTargetId(e,t){const n=kf(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(o)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),o=kf(e);let l=Rn();return o.te({range:n,ee:!0},(d,g,v)=>{const I=nl(d[1]),F=new St(I);l=l.add(F)}).next(()=>l)}containsKey(e,t){const n=Gs(t.path),o=IDBKeyRange.bound([n],[AT(n)],!1,!0);let l=0;return kf(e).te({index:N_,ee:!0,range:o},([d,g],v,I)=>{0!==d&&(l++,I.done())}).next(()=>l>0)}Rt(e,t){return dy(e).get(t).next(n=>n?h(n):null)}}function dy(r){return Oi(r,gf)}function vN(r){return Oi(r,Fc)}function kf(r){return Oi(r,mf)}const bN="LruGarbageCollector";function DN([r,e],[t,n]){const o=dn(r,t);return 0===o?dn(e,n):o}class TO{constructor(e){this.cr=e,this.buffer=new hr(DN),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();DN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TN{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){var t=this;pt(bN,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,K(function*(){t.Tr=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(n){$u(n)?pt(bN,"Ignoring IndexedDB error during garbage collection: ",n):yield xc(n)}yield t.Ir(3e5)}))}}class wO{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(0===t)return Re.resolve(so.le);const n=new TO(t);return this.Er.forEachTarget(e,o=>n.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>n.Pr(o))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(pN)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pN):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,o,l,d,g,v,I;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(L=>(L>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${L}`),o=this.params.maximumSequenceNumbersToCollect):o=L,d=Date.now(),this.nthSequenceNumber(e,o))).next(L=>(n=L,g=Date.now(),this.removeTargets(e,n,t))).next(L=>(l=L,v=Date.now(),this.removeOrphanedDocuments(e,n))).next(L=>(I=Date.now(),uf()<=Lt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-F}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(v-g)+`ms\n\tRemoved ${L} documents in `+(I-v)+`ms\nTotal Duration: ${I-F}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:L})))}}function wN(r,e){return new wO(r,e)}class IO{constructor(e,t){this.db=e,this.garbageCollector=wN(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(o=>n+o))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(n,o)=>t(o))}addReference(e,t,n){return Ow(e,n)}removeReference(e,t,n){return Ow(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ow(e,t)}gr(e,t){return function(o,l){let d=!1;return yN(o).ne(g=>_N(o,g,l).next(v=>(v&&(d=!0),Re.resolve(!v)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.mr(e,(d,g)=>{if(g<=t){const v=this.gr(e,d).next(I=>{if(!I)return l++,n.getEntry(e,d).next(()=>(n.removeEntry(d,Kt.min()),kf(e).delete([0,Gs(d.path)])))});o.push(v)}}).next(()=>Re.waitFor(o)).next(()=>n.apply(e)).next(()=>l)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ow(e,t)}mr(e,t){const n=kf(e);let o,l=so.le;return n.te({index:N_},([d,g],{path:v,sequenceNumber:I})=>{0===d?(l!==so.le&&t(new St(nl(o)),l),l=I,o=v):l=so.le}).next(()=>{l!==so.le&&t(new St(nl(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ow(r,e){return kf(r).put((o=r.currentSequenceNumber,{targetId:0,path:Gs(e.path),sequenceNumber:o}));var o}class IN{constructor(){this.changes=new Kl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Re.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Bg(e).put(n)}removeEntry(e,t,n){return Bg(e).delete(function(l,d){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],i(d),g[g.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.pr(e,n)))}getEntry(e,t){let n=Yr.newInvalidDocument(t);return Bg(e).te({index:R_,range:IDBKeyRange.only(eE(t))},(o,l)=>{n=this.yr(t,l)}).next(()=>n)}wr(e,t){let n={size:0,document:Yr.newInvalidDocument(t)};return Bg(e).te({index:R_,range:IDBKeyRange.only(eE(t))},(o,l)=>{n={document:this.yr(t,l),size:Mw(l)}}).next(()=>n)}getEntries(e,t){let n=Xo();return this.br(e,t,(o,l)=>{const d=this.yr(o,l);n=n.insert(o,d)}).next(()=>n)}Sr(e,t){let n=Xo(),o=new xr(St.comparator);return this.br(e,t,(l,d)=>{const g=this.yr(l,d);n=n.insert(l,g),o=o.insert(l,Mw(d))}).next(()=>({documents:n,Dr:o}))}br(e,t,n){if(t.isEmpty())return Re.resolve();let o=new hr(RN);t.forEach(v=>o=o.add(v));const l=IDBKeyRange.bound(eE(o.first()),eE(o.last())),d=o.getIterator();let g=d.getNext();return Bg(e).te({index:R_,range:l},(v,I,F)=>{const L=St.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;g&&RN(g,L)<0;)n(g,null),g=d.getNext();g&&g.isEqual(L)&&(n(g,I),g=d.hasNext()?d.getNext():null),g?F.H(eE(g)):F.done()}).next(()=>{for(;g;)n(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,n,o,l){const d=t.path,g=[d.popLast().toArray(),d.lastSegment(),i(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],v=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bg(e).J(IDBKeyRange.bound(g,v,!0)).next(I=>{l?.incrementDocumentReadCount(I.length);let F=Xo();for(const L of I){const Q=this.yr(St.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);Q.isFoundDocument()&&(Tg(t,Q)||o.has(Q.key))&&(F=F.insert(Q.key,Q))}return F})}getAllFromCollectionGroup(e,t,n,o){let l=Xo();const d=SN(t,n),g=SN(t,Qo.max());return Bg(e).te({index:db,range:IDBKeyRange.bound(d,g,!0)},(v,I,F)=>{const L=this.yr(St.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);l=l.insert(L.key,L),l.size===o&&F.done()}).next(()=>l)}newChangeBuffer(e){return new AO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return AN(e).get(hb).next(t=>(jt(!!t,20021),t))}pr(e,t){return AN(e).put(hb,t)}yr(e,t){if(t){const n=function uN(r,e){let t;if(e.document)t=Yb(r.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=St.fromSegments(e.noDocument.path),o=a(e.noDocument.readTime);t=Yr.newNoDocument(n,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt(56709);{const n=St.fromSegments(e.unknownDocument.path),o=a(e.unknownDocument.version);t=Yr.newUnknownDocument(n,o)}}return e.readTime&&t.setReadTime(function(o){const l=new ri(o[0],o[1]);return Kt.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Kt.min()))return n}return Yr.newInvalidDocument(e)}}function CN(r){return new CO(r)}class AO extends IN{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Kl(n=>n.toString(),(n,o)=>n.isEqual(o))}applyChanges(e){const t=[];let n=0,o=new hr((l,d)=>dn(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Cr.get(l);if(t.push(this.vr.removeEntry(e,l,g.readTime)),d.isValidDocument()){const v=WC(this.vr.serializer,d);o=o.add(l.path.popLast()),n+=Mw(v)-g.size,t.push(this.vr.addEntry(e,l,v))}else if(n-=g.size,this.trackRemovals){const v=WC(this.vr.serializer,d.convertToNoDocument(Kt.min()));t.push(this.vr.addEntry(e,l,v))}}),o.forEach(l=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.vr.updateMetadata(e,n)),Re.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(n=>(this.Cr.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:n,Dr:o})=>(o.forEach((l,d)=>{this.Cr.set(l,{size:d,readTime:n.get(l).readTime})}),n))}}function AN(r){return Oi(r,pf)}function Bg(r){return Oi(r,S_)}function eE(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function SN(r,e){const t=e.documentKey.path.toArray();return[r,i(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function RN(r,e){const t=r.path.toArray(),n=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<n.length-2;++l)if(o=dn(t[l],n[l]),o)return o;return o=dn(t.length,n.length),o||(o=dn(t[t.length-2],n[n.length-2]),o||dn(t[t.length-1],n[n.length-1]))}class SO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NN{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(n=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==n&&K_(n.mutation,o,Ao.empty(),ri.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Rn()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Rn()){const o=Yl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,n).next(l=>{let d=wg();return l.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const n=Yl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Rn()))}populateOverlays(e,t,n){const o=[];return n.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,n,o){let l=Xo();const d=Ig(),g=Ig();return t.forEach((v,I)=>{const F=n.get(I.key);o.has(I.key)&&(void 0===F||F.mutation instanceof Jl)?l=l.insert(I.key,I):void 0!==F?(d.set(I.key,F.mutation.getFieldMask()),K_(F.mutation,I,F.mutation.getFieldMask(),ri.now())):d.set(I.key,Ao.empty())}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((I,F)=>d.set(I,F)),t.forEach((I,F)=>{var L;return g.set(I,new SO(F,null!==(L=d.get(I))&&void 0!==L?L:null))}),g))}recalculateAndSaveOverlays(e,t){const n=Ig();let o=new xr((d,g)=>d-g),l=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let F=n.get(v)||Ao.empty();F=g.applyToLocalView(I,F),n.set(v,F);const L=(o.get(g.batchId)||Rn()).add(v);o=o.insert(g.batchId,L)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),I=v.key,F=v.value,L=ea();F.forEach(Q=>{if(!l.has(Q)){const ue=mw(t.get(Q),n.get(Q));null!==ue&&L.set(Q,ue),l=l.add(Q)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,L))}return Re.waitFor(d)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,o){return St.isDocumentKey((d=t).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o);var d}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):Re.resolve(Yl());let g=-1,v=l;return d.next(I=>Re.forEach(I,(F,L)=>(g<L.largestBatchId&&(g=L.largestBatchId),l.get(F)?Re.resolve():this.remoteDocumentCache.getEntry(e,F).next(Q=>{v=v.insert(F,Q)}))).next(()=>this.populateOverlays(e,I,l)).next(()=>this.computeViews(e,v,I,Rn())).next(F=>({batchId:g,changes:z_(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new St(t)).next(n=>{let o=wg();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let d=wg();return this.indexManager.getCollectionParents(e,l).next(g=>Re.forEach(g,v=>{const I=(L=t,Q=v.child(l),new rl(Q,null,L.explicitOrderBy.slice(),L.filters.slice(),L.limit,L.limitType,L.startAt,L.endAt));var L,Q;return this.getDocumentsMatchingCollectionQuery(e,I,n,o).next(F=>{F.forEach((L,Q)=>{d=d.insert(L,Q)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o))).next(d=>{l.forEach((v,I)=>{const F=I.getKey();null===d.get(F)&&(d=d.insert(F,Yr.newInvalidDocument(F)))});let g=wg();return d.forEach((v,I)=>{const F=l.get(v);void 0!==F&&K_(F.mutation,I,Ao.empty(),ri.now()),Tg(t,I)&&(g=g.insert(v,I))}),g})}}class RO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Re.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,{id:(o=t).id,version:o.version,createTime:zi(o.createTime)}),Re.resolve();var o}getNamedQuery(e,t){return Re.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,{name:(o=t).name,query:E(o.bundledQuery),readTime:zi(o.readTime)}),Re.resolve();var o}}class NO{constructor(){this.overlays=new xr(St.comparator),this.Or=new Map}getOverlay(e,t){return Re.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yl();return Re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&n.set(o,l)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((o,l)=>{this.St(e,t,l)}),Re.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.Or.get(n);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(n)),Re.resolve()}getOverlaysForCollection(e,t,n){const o=Yl(),l=t.length+1,d=new St(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===l&&v.largestBatchId>n&&o.set(v.getKey(),v)}return Re.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new xr((I,F)=>I-F);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>n){let F=l.get(I.largestBatchId);null===F&&(F=Yl(),l=l.insert(I.largestBatchId,F)),F.set(I.getKey(),I)}}const g=Yl(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,F)=>g.set(I,F)),!(g.size()>=o)););return Re.resolve(g)}St(e,t,n){const o=this.overlays.get(n.key);if(null!==o){const d=this.Or.get(o.largestBatchId).delete(n.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(n.key,new J_(t,n));let l=this.Or.get(t);void 0===l&&(l=Rn(),this.Or.set(t,l)),this.Or.set(t,l.add(n.key))}}class MO{constructor(){this.sessionToken=pi.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Re.resolve()}}class QC{constructor(){this.Nr=new hr(Ws.Br),this.Lr=new hr(Ws.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Ws(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Qr(new Ws(e,t))}$r(e,t){e.forEach(n=>this.removeReference(n,t))}Ur(e){const t=new St(new Vn([])),n=new Ws(t,e),o=new Ws(t,e+1),l=[];return this.Lr.forEachInRange([n,o],d=>{this.Qr(d),l.push(d.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new St(new Vn([])),n=new Ws(t,e),o=new Ws(t,e+1);let l=Rn();return this.Lr.forEachInRange([n,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ws(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ws{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return St.comparator(e.key,t.key)||dn(e.Gr,t.Gr)}static kr(e,t){return dn(e.Gr,t.Gr)||St.comparator(e.key,t.key)}}class PO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new hr(Ws.Br)}checkEmpty(e){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,o){const l=this.Jn;this.Jn++;const d=new Ub(l,t,n,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new Ws(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Re.resolve(d)}lookupMutationBatch(e,t){return Re.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Hr(t+1),l=o<0?0:o;return Re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.Jn-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ws(t,0),o=new Ws(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([n,o],d=>{const g=this.jr(d.Gr);l.push(g)}),Re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new hr(dn);return t.forEach(o=>{const l=new Ws(o,0),d=new Ws(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,d],g=>{n=n.add(g.Gr)})}),Re.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;St.isDocumentKey(l)||(l=l.child(""));const d=new Ws(new St(l),0);let g=new hr(dn);return this.zr.forEachWhile(v=>{const I=v.key.path;return!!n.isPrefixOf(I)&&(I.length===o&&(g=g.add(v.Gr)),!0)},d),Re.resolve(this.Jr(g))}Jr(e){const t=[];return e.forEach(n=>{const o=this.jr(n);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){jt(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return Re.forEach(t.mutations,o=>{const l=new Ws(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,t){const n=new Ws(t,0),o=this.zr.firstAfterOrEqual(n);return Re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Re.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OO{constructor(e){this.Zr=e,this.docs=new xr(St.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,d=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Re.resolve(n?n.document.mutableCopy():Yr.newInvalidDocument(t))}getEntries(e,t){let n=Xo();return t.forEach(o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():Yr.newInvalidDocument(o))}),Re.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=Xo();const d=t.path,g=new St(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:I,value:{document:F}}=v.getNext();if(!d.isPrefixOf(I.path))break;I.path.length>d.length+1||ag(PT(F),n)<=0||(o.has(F.key)||Tg(t,F))&&(l=l.insert(F.key,F.mutableCopy()))}return Re.resolve(l)}getAllFromCollectionGroup(e,t,n,o){xt(9500)}Xr(e,t){return Re.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new xO(this)}getSize(e){return Re.resolve(this.size)}}class xO extends IN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((n,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(n)}),Re.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class kO{constructor(e){this.persistence=e,this.ei=new Kl(t=>Cf(t),Af),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.ti=0,this.ni=new QC,this.targetCount=0,this.ri=Lg.rr()}forEachTarget(e,t){return this.ei.forEach((n,o)=>t(o)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),Re.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Lg(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.ar(t),Re.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=t&&null===n.get(g.targetId)&&(this.ei.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Re.waitFor(l).next(()=>o)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return Re.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),Re.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),Re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return Re.resolve(n)}containsKey(e,t){return Re.resolve(this.ni.containsKey(t))}}class JC{constructor(e,t){this.ii={},this.overlays={},this.si=new so(0),this.oi=!1,this.oi=!0,this._i=new MO,this.referenceDelegate=e(this),this.ai=new kO(this),this.indexManager=new bO,this.remoteDocumentCache=new OO(n=>this.referenceDelegate.ui(n)),this.serializer=new zC(t),this.ci=new RO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new PO(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){pt("MemoryPersistence","Starting transaction:",e);const o=new FO(this.si.next());return this.referenceDelegate.li(),n(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,t){return Re.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,t)))}}class FO extends ab{constructor(e){super(),this.currentSequenceNumber=e}}class xw{constructor(e){this.persistence=e,this.Ti=new QC,this.Ii=null}static Ei(e){return new xw(e)}get di(){if(this.Ii)return this.Ii;throw xt(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),Re.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>n.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.di,n=>{const o=St.fromPath(n);return this.Ai(e,o).next(l=>{l||t.removeEntry(o,Kt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(n=>{n?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return Re.or([()=>Re.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class kw{constructor(e,t){this.persistence=e,this.Ri=new Kl(n=>Gs(n.path),(n,o)=>n.isEqual(o)),this.garbageCollector=wN(this,t)}static Ei(e,t){return new kw(e,t)}li(){}hi(e){return Re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(o=>n+o))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}Ar(e,t){return Re.forEach(this.Ri,(n,o)=>this.gr(e,n,o).next(l=>l?Re.resolve():t(o)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,d=>this.gr(e,d,t).next(g=>{g||(n++,l.removeEntry(d,Kt.min()))})).next(()=>l.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Re.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Re.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Re.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vg(e.data.value)),t}gr(e,t,n){return Re.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return Re.resolve(void 0!==o&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class VO{constructor(e){this.serializer=e}q(e,t,n,o){const l=new T_("createOrUpgrade",t);var v;n<1&&o>=1&&(e.createObjectStore(C_),(v=e).createObjectStore(Ld,{keyPath:"userId"}),v.createObjectStore(Zo,{keyPath:LT,autoIncrement:!0}).createIndex(kc,A_,{unique:!0}),v.createObjectStore(Bd),MN(e),function(v){v.createObjectStore(Fd)}(e));let d=Re.resolve();return n<3&&o>=3&&(0!==n&&(function(v){v.deleteObjectStore(mf),v.deleteObjectStore(gf),v.deleteObjectStore(Fc)}(e),MN(e)),d=d.next(()=>function(v){const I=v.store(Fc),F={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kt.min().toTimestamp(),targetCount:0};return I.put(dg,F)}(l))),n<4&&o>=4&&(0!==n&&(d=d.next(()=>function(v,I){return I.store(Zo).J().next(L=>{v.deleteObjectStore(Zo),v.createObjectStore(Zo,{keyPath:LT,autoIncrement:!0}).createIndex(kc,A_,{unique:!0});const Q=I.store(Zo),ue=L.map(ye=>Q.put(ye));return Re.waitFor(ue)})}(e,l))),d=d.next(()=>{!function(v){v.createObjectStore(_f,{keyPath:"clientId"})}(e)})),n<5&&o>=5&&(d=d.next(()=>this.Vi(l))),n<6&&o>=6&&(d=d.next(()=>(function(v){v.createObjectStore(pf)}(e),this.mi(l)))),n<7&&o>=7&&(d=d.next(()=>this.fi(l))),n<8&&o>=8&&(d=d.next(()=>this.gi(e,l))),n<9&&o>=9&&(d=d.next(()=>{!function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&o>=10&&(d=d.next(()=>this.pi(l))),n<11&&o>=11&&(d=d.next(()=>{(function(v){v.createObjectStore(M_,{keyPath:"bundleId"})})(e),function(v){v.createObjectStore(Vc,{keyPath:"name"})}(e)})),n<12&&o>=12&&(d=d.next(()=>{!function(v){const I=v.createObjectStore(Lc,{keyPath:fC});I.createIndex(fg,$l,{unique:!1}),I.createIndex(zT,fb,{unique:!1})}(e)})),n<13&&o>=13&&(d=d.next(()=>function(v){const I=v.createObjectStore(S_,{keyPath:tC});I.createIndex(R_,nC),I.createIndex(db,KR)}(e)).next(()=>this.yi(e,l)).next(()=>e.deleteObjectStore(Fd))),n<14&&o>=14&&(d=d.next(()=>this.wi(e,l))),n<15&&o>=15&&(d=d.next(()=>function(v){v.createObjectStore(P_,{keyPath:"indexId",autoIncrement:!0}).createIndex(O_,"collectionGroup",{unique:!1}),v.createObjectStore(x_,{keyPath:lC}).createIndex(uC,cC,{unique:!1}),v.createObjectStore(k_,{keyPath:dC}).createIndex(GT,hC,{unique:!1})}(e))),n<16&&o>=16&&(d=d.next(()=>{t.objectStore(x_).clear()}).next(()=>{t.objectStore(k_).clear()})),n<17&&o>=17&&(d=d.next(()=>{!function(v){v.createObjectStore(Ud,{keyPath:"name"})}(e)})),d}mi(e){let t=0;return e.store(Fd).te((n,o)=>{t+=Mw(o)}).next(()=>{const n={byteSize:t};return e.store(pf).put(hb,n)})}Vi(e){const t=e.store(Ld),n=e.store(Zo);return t.J().next(o=>Re.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return n.J(kc,d).next(g=>Re.forEach(g,v=>{jt(v.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:v.batchId});const I=u(this.serializer,v);return mN(e,l.userId,I).next(()=>{})}))}))}fi(e){const t=e.store(mf),n=e.store(Fd);return e.store(Fc).get(dg).next(o=>{const l=[];return n.te((d,g)=>{const v=new Vn(d),I=[0,Gs(v)];l.push(t.get(I).next(F=>F?Re.resolve():t.put({targetId:0,path:Gs(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Re.waitFor(l))})}gi(e,t){e.createObjectStore(hg,{keyPath:sC});const n=t.store(hg),o=new YC,l=d=>{if(o.add(d)){const g=d.lastSegment(),v=d.popLast();return n.put({collectionId:g,parent:Gs(v)})}};return t.store(Fd).te({ee:!0},(d,g)=>{const v=new Vn(d);return l(v.popLast())}).next(()=>t.store(Bd).te({ee:!0},([d,g,v],I)=>{const F=nl(g);return l(F.popLast())}))}pi(e){const t=e.store(gf);return t.te((n,o)=>{const l=h(o),d=m(this.serializer,l);return t.put(d)})}yi(e,t){const n=t.store(Fd),o=[];return n.te((l,d)=>{const g=t.store(S_),v=(L=d,L.document?new St(Vn.fromString(L.document.name).popFirst(5)):L.noDocument?St.fromSegments(L.noDocument.path):L.unknownDocument?St.fromSegments(L.unknownDocument.path):xt(36783)).path.toArray(),I={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};var L;o.push(g.put(I))}).next(()=>Re.waitFor(o))}wi(e,t){const n=t.store(Zo),o=CN(this.serializer),l=new JC(xw.Ei,this.serializer.wt);return n.J().next(d=>{const g=new Map;return d.forEach(v=>{var I;let F=null!==(I=g.get(v.userId))&&void 0!==I?I:Rn();u(this.serializer,v).keys().forEach(L=>F=F.add(L)),g.set(v.userId,F)}),Re.forEach(g,(v,I)=>{const F=new ps(I),L=Ce.bt(this.serializer,F),Q=l.getIndexManager(F),ue=Pw.bt(F,this.serializer,Q,l.referenceDelegate);return new NN(o,ue,L,Q).recalculateAndSaveOverlaysForDocumentKeys(new F_(t,so.le),v).next()})})}}function MN(r){r.createObjectStore(mf,{keyPath:iC}).createIndex(N_,UT,{unique:!0}),r.createObjectStore(gf,{keyPath:"targetId"}).createIndex(rC,YR,{unique:!0}),r.createObjectStore(Fc)}const Ff="IndexedDbPersistence",ZC=18e5,eA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tA{constructor(e,t,n,o,l,d,g,v,I,F,L=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.bi=l,this.window=d,this.document=g,this.Si=I,this.Di=F,this.Ci=L,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=Q=>Promise.resolve(),!tA.C())throw new ct(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new IO(this,o),this.Bi=t+"main",this.serializer=new zC(v),this.Li=new jl(this.Bi,this.Ci,new VO(this.serializer)),this._i=new yt,this.ai=new DO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CN(this.serializer),this.ci=new q,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,!1===F&&ni(Ff,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct(je.FAILED_PRECONDITION,eA);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new so(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){var t=this;return this.Ni=function(){var n=K(function*(o){if(t.started)return e(o)});return function(o){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(function(){var t=K(function*(n){null===n.newVersion&&(yield e())});return function(n){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(K(function*(){t.started&&(yield t.qi())})))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if($u(e))return pt(Ff,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt(Ff,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return tE(e).get(Vd).next(t=>Re.resolve(this.Hi(t)))}Ji(e){return Fw(e).delete(this.clientId)}Yi(){var e=this;return K(function*(){if(e.isPrimary&&!e.Zi(e.Oi,ZC)){e.Oi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const o=Oi(n,_f);return o.J().next(l=>{const d=e.Xi(l,ZC),g=l.filter(v=>-1===d.indexOf(v));return Re.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(e.ki)for(const n of t)e.ki.removeItem(e.es(n.clientId))}})()}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?Re.resolve(!0):tE(e).get(Vd).next(t=>{if(null!==t&&this.Zi(t.leaseTimestampMs,5e3)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new ct(je.FAILED_PRECONDITION,eA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fw(e).J().next(n=>void 0===this.Xi(n,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&pt(Ff,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return K(function*(){e.oi=!1,e.ns(),e.xi&&(e.xi.cancel(),e.xi=null),e.rs(),e.ss(),yield e.Li.runTransaction("shutdown","readwrite",[C_,_f],t=>{const n=new F_(t,so.le);return e.zi(n).next(()=>e.Ji(n))}),e.Li.close(),e._s()})()}Xi(e,t){return e.filter(n=>this.Zi(n.updateTimeMs,t)&&!this.ts(n.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>Fw(e).J().next(t=>this.Xi(t,ZC).map(n=>n.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return Pw.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new EO(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Ce.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,n){pt(Ff,"Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=17===(v=this.Ci)?qT:16===v?mC:15===v?pb:14===v?gg:13===v?pg:12===v?gC:11===v?WT:void xt(60245);var v;let d;return this.Li.runTransaction(e,o,l,g=>(d=new F_(g,this.si?this.si.next():so.le),"readwrite-primary"===t?this.Wi(d).next(v=>!!v||this.Gi(d)).next(v=>{if(!v)throw ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new ct(je.FAILED_PRECONDITION,OT);return n(d)}).next(v=>this.ji(d).next(()=>v)):this.cs(d).next(()=>n(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}cs(e){return tE(e).get(Vd).next(t=>{if(null!==t&&this.Zi(t.leaseTimestampMs,5e3)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ct(je.FAILED_PRECONDITION,eA)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tE(e).put(Vd,t)}static C(){return jl.C()}zi(e){const t=tE(e);return t.get(Vd).next(n=>this.Hi(n)?(pt(Ff,"Releasing primary lease."),t.delete(Vd)):Re.resolve())}Zi(e,t){const n=Date.now();return!(e<n-t||e>n&&(ni(`Detected an update time that is in the future: ${e} > ${n}`),1))}Qi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground="visible"===this.document.visibilityState)}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;pa()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const n=null!==(null===(t=this.ki)||void 0===t?void 0:t.getItem(this.es(e)));return pt(Ff,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ni(Ff,"Failed to get zombied client id.",n),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){ni("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tE(r){return Oi(r,C_)}function Fw(r){return Oi(r,_f)}function nA(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class rA{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=o}static Ps(e,t){let n=Rn(),o=Rn();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new rA(e,t.fromCache,n,o)}}class LO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ON{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=pa()?8:xT(In())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.Rs(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.Vs(e,t,o,n).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new LO;return this.fs(e,t,d).next(g=>{if(l.result=g,this.Is)return this.gs(e,t,d,g.size)})}).next(()=>l.result)}gs(e,t,n,o){return n.documentReadCount<this.Es?(uf()<=Lt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Nf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Re.resolve()):(uf()<=Lt.DEBUG&&pt("QueryEngine","Query:",Nf(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.ds*o?(uf()<=Lt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Nf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zs(t))):Re.resolve())}Rs(e,t){if(Sb(t))return Re.resolve(null);let n=zs(t);return this.indexManager.getIndexType(e,n).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Nb(t,null,"F"),n=zs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(l=>{const d=Rn(...l);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,n).next(v=>{const I=this.ps(t,g);return this.ys(t,I,d,v.readTime)?this.Rs(e,Nb(t,null,"F")):this.ws(e,I,t,v)}))})))}Vs(e,t,n,o){return Sb(t)||o.isEqual(Kt.min())?Re.resolve(null):this.As.getDocuments(e,n).next(l=>{const d=this.ps(t,l);return this.ys(t,d,n,o)?Re.resolve(null):(uf()<=Lt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nf(t)),this.ws(e,d,t,MT(o,-1)).next(g=>g))})}ps(e,t){let n=new hr(AC(e));return t.forEach((o,l)=>{Tg(e,l)&&(n=n.add(l))}),n}ys(e,t,n,o){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,t,n){return uf()<=Lt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Nf(t)),this.As.getDocumentsMatchingQuery(e,t,Qo.min(),n)}ws(e,t,n,o){return this.As.getDocumentsMatchingQuery(e,n,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}const iA="LocalStore";class UO{constructor(e,t,n,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new xr(dn),this.Ds=new Kl(l=>Cf(l),Af),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function xN(r,e,t,n){return new UO(r,e,t,n)}function kN(r,e){return sA.apply(this,arguments)}function sA(){return sA=K(function*(r,e){const t=wt(r);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next(l=>(o=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(n))).next(l=>{const d=[],g=[];let v=Rn();for(const I of o){d.push(I.batchId);for(const F of I.mutations)v=v.add(F.key)}for(const I of l){g.push(I.batchId);for(const F of I.mutations)v=v.add(F.key)}return t.localDocuments.getDocuments(n,v).next(I=>({Ms:I,removedBatchIds:d,addedBatchIds:g}))})})}),sA.apply(this,arguments)}function HO(r,e){const t=wt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const o=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(g,v,I,F){const L=I.batch,Q=L.keys();let ue=Re.resolve();return Q.forEach(ye=>{ue=ue.next(()=>F.getEntry(v,ye)).next(Be=>{const Ke=I.docVersions.get(ye);jt(null!==Ke,48541),Be.version.compareTo(Ke)<0&&(L.applyToRemoteDocument(Be,I),Be.isValidDocument()&&(Be.setReadTime(I.commitVersion),F.addEntry(Be)))})}),ue.next(()=>g.mutationQueue.removeMutationBatch(v,L))}(t,n,e,l).next(()=>l.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(g){let v=Rn();for(let I=0;I<g.mutationResults.length;++I)g.mutationResults[I].transformResults.length>0&&(v=v.add(g.batch.mutations[I].key));return v}(e))).next(()=>t.localDocuments.getDocuments(n,o))})}function FN(r){const e=wt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function jO(r,e){const t=wt(r),n=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const g=[];e.targetChanges.forEach((F,L)=>{const Q=o.get(L);if(!Q)return;g.push(t.ai.removeMatchingKeys(l,F.removedDocuments,L).next(()=>t.ai.addMatchingKeys(l,F.addedDocuments,L)));let ue=Q.withSequenceNumber(l.currentSequenceNumber);var Be,Ke,vt;null!==e.targetMismatches.get(L)?ue=ue.withResumeToken(pi.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):F.resumeToken.approximateByteSize()>0&&(ue=ue.withResumeToken(F.resumeToken,n)),o=o.insert(L,ue),Ke=ue,vt=F,(0===(Be=Q).resumeToken.approximateByteSize()||Ke.snapshotVersion.toMicroseconds()-Be.snapshotVersion.toMicroseconds()>=3e8||vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0)&&g.push(t.ai.updateTargetData(l,ue))});let v=Xo(),I=Rn();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,F))}),g.push(VN(l,d,e.documentUpdates).next(F=>{v=F.xs,I=F.Os})),!n.isEqual(Kt.min())){const F=t.ai.getLastRemoteSnapshotVersion(l).next(L=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,n));g.push(F)}return Re.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,I)).next(()=>v)}).then(l=>(t.Ss=o,l))}function VN(r,e,t){let n=Rn(),o=Rn();return t.forEach(l=>n=n.add(l)),e.getEntries(r,n).next(l=>{let d=Xo();return t.forEach((g,v)=>{const I=l.get(g);v.isFoundDocument()!==I.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Kt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):pt(iA,"Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",v.version)}),{xs:d,Os:o}})}function $O(r,e){const t=wt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function hy(r,e){const t=wt(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let o;return t.ai.getTargetData(n,e).next(l=>l?(o=l,Re.resolve(o)):t.ai.allocateTargetId(n).next(d=>(o=new zc(e,d,"TargetPurposeListen",n.currentSequenceNumber),t.ai.addTargetData(n,o).next(()=>o))))}).then(n=>{const o=t.Ss.get(n.targetId);return(null===o||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(n.targetId,n),t.Ds.set(e,n.targetId)),n})}function fy(r,e,t){return oA.apply(this,arguments)}function oA(){return oA=K(function*(r,e,t){const n=wt(r),o=n.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",l,d=>n.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!$u(d))throw d;pt(iA,`Failed to update sequence numbers for target ${e}: ${d}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(o.target)}),oA.apply(this,arguments)}function Vw(r,e,t){const n=wt(r);let o=Kt.min(),l=Rn();return n.persistence.runTransaction("Execute query","readwrite",d=>function(v,I,F){const L=wt(v),Q=L.Ds.get(F);return void 0!==Q?Re.resolve(L.Ss.get(Q)):L.ai.getTargetData(I,F)}(n,d,zs(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(d,g.targetId).next(v=>{l=v})}).next(()=>n.bs.getDocumentsMatchingQuery(d,e,t?o:Kt.min(),t?l:Rn())).next(g=>(UN(n,cw(e),g),{documents:g,Ns:l})))}function LN(r,e){const t=wt(r),n=wt(t.ai),o=t.Ss.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>n.Rt(l,e).next(d=>d?d.target:null))}function BN(r,e){const t=wt(r),n=t.vs.get(e)||Kt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Cs.getAllFromCollectionGroup(o,e,MT(n,-1),Number.MAX_SAFE_INTEGER)).then(o=>(UN(t,e,o),o))}function UN(r,e,t){let n=r.vs.get(e)||Kt.min();t.forEach((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)}),r.vs.set(e,n)}function aA(){return aA=K(function*(r,e,t,n){const o=wt(r);let l=Rn(),d=Xo();for(const I of t){const F=e.Bs(I.metadata.name);I.document&&(l=l.add(F));const L=e.Ls(I);L.setReadTime(e.ks(I.metadata.readTime)),d=d.insert(F,L)}const g=o.Cs.newChangeBuffer({trackRemovals:!0}),v=yield hy(o,(F=n,zs(Sf(Vn.fromString(`__bundle__/docs/${F}`)))));var F;return o.persistence.runTransaction("Apply bundle documents","readwrite",I=>VN(I,g,d).next(F=>(g.apply(I),F)).next(F=>o.ai.removeMatchingKeysForTargetId(I,v.targetId).next(()=>o.ai.addMatchingKeys(I,l,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(I,F.xs,F.Os)).next(()=>F.xs)))}),aA.apply(this,arguments)}function zO(r,e){return lA.apply(this,arguments)}function lA(){return lA=K(function*(r,e,t=Rn()){const n=yield hy(r,zs(E(e.bundledQuery))),o=wt(r);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=zi(e.readTime);if(n.snapshotVersion.compareTo(d)>=0)return o.ci.saveNamedQuery(l,e);const g=n.withResumeToken(pi.EMPTY_BYTE_STRING,d);return o.Ss=o.Ss.insert(g.targetId,g),o.ai.updateTargetData(l,g).next(()=>o.ai.removeMatchingKeysForTargetId(l,n.targetId)).next(()=>o.ai.addMatchingKeys(l,t,n.targetId)).next(()=>o.ci.saveNamedQuery(l,e))})}),lA.apply(this,arguments)}const HN="firestore_clients";function jN(r,e){return`${HN}_${r}_${e}`}const $N="firestore_mutations";function GN(r,e,t){let n=`${$N}_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const zN="firestore_targets";function uA(r,e){return`${zN}_${r}_${e}`}const Wc="SharedClientState";class Lw{constructor(e,t,n,o){this.user=e,this.batchId=t,this.state=n,this.error=o}static qs(e,t,n){const o=JSON.parse(n);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new ct(o.error.code,o.error.message))),d?new Lw(e,t,o.state,l):(ni(Wc,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static qs(e,t){const n=JSON.parse(t);let o,l="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return l&&n.error&&(l="string"==typeof n.error.message&&"string"==typeof n.error.code,l&&(o=new ct(n.error.code,n.error.message))),l?new nE(e,n.state,o):(ni(Wc,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const n=JSON.parse(t);let o="object"==typeof n&&n.activeTargetIds instanceof Array,l=W_();for(let d=0;o&&d<n.activeTargetIds.length;++d)o=FT(n.activeTargetIds[d]),l=l.add(n.activeTargetIds[d]);return o?new Bw(e,l):(ni(Wc,`Failed to parse client data for instance '${e}': ${t}`),null)}}class cA{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cA(t.clientId,t.onlineState):(ni(Wc,`Failed to parse online state: ${e}`),null)}}class dA{constructor(){this.activeTargetIds=W_()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hA{constructor(e,t,n,o,l){this.window=e,this.bi=t,this.persistenceKey=n,this.Ks=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new xr(dn),this.started=!1,this.js=[];const d=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Hs=jN(this.persistenceKey,this.Ks),this.Js=`firestore_sequence_number_${this.persistenceKey}`,this.zs=this.zs.insert(this.Ks,new dA),this.Ys=new RegExp(`^${HN}_${d}_([^_]*)$`),this.Zs=new RegExp(`^${$N}_${d}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${zN}_${d}_(\\d+)$`),this.eo=`firestore_online_state_${this.persistenceKey}`,this.no=function(v){return`firestore_bundle_loaded_v2_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return K(function*(){const t=yield e.syncEngine.us();for(const o of t){if(o===e.Ks)continue;const l=e.getItem(jN(e.persistenceKey,o));if(l){const d=Bw.qs(o,l);d&&(e.zs=e.zs.insert(d.clientId,d))}}e.ro();const n=e.storage.getItem(e.eo);if(n){const o=e.io(n);o&&e.so(o)}for(const o of e.js)e.Gs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((n,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,n){this._o(e,t,n),this.ao(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(uA(this.persistenceKey,e));if(o){const l=nE.qs(e,o);l&&(n=l.state)}}return t&&this.uo.$s(e),this.ro(),n}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uA(this.persistenceKey,e))}updateQueryState(e,t,n){this.co(e,t,n)}handleUserChange(e,t,n){t.forEach(o=>{this.ao(o)}),this.currentUser=e,n.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pt(Wc,"READ",e,t),t}setItem(e,t){pt(Wc,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pt(Wc,"REMOVE",e),this.storage.removeItem(e)}Gs(e){var t=this;const n=e;if(n.storageArea===this.storage){if(pt(Wc,"EVENT",n.key,n.newValue),n.key===this.Hs)return void ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(K(function*(){if(t.started){if(null!==n.key)if(t.Ys.test(n.key)){if(null==n.newValue){const o=t.Po(n.key);return t.To(o,null)}{const o=t.Io(n.key,n.newValue);if(o)return t.To(o.clientId,o)}}else if(t.Zs.test(n.key)){if(null!==n.newValue){const o=t.Eo(n.key,n.newValue);if(o)return t.Ao(o)}}else if(t.Xs.test(n.key)){if(null!==n.newValue){const o=t.Ro(n.key,n.newValue);if(o)return t.Vo(o)}}else if(n.key===t.eo){if(null!==n.newValue){const o=t.io(n.newValue);if(o)return t.so(o)}}else if(n.key===t.Js){const o=function(d){let g=so.le;if(null!=d)try{const v=JSON.parse(d);jt("number"==typeof v,30636,{mo:d}),g=v}catch(v){ni(Wc,"Failed to read sequence number from WebStorage",v)}return g}(n.newValue);o!==so.le&&t.sequenceNumberHandler(o)}else if(n.key===t.no){const o=t.fo(n.newValue);yield Promise.all(o.map(l=>t.syncEngine.po(l)))}}else t.js.push(n)}))}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,n){const o=new Lw(this.currentUser,e,t,n),l=GN(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Qs())}ao(e){const t=GN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){this.storage.setItem(this.eo,JSON.stringify({clientId:this.Ks,onlineState:e}))}co(e,t,n){const o=uA(this.persistenceKey,e),l=new nE(e,t,n);this.setItem(o,l.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const n=this.Po(e);return Bw.qs(n,t)}Eo(e,t){const n=this.Zs.exec(e),o=Number(n[1]);return Lw.qs(new ps(void 0!==n[2]?n[2]:null),o,t)}Ro(e,t){const n=this.Xs.exec(e),o=Number(n[1]);return nE.qs(o,t)}io(e){return cA.qs(e)}fo(e){return JSON.parse(e)}Ao(e){var t=this;return K(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.yo(e.batchId,e.state,e.error);pt(Wc,`Ignoring mutation for non-active user ${e.user.uid}`)})()}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const n=t?this.zs.insert(e,t):this.zs.remove(e),o=this.oo(this.zs),l=this.oo(n),d=[],g=[];return l.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{l.has(v)||g.push(v)}),this.syncEngine.bo(d,g).then(()=>{this.zs=n})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=W_();return e.forEach((n,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class WN{constructor(){this.So=new dA,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new dA,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WO{vo(e){}shutdown(){}}const qN="ConnectivityMonitor";class KN{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pt(qN,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pt(qN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uw=null;function fA(){return null===Uw?Uw=268435456+Math.round(2147483648*Math.random()):Uw++,"0x"+Uw.toString(16)}const pA="RestConnection",qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YO{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const No="WebChannelConnection";class QO extends class KO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${o}`,this.qo=this.databaseId.database===Wl?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Qo(e,t,n,o,l){const d=fA(),g=this.$o(e,t.toUriEncodedString());pt(pA,`Sending RPC '${e}' ${d}:`,g,n);const v={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(v,o,l);const{host:I}=new URL(g),F=D(I);return this.Ko(e,g,v,n,F).then(L=>(pt(pA,`Received RPC '${e}' ${d}: `,L),L),L=>{throw Co(pA,`RPC '${e}' ${d} failed with error: `,L,"url: ",g,"request:",n),L})}Wo(e,t,n,o,l,d){return this.Qo(e,t,n,o,l)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),n&&n.headers.forEach((o,l)=>e[l]=o)}$o(e,t){return`${this.Lo}/v1/${t}:${qO[e]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,o,l){const d=fA();return new Promise((g,v)=>{const I=new ng;I.setWithCredentials(!0),I.listenOnce(Q0.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case rg.NO_ERROR:const L=I.getResponseJson();pt(No,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(L)),g(L);break;case rg.TIMEOUT:pt(No,`RPC '${e}' ${d} timed out`),v(new ct(je.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const Q=I.getStatus();if(pt(No,`RPC '${e}' ${d} failed with status:`,Q,"response text:",I.getResponseText()),Q>0){let ue=I.getResponseJson();Array.isArray(ue)&&(ue=ue[0]);const ye=ue?.error;if(ye&&ye.status&&ye.message){const Be=function(vt){const Ct=vt.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(Ct)>=0?Ct:je.UNKNOWN}(ye.status);v(new ct(Be,ye.message))}else v(new ct(je.UNKNOWN,"Server responded with status "+I.getStatus()))}else v(new ct(je.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{s_:e,streamId:d,o_:I.getLastErrorCode(),__:I.getLastError()})}}finally{pt(No,`RPC '${e}' ${d} completed.`)}});const F=JSON.stringify(o);pt(No,`RPC '${e}' ${d} sending request:`,o),I.send(t,"POST",F,n,15)})}a_(e,t,n){const o=fA(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=eb(),g=X0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(v.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Uo(v.initMessageHeaders,t,n),v.encodeInitMessageHeaders=!0;const F=l.join("");pt(No,`Creating RPC '${e}' stream ${o}: ${F}`,v);const L=d.createWebChannel(F,v);let Q=!1,ue=!1;const ye=new YO({Go:Ke=>{ue?pt(No,`Not sending because RPC '${e}' stream ${o} is closed:`,Ke):(Q||(pt(No,`Opening RPC '${e}' stream ${o} transport.`),L.open(),Q=!0),pt(No,`RPC '${e}' stream ${o} sending:`,Ke),L.send(Ke))},zo:()=>L.close()}),Be=(Ke,vt,Ct)=>{Ke.listen(vt,It=>{try{Ct(It)}catch($t){setTimeout(()=>{throw $t},0)}})};return Be(L,v_.EventType.OPEN,()=>{ue||(pt(No,`RPC '${e}' stream ${o} transport opened.`),ye.t_())}),Be(L,v_.EventType.CLOSE,()=>{ue||(ue=!0,pt(No,`RPC '${e}' stream ${o} transport closed`),ye.r_())}),Be(L,v_.EventType.ERROR,Ke=>{ue||(ue=!0,Co(No,`RPC '${e}' stream ${o} transport errored. Name:`,Ke.name,"Message:",Ke.message),ye.r_(new ct(je.UNAVAILABLE,"The operation could not be completed")))}),Be(L,v_.EventType.MESSAGE,Ke=>{var vt;if(!ue){const Ct=Ke.data[0];jt(!!Ct,16349);const It=Ct,$t=It?.error||(null===(vt=It[0])||void 0===vt?void 0:vt.error);if($t){pt(No,`RPC '${e}' stream ${o} received error:`,$t);const Ln=$t.status;let an=function(de){const ve=ns[de];if(void 0!==ve)return yw(ve)}(Ln),me=$t.message;void 0===an&&(an=je.INTERNAL,me="Unknown error status: "+Ln+" with message "+$t.message),ue=!0,ye.r_(new ct(an,me)),L.close()}else pt(No,`RPC '${e}' stream ${o} received:`,Ct),ye.i_(Ct)}}),Be(g,Z0.STAT_EVENT,Ke=>{Ke.stat===J0.PROXY?pt(No,`RPC '${e}' stream ${o} detected buffering proxy`):Ke.stat===J0.NOPROXY&&pt(No,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ye.n_()},0),ye}}function YN(){return typeof window<"u"?window:null}function Hw(){return typeof document<"u"?document:null}function rE(r){return new zb(r,!0)}class gA{constructor(e,t,n=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-n);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const QN="PersistentStream";class JN{constructor(e,t,n,o,l,d,g,v){this.bi=e,this.R_=n,this.V_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new gA(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}stop(){var e=this;return K(function*(){e.w_()&&(yield e.close(0))})()}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){var e=this;return K(function*(){if(e.b_())return e.close(0)})()}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){var n=this;return K(function*(){n.M_(),n.x_(),n.y_.cancel(),n.m_++,4!==e?n.y_.reset():t&&t.code===je.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),n.y_.I_()):t&&t.code===je.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.O_(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Zo(t)})()}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,o])=>{this.m_===t&&this.B_(n,o)},n=>{e(()=>{const o=new ct(je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(o)})})}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{n(()=>this.L_(o))}),this.stream.onMessage(o=>{n(()=>1==++this.p_?this.q_(o):this.onNext(o))})}S_(){var e=this;this.state=5,this.y_.E_(K(function*(){e.state=0,e.start()}))}L_(e){return pt(QN,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pt(QN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JO extends JN{constructor(e,t,n,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,d),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function iN(r,e){let t;if("targetChange"in e){const n="NO_CHANGE"===(I=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:xt(39313,{state:I}),o=e.targetChange.targetIds||[],l=function(I,F){return I.useProto3Json?(jt(void 0===F||"string"==typeof F,58123),pi.fromBase64String(F||"")):(jt(void 0===F||F instanceof Buffer||F instanceof Uint8Array,16193),pi.fromUint8Array(F||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(I){const F=void 0===I.code?je.UNKNOWN:yw(I.code);return new ct(F,I.message||"")}(d);t=new Ew(n,o,l,g||null)}else if("documentChange"in e){const n=e.documentChange,o=Zl(r,n.document.name),l=zi(n.document.updateTime),d=n.document.createTime?zi(n.document.createTime):Kt.min(),g=new Os({mapValue:{fields:n.document.fields}}),v=Yr.newFoundDocument(o,l,d,g);t=new Wd(n.targetIds||[],n.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const n=e.documentDelete,o=Zl(r,n.document),l=n.readTime?zi(n.readTime):Kt.min(),d=Yr.newNoDocument(o,l);t=new Wd([],n.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const n=e.documentRemove,o=Zl(r,n.document);t=new Wd([],n.removedTargetIds||[],o,null)}else{if(!("filter"in e))return xt(11601,{Vt:e});{const n=e.filter,{count:o=0,unchangedNames:l}=n,d=new kC(o,l);t=new bw(n.targetId,d)}}var I;return t}(this.serializer,e),n=function(l){if(!("targetChange"in l))return Kt.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Kt.min():d.readTime?zi(d.readTime):Kt.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=ry(this.serializer),t.addTarget=function(l,d){let g;const v=d.target;if(g=Gd(v)?{documents:Iw(l,v)}:{query:Jb(l,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=UC(l,d.resumeToken);const I=Pf(l,d.expectedCount);null!==I&&(g.expectedCount=I)}else if(d.snapshotVersion.compareTo(Kt.min())>0){g.readTime=Pg(l,d.snapshotVersion.toTimestamp());const I=Pf(l,d.expectedCount);null!==I&&(g.expectedCount=I)}return g}(this.serializer,e);const n=function $C(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:o})}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=ry(this.serializer),t.removeTarget=e,this.F_(t)}}class ZO extends JN{constructor(e,t,n,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,d),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function HC(r,e){return r&&r.length>0?(jt(void 0!==e,14353),r.map(t=>function(o,l){let d=zi(o.updateTime?o.updateTime:l);return d.isEqual(Kt.min())&&(d=zi(l)),new OC(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),n=zi(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=ry(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>Of(this.serializer,n))};this.F_(t)}}class ex extends class XO{}{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ct(je.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Qo(e,Wb(t,n),o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(je.UNKNOWN,l.toString())})}Wo(e,t,n,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,Wb(t,n),o,d,g,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(je.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class tx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ni(t),this.ea=!1):pt("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const Ug="RemoteStore";class nx{constructor(e,t,n,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(g=>{n.enqueueAndForget(K(function*(){var v;Vf(d)&&(pt(Ug,"Restarting streams for network reachability change."),yield(v=K(function*(F){const L=wt(F);L.aa.add(4),yield py(L),L.la.set("Unknown"),L.aa.delete(4),yield iE(L)}),function I(F){return v.apply(this,arguments)})(d))}))}),this.la=new tx(n,o)}}function iE(r){return mA.apply(this,arguments)}function mA(){return mA=K(function*(r){if(Vf(r))for(const e of r.ua)yield e(!0)}),mA.apply(this,arguments)}function py(r){return _A.apply(this,arguments)}function _A(){return _A=K(function*(r){for(const e of r.ua)yield e(!1)}),_A.apply(this,arguments)}function jw(r,e){const t=wt(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),bA(t)?vA(t):_y(t).b_()&&yA(t,e))}function gy(r,e){const t=wt(r),n=_y(t);t._a.delete(e),n.b_()&&ZN(t,e),0===t._a.size&&(n.b_()?n.v_():Vf(t)&&t.la.set("Unknown"))}function yA(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_y(r).U_(e)}function ZN(r,e){r.ha.Ke(e),_y(r).K_(e)}function vA(r){r.ha=new qd({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),_y(r).start(),r.la.ta()}function bA(r){return Vf(r)&&!_y(r).w_()&&r._a.size>0}function Vf(r){return 0===wt(r).aa.size}function XN(r){r.ha=void 0}function rx(r){return EA.apply(this,arguments)}function EA(){return EA=K(function*(r){r.la.set("Online")}),EA.apply(this,arguments)}function ix(r){return DA.apply(this,arguments)}function DA(){return DA=K(function*(r){r._a.forEach((e,t)=>{yA(r,e)})}),DA.apply(this,arguments)}function sx(r,e){return TA.apply(this,arguments)}function TA(){return TA=K(function*(r,e){XN(r),bA(r)?(r.la.ia(e),vA(r)):r.la.set("Unknown")}),TA.apply(this,arguments)}function ox(r,e,t){return wA.apply(this,arguments)}function wA(){return wA=K(function*(r,e,t){if(r.la.set("Online"),e instanceof Ew&&2===e.state&&e.cause)try{yield(n=K(function*(l,d){const g=d.cause;for(const v of d.targetIds)l._a.has(v)&&(yield l.remoteSyncer.rejectListen(v,g),l._a.delete(v),l.ha.removeTarget(v))}),function o(l,d){return n.apply(this,arguments)})(r,e)}catch(n){pt(Ug,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield $w(r,n)}else if(e instanceof Wd?r.ha.Xe(e):e instanceof bw?r.ha.ot(e):r.ha.nt(e),!t.isEqual(Kt.min()))try{const n=yield FN(r.localStore);t.compareTo(n)>=0&&(yield function(l,d){const g=l.ha.It(d);return g.targetChanges.forEach((v,I)=>{if(v.resumeToken.approximateByteSize()>0){const F=l._a.get(I);F&&l._a.set(I,F.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,I)=>{const F=l._a.get(v);if(!F)return;l._a.set(v,F.withResumeToken(pi.EMPTY_BYTE_STRING,F.snapshotVersion)),ZN(l,v);const L=new zc(F.target,v,I,F.sequenceNumber);yA(l,L)}),l.remoteSyncer.applyRemoteEvent(g)}(r,t))}catch(n){pt(Ug,"Failed to raise snapshot:",n),yield $w(r,n)}var n}),wA.apply(this,arguments)}function $w(r,e,t){return IA.apply(this,arguments)}function IA(){return IA=K(function*(r,e,t){if(!$u(e))throw e;r.aa.add(1),yield py(r),r.la.set("Offline"),t||(t=()=>FN(r.localStore)),r.asyncQueue.enqueueRetryable(K(function*(){pt(Ug,"Retrying IndexedDB access"),yield t(),r.aa.delete(1),yield iE(r)}))}),IA.apply(this,arguments)}function eM(r,e){return e().catch(t=>$w(r,t,e))}function my(r){return CA.apply(this,arguments)}function CA(){return CA=K(function*(r){const e=wt(r),t=Lf(e);let n=e.oa.length>0?e.oa[e.oa.length-1].batchId:-1;for(;ax(e);)try{const o=yield $O(e.localStore,n);if(null===o){0===e.oa.length&&t.v_();break}n=o.batchId,lx(e,o)}catch(o){yield $w(e,o)}tM(e)&&nM(e)}),CA.apply(this,arguments)}function ax(r){return Vf(r)&&r.oa.length<10}function lx(r,e){r.oa.push(e);const t=Lf(r);t.b_()&&t.W_&&t.G_(e.mutations)}function tM(r){return Vf(r)&&!Lf(r).w_()&&r.oa.length>0}function nM(r){Lf(r).start()}function ux(r){return AA.apply(this,arguments)}function AA(){return AA=K(function*(r){Lf(r).H_()}),AA.apply(this,arguments)}function cx(r){return SA.apply(this,arguments)}function SA(){return SA=K(function*(r){const e=Lf(r);for(const t of r.oa)e.G_(t.mutations)}),SA.apply(this,arguments)}function dx(r,e,t){return RA.apply(this,arguments)}function RA(){return RA=K(function*(r,e,t){const n=r.oa.shift(),o=Q_.from(n,e,t);yield eM(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield my(r)}),RA.apply(this,arguments)}function hx(r,e){return NA.apply(this,arguments)}function NA(){return NA=K(function*(r,e){var t;e&&Lf(r).W_&&(yield(t=K(function*(o,l){if(Hb(g=l.code)&&g!==je.ABORTED){const d=o.oa.shift();Lf(o).D_(),yield eM(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,l)),yield my(o)}var g}),function n(o,l){return t.apply(this,arguments)})(r,e)),tM(r)&&nM(r)}),NA.apply(this,arguments)}function rM(r,e){return MA.apply(this,arguments)}function MA(){return MA=K(function*(r,e){const t=wt(r);t.asyncQueue.verifyOperationInProgress(),pt(Ug,"RemoteStore received new credentials");const n=Vf(t);t.aa.add(3),yield py(t),n&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield iE(t)}),MA.apply(this,arguments)}function PA(r,e){return OA.apply(this,arguments)}function OA(){return OA=K(function*(r,e){const t=wt(r);e?(t.aa.delete(2),yield iE(t)):e||(t.aa.add(2),yield py(t),t.la.set("Unknown"))}),OA.apply(this,arguments)}function _y(r){return r.Pa||(r.Pa=function(t,n,o){const l=wt(t);return l.Y_(),new JO(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{jo:rx.bind(null,r),Jo:ix.bind(null,r),Zo:sx.bind(null,r),Q_:ox.bind(null,r)}),r.ua.push(function(){var e=K(function*(t){t?(r.Pa.D_(),bA(r)?vA(r):r.la.set("Unknown")):(yield r.Pa.stop(),XN(r))});return function(t){return e.apply(this,arguments)}}())),r.Pa}function Lf(r){return r.Ta||(r.Ta=function(t,n,o){const l=wt(t);return l.Y_(),new ZO(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:ux.bind(null,r),Zo:hx.bind(null,r),z_:cx.bind(null,r),j_:dx.bind(null,r)}),r.ua.push(function(){var e=K(function*(t){t?(r.Ta.D_(),yield my(r)):(yield r.Ta.stop(),r.oa.length>0&&(pt(Ug,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))});return function(t){return e.apply(this,arguments)}}())),r.Ta}class xA{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const d=Date.now()+n,g=new xA(e,t,d,o,l);return g.start(n),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(r,e){if(ni("AsyncQueue",`${e}: ${r}`),$u(r))return new ct(je.UNAVAILABLE,`${e}: ${r}`);throw r}class vy{static emptySet(e){return new vy(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||St.comparator(t.key,n.key):(t,n)=>St.comparator(t.key,n.key),this.keyedMap=wg(),this.sortedSet=new xr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new vy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class iM{constructor(){this.Ia=new xr(St.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):xt(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,n)=>{e.push(n)}),e}}class by{constructor(e,t,n,o,l,d,g,v,I){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=I}static fromInitialDocuments(e,t,n,o,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new by(e,t,vy.emptySet(t),d,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}class fx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class px{constructor(){this.queries=sM(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(t,n){const o=wt(t),l=o.queries;o.queries=sM(),l.forEach((d,g)=>{for(const v of g.Ra)v.onError(n)})}(this,new ct(je.ABORTED,"Firestore shutting down"))}}function sM(){return new Kl(r=>CC(r),G_)}function kA(r,e){return FA.apply(this,arguments)}function FA(){return FA=K(function*(r,e){const t=wt(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.Va()&&e.ma()&&(n=2):(l=new fx,n=e.ma()?0:1);try{switch(n){case 0:l.Aa=yield t.onListen(o,!0);break;case 1:l.Aa=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(d){const g=yy(d,`Initialization of query '${Nf(e.query)}' failed`);return void e.onError(g)}t.queries.set(o,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&BA(t)}),FA.apply(this,arguments)}function VA(r,e){return LA.apply(this,arguments)}function LA(){return LA=K(function*(r,e){const t=wt(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const d=l.Ra.indexOf(e);d>=0&&(l.Ra.splice(d,1),0===l.Ra.length?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}),LA.apply(this,arguments)}function gx(r,e){const t=wt(r);let n=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.Ra)g.pa(o)&&(n=!0);d.Aa=o}}n&&BA(t)}function mx(r,e,t){const n=wt(r),o=n.queries.get(e);if(o)for(const l of o.Ra)l.onError(t);n.queries.delete(e)}function BA(r){r.fa.forEach(e=>{e.next()})}var UA,oM;(oM=UA||(UA={})).ya="default",oM.Cache="cache";class HA{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)3!==o.type&&n.push(o);e=new by(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){return!e.fromCache||!this.ma()||(!this.options.Fa||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ca(e){e=by.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==UA.Cache}}class _x{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}class aM{constructor(e){this.serializer=e}Bs(e){return Zl(this.serializer,e)}Ls(e){return e.metadata.exists?Yb(this.serializer,e.document,!1):Yr.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return zi(e)}}class yx{constructor(e,t,n){this.Oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lM(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const n=Vn.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,n=new aM(this.serializer);for(const o of e)if(o.metadata.queries){const l=n.Bs(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||Rn()).add(l);t.set(d,g)}}return t}complete(){var e=this;return K(function*(){const t=yield function GO(r,e,t,n){return aA.apply(this,arguments)}(e.localStore,new aM(e.serializer),e.documents,e.Oa.id),n=e.Ba(e.documents);for(const o of e.queries)yield zO(e.localStore,o,n.get(o.name));return e.progress.taskState="Success",{progress:e.progress,La:e.collectionGroups,ka:t}})()}}function lM(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class uM{constructor(e){this.key=e}}class cM{constructor(e){this.key=e}}class dM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Rn(),this.mutatedKeys=Rn(),this.Ua=AC(e),this.Ka=new vy(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new iM,o=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,I="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((F,L)=>{const Q=o.get(F),ue=Tg(this.query,L)?L:null,ye=!!Q&&this.mutatedKeys.has(Q.key),Be=!!ue&&(ue.hasLocalMutations||this.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations);let Ke=!1;Q&&ue?Q.data.isEqual(ue.data)?ye!==Be&&(n.track({type:3,doc:ue}),Ke=!0):this.ja(Q,ue)||(n.track({type:2,doc:ue}),Ke=!0,(v&&this.Ua(ue,v)>0||I&&this.Ua(ue,I)<0)&&(g=!0)):!Q&&ue?(n.track({type:0,doc:ue}),Ke=!0):Q&&!ue&&(n.track({type:1,doc:Q}),Ke=!0,(v||I)&&(g=!0)),Ke&&(ue?(d=d.add(ue),l=Be?l.add(F):l.delete(F)):(d=d.delete(F),l=l.delete(F)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const F="F"===this.query.limitType?d.last():d.first();d=d.delete(F.key),l=l.delete(F.key),n.track({type:1,doc:F})}return{Ka:d,za:n,ys:g,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((F,L)=>function(ue,ye){const Be=Ke=>{switch(Ke){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Vt:Ke})}};return Be(ue)-Be(ye)}(F.type,L.type)||this.Ua(F.doc,L.doc)),this.Ha(n),o=null!=o&&o;const g=t&&!o?this.Ja():[],v=0===this.$a.size&&this.current&&!o?1:0,I=v!==this.Qa;return this.Qa=v,0!==d.length||I?{snapshot:new by(this.query,e.Ka,l,d,e.mutatedKeys,0===v,I,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new iM,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Rn(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const t=[];return e.forEach(n=>{this.$a.has(n)||t.push(new cM(n))}),this.$a.forEach(n=>{e.has(n)||t.push(new uM(n))}),t}Xa(e){this.qa=e.Ns,this.$a=Rn();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return by.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const Bf="SyncEngine";class vx{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class bx{constructor(e){this.key=e,this.tu=!1}}class Ex{constructor(e,t,n,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Kl(g=>CC(g),G_),this.iu=new Map,this.su=new Set,this.ou=new xr(St.comparator),this._u=new Map,this.au=new QC,this.uu={},this.cu=new Map,this.lu=Lg.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}function Dx(r,e){return jA.apply(this,arguments)}function jA(){return jA=K(function*(r,e,t=!0){const n=Gw(r);let o;const l=n.ru.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=yield hM(n,e,t,!0),o}),jA.apply(this,arguments)}function Tx(r,e){return $A.apply(this,arguments)}function $A(){return $A=K(function*(r,e){const t=Gw(r);yield hM(t,e,!0,!1)}),$A.apply(this,arguments)}function hM(r,e,t,n){return GA.apply(this,arguments)}function GA(){return GA=K(function*(r,e,t,n){const o=yield hy(r.localStore,zs(e)),l=o.targetId,d=r.sharedClientState.addLocalQueryTarget(l,t);let g;return n&&(g=yield zA(r,e,l,"current"===d,o.resumeToken)),r.isPrimaryClient&&t&&jw(r.remoteStore,o),g}),GA.apply(this,arguments)}function zA(r,e,t,n,o){return WA.apply(this,arguments)}function WA(){return WA=K(function*(r,e,t,n,o){r.Pu=(L,Q,ue)=>{return(ye=K(function*(Ke,vt,Ct,It){let $t=vt.view.Ga(Ct);$t.ys&&($t=yield Vw(Ke.localStore,vt.query,!1).then(({documents:ie})=>vt.view.Ga(ie,$t)));const Ln=It&&It.targetChanges.get(vt.targetId),an=It&&null!=It.targetMismatches.get(vt.targetId),me=vt.view.applyChanges($t,Ke.isPrimaryClient,Ln,an);return rS(Ke,vt.targetId,me.Ya),me.snapshot}),function Be(Ke,vt,Ct,It){return ye.apply(this,arguments)})(r,L,Q,ue);var ye};const l=yield Vw(r.localStore,e,!0),d=new dM(e,l.Ns),g=d.Ga(l.documents),v=Ng.createSynthesizedTargetChangeForCurrentChange(t,n&&"Offline"!==r.onlineState,o),I=d.applyChanges(g,r.isPrimaryClient,v);rS(r,t,I.Ya);const F=new vx(e,t,d);return r.ru.set(e,F),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),I.snapshot}),WA.apply(this,arguments)}function wx(r,e,t){return qA.apply(this,arguments)}function qA(){return qA=K(function*(r,e,t){const n=wt(r),o=n.ru.get(e),l=n.iu.get(o.targetId);if(l.length>1)return n.iu.set(o.targetId,l.filter(d=>!G_(d,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield fy(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),t&&gy(n.remoteStore,o.targetId),Ey(n,o.targetId)}).catch(xc))):(Ey(n,o.targetId),yield fy(n.localStore,o.targetId,!0))}),qA.apply(this,arguments)}function Ix(r,e){return KA.apply(this,arguments)}function KA(){return KA=K(function*(r,e){const t=wt(r),n=t.ru.get(e),o=t.iu.get(n.targetId);t.isPrimaryClient&&1===o.length&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),gy(t.remoteStore,n.targetId))}),KA.apply(this,arguments)}function YA(){return YA=K(function*(r,e,t){const n=pS(r);try{const o=yield function(d,g){const v=wt(d),I=ri.now(),F=g.reduce((ue,ye)=>ue.add(ye.key),Rn());let L,Q;return v.persistence.runTransaction("Locally write mutations","readwrite",ue=>{let ye=Xo(),Be=Rn();return v.Cs.getEntries(ue,F).next(Ke=>{ye=Ke,ye.forEach((vt,Ct)=>{Ct.isValidDocument()||(Be=Be.add(vt))})}).next(()=>v.localDocuments.getOverlayedDocuments(ue,ye)).next(Ke=>{L=Ke;const vt=[];for(const Ct of g){const It=Fb(Ct,L.get(Ct.key).overlayedDocument);null!=It&&vt.push(new Jl(Ct.key,It,tw(It.value.mapValue),Qr.exists(!0)))}return v.mutationQueue.addMutationBatch(ue,I,vt,g)}).next(Ke=>{Q=Ke;const vt=Ke.applyToLocalDocumentSet(L,Be);return v.documentOverlayCache.saveOverlays(ue,Ke.batchId,vt)})}).then(()=>({batchId:Q.batchId,changes:z_(L)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let I=d.uu[d.currentUser.toKey()];I||(I=new xr(dn)),I=I.insert(g,v),d.uu[d.currentUser.toKey()]=I}(n,o.batchId,t),yield Yd(n,o.changes),yield my(n.remoteStore)}catch(o){const l=yy(o,"Failed to persist write");t.reject(l)}}),YA.apply(this,arguments)}function fM(r,e){return QA.apply(this,arguments)}function QA(){return QA=K(function*(r,e){const t=wt(r);try{const n=yield jO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t._u.get(l);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?jt(d.tu,14607):o.removedDocuments.size>0&&(jt(d.tu,42227),d.tu=!1))}),yield Yd(t,n,e)}catch(n){yield xc(n)}}),QA.apply(this,arguments)}function pM(r,e,t){const n=wt(r);if(n.isPrimaryClient&&0===t||!n.isPrimaryClient&&1===t){const o=[];n.ru.forEach((l,d)=>{const g=d.view.ga(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=wt(d);v.onlineState=g;let I=!1;v.queries.forEach((F,L)=>{for(const Q of L.Ra)Q.ga(g)&&(I=!0)}),I&&BA(v)}(n.eventManager,e),o.length&&n.nu.Q_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function Ax(r,e,t){return JA.apply(this,arguments)}function JA(){return JA=K(function*(r,e,t){const n=wt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n._u.get(e),l=o&&o.key;if(l){let d=new xr(St.comparator);d=d.insert(l,Yr.newNoDocument(l,Kt.min()));const g=Rn().add(l),v=new ey(Kt.min(),new Map,new xr(dn),d,g);yield fM(n,v),n.ou=n.ou.remove(l),n._u.delete(e),iS(n)}else yield fy(n.localStore,e,!1).then(()=>Ey(n,e,t)).catch(xc)}),JA.apply(this,arguments)}function Sx(r,e){return ZA.apply(this,arguments)}function ZA(){return ZA=K(function*(r,e){const t=wt(r),n=e.batch.batchId;try{const o=yield HO(t.localStore,e);nS(t,n,null),tS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield Yd(t,o)}catch(o){yield xc(o)}}),ZA.apply(this,arguments)}function Rx(r,e,t){return XA.apply(this,arguments)}function XA(){return XA=K(function*(r,e,t){const n=wt(r);try{const o=yield function(d,g){const v=wt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let F;return v.mutationQueue.lookupMutationBatch(I,g).next(L=>(jt(null!==L,37113),F=L.keys(),v.mutationQueue.removeMutationBatch(I,L))).next(()=>v.mutationQueue.performConsistencyCheck(I)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(I,F,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,F)).next(()=>v.localDocuments.getDocuments(I,F))})}(n.localStore,e);nS(n,e,t),tS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),yield Yd(n,o)}catch(o){yield xc(o)}}),XA.apply(this,arguments)}function eS(){return eS=K(function*(r,e){const t=wt(r);Vf(t.remoteStore)||pt(Bf,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=yield function(d){const g=wt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>g.mutationQueue.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===n)return void e.resolve();const o=t.cu.get(n)||[];o.push(e),t.cu.set(n,o)}catch(n){const o=yy(n,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),eS.apply(this,arguments)}function tS(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function nS(r,e,t){const n=wt(r);let o=n.uu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.uu[n.currentUser.toKey()]=o}}function Ey(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.iu.get(e))r.ru.delete(n),t&&r.nu.Tu(n,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(n=>{r.au.containsKey(n)||gM(r,n)})}function gM(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);null!==t&&(gy(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),iS(r))}function rS(r,e,t){for(const n of t)n instanceof uM?(r.au.addReference(n.key,e),Mx(r,n)):n instanceof cM?(pt(Bf,"Document no longer in limbo: "+n.key),r.au.removeReference(n.key,e),r.au.containsKey(n.key)||gM(r,n.key)):xt(19791,{Iu:n})}function Mx(r,e){const t=e.key,n=t.path.canonicalString();r.ou.get(t)||r.su.has(n)||(pt(Bf,"New document in limbo: "+t),r.su.add(n),iS(r))}function iS(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new St(Vn.fromString(e)),n=r.lu.next();r._u.set(n,new bx(t)),r.ou=r.ou.insert(t,n),jw(r.remoteStore,new zc(zs(Sf(t.path)),n,"TargetPurposeLimboResolution",so.le))}}function Yd(r,e,t){return sS.apply(this,arguments)}function sS(){return sS=K(function*(r,e,t){const n=wt(r),o=[],l=[],d=[];var g;n.ru.isEmpty()||(n.ru.forEach((g,v)=>{d.push(n.Pu(v,e,t).then(I=>{var F;if((I||t)&&n.isPrimaryClient){const L=I?!I.fromCache:null===(F=t?.targetChanges.get(v.targetId))||void 0===F?void 0:F.current;n.sharedClientState.updateQueryState(v.targetId,L?"current":"not-current")}if(I){o.push(I);const L=rA.Ps(v.targetId,I);l.push(L)}}))}),yield Promise.all(d),n.nu.Q_(o),yield(g=K(function*(I,F){const L=wt(I);try{yield L.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>Re.forEach(F,ue=>Re.forEach(ue.ls,ye=>L.persistence.referenceDelegate.addReference(Q,ue.targetId,ye)).next(()=>Re.forEach(ue.hs,ye=>L.persistence.referenceDelegate.removeReference(Q,ue.targetId,ye)))))}catch(Q){if(!$u(Q))throw Q;pt(iA,"Failed to update sequence numbers: "+Q)}for(const Q of F){const ue=Q.targetId;if(!Q.fromCache){const ye=L.Ss.get(ue),Ke=ye.withLastLimboFreeSnapshotVersion(ye.snapshotVersion);L.Ss=L.Ss.insert(ue,Ke)}}}),function v(I,F){return g.apply(this,arguments)})(n.localStore,l))}),sS.apply(this,arguments)}function Px(r,e){return oS.apply(this,arguments)}function oS(){return oS=K(function*(r,e){const t=wt(r);if(!t.currentUser.isEqual(e)){pt(Bf,"User change. New user:",e.toKey());const n=yield kN(t.localStore,e);t.currentUser=e,(l=t).cu.forEach(g=>{g.forEach(v=>{v.reject(new ct(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.cu.clear(),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield Yd(t,n.Ms)}var l}),oS.apply(this,arguments)}function Ox(r,e){const t=wt(r),n=t._u.get(e);if(n&&n.tu)return Rn().add(n.key);{let o=Rn();const l=t.iu.get(e);if(!l)return o;for(const d of l){const g=t.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function xx(r,e){return aS.apply(this,arguments)}function aS(){return aS=K(function*(r,e){const t=wt(r),n=yield Vw(t.localStore,e.query,!0),o=e.view.Xa(n);return t.isPrimaryClient&&rS(t,e.targetId,o.Ya),o}),aS.apply(this,arguments)}function kx(r,e){return lS.apply(this,arguments)}function lS(){return lS=K(function*(r,e){const t=wt(r);return BN(t.localStore,e).then(n=>Yd(t,n))}),lS.apply(this,arguments)}function Fx(r,e,t,n){return uS.apply(this,arguments)}function uS(){return uS=K(function*(r,e,t,n){const o=wt(r),l=yield function(g,v){const I=wt(g),F=wt(I.mutationQueue);return I.persistence.runTransaction("Lookup mutation documents","readonly",L=>F.Hn(L,v).next(Q=>Q?I.localDocuments.getDocuments(L,Q):Re.resolve(null)))}(o.localStore,e);var v;null!==l?("pending"===t?yield my(o.remoteStore):"acknowledged"===t||"rejected"===t?(nS(o,e,n||null),tS(o,e),v=e,wt(wt(o.localStore).mutationQueue).Xn(v)):xt(6720,"Unknown batchState",{Eu:t}),yield Yd(o,l)):pt(Bf,"Cannot apply mutation batch with id: "+e)}),uS.apply(this,arguments)}function cS(){return cS=K(function*(r,e){const t=wt(r);if(Gw(t),pS(t),!0===e&&!0!==t.hu){const n=t.sharedClientState.getAllActiveQueryTargets(),o=yield mM(t,n.toArray());t.hu=!0,yield PA(t.remoteStore,!0);for(const l of o)jw(t.remoteStore,l)}else if(!1===e&&!1!==t.hu){const n=[];let o=Promise.resolve();t.iu.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?n.push(d):o=o.then(()=>(Ey(t,d),fy(t.localStore,d,!0))),gy(t.remoteStore,d)}),yield o,yield mM(t,n),function(d){const g=wt(d);g._u.forEach((v,I)=>{gy(g.remoteStore,I)}),g.au.Kr(),g._u=new Map,g.ou=new xr(St.comparator)}(t),t.hu=!1,yield PA(t.remoteStore,!1)}}),cS.apply(this,arguments)}function mM(r,e,t){return dS.apply(this,arguments)}function dS(){return dS=K(function*(r,e,t){const n=wt(r),o=[],l=[];for(const d of e){let g;const v=n.iu.get(d);if(v&&0!==v.length){g=yield hy(n.localStore,zs(v[0]));for(const I of v){const F=n.ru.get(I),L=yield xx(n,F);L.snapshot&&l.push(L.snapshot)}}else{const I=yield LN(n.localStore,d);g=yield hy(n.localStore,I),yield zA(n,_M(I),d,!1,g.resumeToken)}o.push(g)}return n.nu.Q_(l),o}),dS.apply(this,arguments)}function _M(r){return Ab(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Lx(r){return t=wt(r).localStore,wt(wt(t).persistence).us();var t}function Bx(r,e,t,n){return hS.apply(this,arguments)}function hS(){return hS=K(function*(r,e,t,n){const o=wt(r);if(o.hu)return void pt(Bf,"Ignoring unexpected query state notification.");const l=o.iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield BN(o.localStore,cw(l[0])),g=ey.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,pi.EMPTY_BYTE_STRING);yield Yd(o,d,g);break}case"rejected":yield fy(o.localStore,e,!0),Ey(o,e,n);break;default:xt(64155,t)}}),hS.apply(this,arguments)}function Ux(r,e,t){return fS.apply(this,arguments)}function fS(){return fS=K(function*(r,e,t){const n=Gw(r);if(n.hu){for(const o of e){if(n.iu.has(o)&&n.sharedClientState.isActiveQueryTarget(o)){pt(Bf,"Adding an already active target "+o);continue}const l=yield LN(n.localStore,o),d=yield hy(n.localStore,l);yield zA(n,_M(l),d.targetId,!1,d.resumeToken),jw(n.remoteStore,d)}for(const o of t)n.iu.has(o)&&(yield fy(n.localStore,o,!1).then(()=>{gy(n.remoteStore,o),Ey(n,o)}).catch(xc))}}),fS.apply(this,arguments)}function Gw(r){const e=wt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ox.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,e),e.nu.Q_=gx.bind(null,e.eventManager),e.nu.Tu=mx.bind(null,e.eventManager),e}function pS(r){const e=wt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rx.bind(null,e),e}let zw=(()=>{class r{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var n=this;return K(function*(){n.serializer=rE(t.databaseInfo.databaseId),n.sharedClientState=n.Au(t),n.persistence=n.Ru(t),yield n.persistence.start(),n.localStore=n.Vu(t),n.gcScheduler=n.mu(t,n.localStore),n.indexBackfillerScheduler=n.fu(t,n.localStore)})()}mu(t,n){return null}fu(t,n){return null}Vu(t){return xN(this.persistence,new ON,t.initialUser,this.serializer)}Ru(t){return new JC(xw.Ei,this.serializer)}Au(t){return new WN}terminate(){var t=this;return K(function*(){var n,o;null===(n=t.gcScheduler)||void 0===n||n.stop(),null===(o=t.indexBackfillerScheduler)||void 0===o||o.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return r.provider={build:()=>new r},r})();class gS extends zw{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){return jt(this.persistence.referenceDelegate instanceof kw,46915),new TN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new JC(n=>kw.Ei(n,t),this.serializer)}}class mS extends zw{constructor(e,t,n){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return K(function*(){yield t().call(n,e),yield n.gu.initialize(n,e),yield pS(n.gu.syncEngine),yield my(n.gu.remoteStore),yield n.persistence.Ki(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}Vu(e){return xN(this.persistence,new ON,e.initialUser,this.serializer)}mu(e,t){return new TN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}fu(e,t){const n=new ub(t,this.persistence);return new X1(e.asyncQueue,n)}Ru(e){const t=nA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new tA(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,YN(),Hw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new WN}}class yM extends mS{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return K(function*(){yield t().call(n,e);const o=n.gu.syncEngine;n.sharedClientState instanceof hA&&(n.sharedClientState.syncEngine={yo:Fx.bind(null,o),wo:Bx.bind(null,o),bo:Ux.bind(null,o),us:Lx.bind(null,o),po:kx.bind(null,o)},yield n.sharedClientState.start()),yield n.persistence.Ki(function(){var l=K(function*(d){yield function Vx(r,e){return cS.apply(this,arguments)}(n.gu.syncEngine,d),n.gcScheduler&&(d&&!n.gcScheduler.started?n.gcScheduler.start():d||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(d&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():d||n.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}Au(e){const t=YN();if(!hA.C(t))throw new ct(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=nA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}let Dy=(()=>{class r{initialize(t,n){var o=this;return K(function*(){o.localStore||(o.localStore=t.localStore,o.sharedClientState=t.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!t.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>pM(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,o.syncEngine),yield PA(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(t){return new px}createDatastore(t){const n=rE(t.databaseInfo.databaseId),o=new QO(t.databaseInfo);return new ex(t.authCredentials,t.appCheckCredentials,o,n)}createRemoteStore(t){return o=this.localStore,l=this.datastore,d=t.asyncQueue,g=n=>pM(this.syncEngine,n,0),v=KN.C()?new KN:new WO,new nx(o,l,d,g,v);var o,l,d,g,v}createSyncEngine(t,n){return function(l,d,g,v,I,F,L){const Q=new Ex(l,d,g,v,I,F);return L&&(Q.hu=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){var t=this;return K(function*(){var n,o,l;yield(l=K(function*(g){const v=wt(g);pt(Ug,"RemoteStore shutting down."),v.aa.add(5),yield py(v),v.ca.shutdown(),v.la.set("Unknown")}),function d(g){return l.apply(this,arguments)})(t.remoteStore),null===(n=t.datastore)||void 0===n||n.terminate(),null===(o=t.eventManager)||void 0===o||o.terminate()})()}}return r.provider={build:()=>new r},r})();function vM(r,e=10240){let t=0;return{read:()=>K(function*(){if(t<r.byteLength){const n={value:r.slice(t,t+e),done:!1};return t+=e,n}return{done:!0}})(),cancel:()=>K(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class jx{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new ts,this.buffer=new Uint8Array,this.bu=new TextDecoder("utf-8"),this.Su().then(n=>{n&&n.xa()?this.metadata.resolve(n.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(n?.Ma)}`))},n=>this.metadata.reject(n))}close(){return this.wu.cancel()}getMetadata(){var e=this;return K(function*(){return e.metadata.promise})()}du(){var e=this;return K(function*(){return yield e.getMetadata(),e.Su()})()}Su(){var e=this;return K(function*(){const t=yield e.Du();if(null===t)return null;const n=e.bu.decode(t),o=Number(n);isNaN(o)&&e.vu(`length string (${n}) is not valid number`);const l=yield e.Cu(o);return new _x(JSON.parse(l),t.length+o)})()}Fu(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Du(){var e=this;return K(function*(){for(;e.Fu()<0&&!(yield e.Mu()););if(0===e.buffer.length)return null;const t=e.Fu();t<0&&e.vu("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}Cu(e){var t=this;return K(function*(){for(;t.buffer.length<e;)(yield t.Mu())&&t.vu("Reached the end of bundle when more is expected.");const n=t.bu.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}Mu(){var e=this;return K(function*(){const t=yield e.wu.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class $x{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return K(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new ct(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const n=yield(o=K(function*(d,g){const v=wt(d),I={documents:g.map(ue=>Og(v.serializer,ue))},F=yield v.Wo("BatchGetDocuments",v.serializer.databaseId,Vn.emptyPath(),I,g.length),L=new Map;F.forEach(ue=>{const ye=function Qb(r,e){return"found"in e?function(n,o){jt(!!o.found,43571);const l=Zl(n,o.found.name),d=zi(o.found.updateTime),g=o.found.createTime?zi(o.found.createTime):Kt.min(),v=new Os({mapValue:{fields:o.found.fields}});return Yr.newFoundDocument(l,d,g,v)}(r,e):"missing"in e?function(n,o){jt(!!o.missing,3894),jt(!!o.readTime,22933);const l=Zl(n,o.missing),d=zi(o.readTime);return Yr.newNoDocument(l,d)}(r,e):xt(7234,{result:e})}(v.serializer,ue);L.set(ye.key.toString(),ye)});const Q=[];return g.forEach(ue=>{const ye=L.get(ue.toString());jt(!!ye,55234,{key:ue}),Q.push(ye)}),Q}),function l(d,g){return o.apply(this,arguments)})(t.datastore,e);var o;return n.forEach(o=>t.recordVersion(o)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return K(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var n;e.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,o)=>{const l=St.fromPath(o);e.mutations.push(new Y_(l,e.precondition(l)))}),yield(n=K(function*(l,d){const g=wt(l),v={writes:d.map(I=>Of(g.serializer,I))};yield g.Qo("Commit",g.serializer.databaseId,Vn.emptyPath(),v)}),function o(l,d){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xt(50498,{xu:e.constructor.name});t=Kt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ct(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kt.min())?Qr.exists(!1):Qr.updateTime(t):Qr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kt.min()))throw new ct(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qr.updateTime(t)}return Qr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Gx{constructor(e,t,n,o,l){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=o,this.deferred=l,this.Ou=n.maxAttempts,this.y_=new gA(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){var e=this;this.y_.E_(K(function*(){const t=new $x(e.datastore),n=e.Lu(t);n&&n.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.ku(l)}))}).catch(o=>{e.ku(o)})}))}Lu(e){try{const t=this.updateFunction(e);return!xd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hb(t)}return!1}}const Uf="FirestoreClient";class zx{constructor(e,t,n,o,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=ps.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,function(){var g=K(function*(v){pt(Uf,"Received user=",v.uid),yield d.authCredentialListener(v),d.user=v});return function(v){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(n,g=>(pt(Uf,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(K(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const o=yy(n,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function _S(r,e){return yS.apply(this,arguments)}function yS(){return yS=K(function*(r,e){r.asyncQueue.verifyOperationInProgress(),pt(Uf,"Initializing OfflineComponentProvider");const t=r.configuration;yield e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(function(){var o=K(function*(l){n.isEqual(l)||(yield kN(e.localStore,l),n=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),yS.apply(this,arguments)}function bM(r,e){return vS.apply(this,arguments)}function vS(){return vS=K(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield bS(r);pt(Uf,"Initializing OnlineComponentProvider"),yield e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>rM(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,o)=>rM(e.remoteStore,o)),r._onlineComponents=e}),vS.apply(this,arguments)}function bS(r){return ES.apply(this,arguments)}function ES(){return ES=K(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(Uf,"Using user provided OfflineComponentProvider");try{yield _S(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!("FirebaseError"===(o=t).name?o.code===je.FAILED_PRECONDITION||o.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),yield _S(r,new zw)}}else pt(Uf,"Using default OfflineComponentProvider"),yield _S(r,new gS(void 0));var o;return r._offlineComponents}),ES.apply(this,arguments)}function qw(r){return DS.apply(this,arguments)}function DS(){return DS=K(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(Uf,"Using user provided OnlineComponentProvider"),yield bM(r,r._uninitializedComponentsProvider._online)):(pt(Uf,"Using default OnlineComponentProvider"),yield bM(r,new Dy))),r._onlineComponents}),DS.apply(this,arguments)}function EM(r){return bS(r).then(e=>e.persistence)}function Ty(r){return bS(r).then(e=>e.localStore)}function DM(r){return qw(r).then(e=>e.remoteStore)}function TS(r){return qw(r).then(e=>e.syncEngine)}function wy(r){return wS.apply(this,arguments)}function wS(){return wS=K(function*(r){const e=yield qw(r),t=e.eventManager;return t.onListen=Dx.bind(null,e.syncEngine),t.onUnlisten=wx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ix.bind(null,e.syncEngine),t}),wS.apply(this,arguments)}function wM(r,e,t={}){const n=new ts;return r.asyncQueue.enqueueAndForget(K(function*(){return function(l,d,g,v,I){const F=new Ww({next:Q=>{F.yu(),d.enqueueAndForget(()=>VA(l,L));const ue=Q.docs.has(g);!ue&&Q.fromCache?I.reject(new ct(je.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&Q.fromCache&&v&&"server"===v.source?I.reject(new ct(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(Q)},error:Q=>I.reject(Q)}),L=new HA(Sf(g.path),F,{includeMetadataChanges:!0,Fa:!0});return kA(l,L)}(yield wy(r),r.asyncQueue,e,t,n)})),n.promise}function IM(r,e,t={}){const n=new ts;return r.asyncQueue.enqueueAndForget(K(function*(){return function(l,d,g,v,I){const F=new Ww({next:Q=>{F.yu(),d.enqueueAndForget(()=>VA(l,L)),Q.fromCache&&"server"===v.source?I.reject(new ct(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(Q)},error:Q=>I.reject(Q)}),L=new HA(g,F,{includeMetadataChanges:!0,Fa:!0});return kA(l,L)}(yield wy(r),r.asyncQueue,e,t,n)})),n.promise}function CM(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const AM=new Map;function IS(r,e,t){if(!t)throw new ct(je.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function SM(r,e,t,n){if(!0===e&&!0===n)throw new ct(je.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function RM(r){if(!St.isDocumentKey(r))throw new ct(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function NM(r){if(St.isDocumentKey(r))throw new ct(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Kw(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(n=r).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof r?"a function":xt(12329,{type:typeof r})}function Jn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ct(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kw(r);throw new ct(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function MM(r,e){if(e<=0)throw new ct(je.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const PM="firestore.googleapis.com";class xM{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PM,this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=CM(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new ct(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ct(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ct(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sE{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xM(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new wT;switch(n.type){case"firstParty":return new Q1(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ct(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return K(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=AM.get(t);n&&(pt("ComponentProvider","Removing Datastore"),AM.delete(t),n.terminate())}(this),Promise.resolve()}}class ao{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class gi{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}}class qc extends ao{constructor(e,t,n){super(e,t,Sf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new St(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function FM(r,e,...t){if(r=T(r),IS("collection","path",e),r instanceof sE){const n=Vn.fromString(e,...t);return NM(n),new qc(r,null,n)}{if(!(r instanceof gi||r instanceof qc))throw new ct(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Vn.fromString(e,...t));return NM(n),new qc(r.firestore,null,n)}}function Yw(r,e,...t){if(r=T(r),1===arguments.length&&(e=sg.newId()),IS("doc","path",e),r instanceof sE){const n=Vn.fromString(e,...t);return RM(n),new gi(r,null,new St(n))}{if(!(r instanceof gi||r instanceof qc))throw new ct(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Vn.fromString(e,...t));return RM(n),new gi(r.firestore,r instanceof qc?r.converter:null,new St(n))}}function VM(r,e){return r=T(r),e=T(e),(r instanceof gi||r instanceof qc)&&(e instanceof gi||e instanceof qc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function CS(r,e){return r=T(r),e=T(e),r instanceof ao&&e instanceof ao&&r.firestore===e.firestore&&G_(r._query,e._query)&&r.converter===e.converter}const LM="AsyncQueue";class BM{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new gA(this,"async_queue_retry"),this.ju=()=>{const n=Hw();n&&pt(LM,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const t=Hw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Hw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ts;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){var e=this;return K(function*(){if(0!==e.Qu.length){try{yield e.Qu[0](),e.Qu.shift(),e.y_.reset()}catch(t){if(!$u(t))throw t;pt(LM,"Operation failed with retryable error: "+t)}e.Qu.length>0&&e.y_.E_(()=>e.Zu())}})()}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,ni("INTERNAL UNHANDLED ERROR: ",UM(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=xA.createAndSchedule(this,e,t,n,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&xt(47125,{ec:UM(this.Ku)})}verifyOperationInProgress(){}tc(){var e=this;return K(function*(){let t;do{t=e.Hu,yield t}while(t!==e.Hu)})()}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function UM(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+"\n"+r.stack),e}function AS(r){return function(t,n){if("object"!=typeof t||null===t)return!1;const o=t;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(r)}class ik{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jr extends sE{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new BM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){var e=this;return K(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new BM(t),e._firestoreClient=void 0,yield t}})()}}function Ii(r){if(r._terminated)throw new ct(je.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HM(r),r._firestoreClient}function HM(r){var e,t,n;const o=r._freezeSettings(),l=(v=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new oo(r._databaseId,v,r._persistenceKey,(F=o).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,CM(F.experimentalLongPollingOptions),F.useFetchStreams,F.isUsingEmulator));var v,F;r._componentsProvider||(null===(t=o.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(n=o.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zx(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(g){const v=g?._online.build();return{_offline:g?._offline.build(v),_online:v}}(r._componentsProvider))}function SS(){return SS=K(function*(r){Co("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();jM(r,Dy.provider,{build:t=>new yM(t,e.cacheSizeBytes)})}),SS.apply(this,arguments)}function jM(r,e,t){if((r=Jn(r,Jr))._firestoreClient||r._terminated)throw new ct(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new ct(je.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},HM(r)}class Kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kc(pi.fromBase64String(e))}catch(t){throw new ct(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kc(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ct(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hg{constructor(e){this._methodName=e}}class Qw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ct(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ct(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}class Jw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0}(this._values,e._values)}}const gk=/^__.*__$/;class mk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class $M{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GM(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{oc:r})}}class Zw{constructor(e,t,n,o,l,d){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,void 0===l&&this._c(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Zw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ac({path:n,cc:!1});return o.lc(e),o}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ac({path:n,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return tI(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(GM(this.oc)&&gk.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class _k{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||rE(e)}dc(e,t,n,o=!1){return new Zw({oc:e,methodName:t,Ec:n,path:qr.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(r){const e=r._freezeSettings(),t=rE(r._databaseId);return new _k(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Xw(r,e,t,n,o,l={}){const d=r.dc(l.merge||l.mergeFields?2:0,e,t,o);kS("Data must be an object, but it was:",d,n);const g=qM(n,d);let v,I;if(l.merge)v=new Ao(d.fieldMask),I=d.fieldTransforms;else if(l.mergeFields){const F=[];for(const L of l.mergeFields){const Q=lE(e,L,t);if(!d.contains(Q))throw new ct(je.INVALID_ARGUMENT,`Field '${Q}' is specified in your field mask but missing from your input data.`);YM(F,Q)||F.push(Q)}v=new Ao(F),I=d.fieldTransforms.filter(L=>v.covers(L.field))}else v=null,I=d.fieldTransforms;return new mk(new Os(g),v,I)}class aE extends Hg{_toFieldTransform(e){if(2!==e.oc)throw e.Tc(1===e.oc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aE}}function zM(r,e,t){return new Zw({oc:3,Ec:e.settings.Ec,methodName:r._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RS extends Hg{_toFieldTransform(e){return new Ag(e.path,new Gc)}isEqual(e){return e instanceof RS}}class NS extends Hg{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zM(this,e,!0),n=this.Ac.map(l=>$g(l,t)),o=new So(n);return new Ag(e.path,o)}isEqual(e){return e instanceof NS&&ga(this.Ac,e.Ac)}}class MS extends Hg{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zM(this,e,!0),n=this.Ac.map(l=>$g(l,t)),o=new qu(n);return new Ag(e.path,o)}isEqual(e){return e instanceof MS&&ga(this.Ac,e.Ac)}}class PS extends Hg{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new Mf(e.serializer,Ob(e.serializer,this.Rc));return new Ag(e.path,t)}isEqual(e){return e instanceof PS&&this.Rc===e.Rc}}function OS(r,e,t,n){const o=r.dc(1,e,t);kS("Data must be an object, but it was:",o,n);const l=[],d=Os.empty();Bc(n,(v,I)=>{const F=eI(e,v,t);I=T(I);const L=o.hc(F);if(I instanceof aE)l.push(F);else{const Q=$g(I,L);null!=Q&&(l.push(F),d.set(F,Q))}});const g=new Ao(l);return new $M(d,g,o.fieldTransforms)}function xS(r,e,t,n,o,l){const d=r.dc(1,e,t),g=[lE(e,n,t)],v=[o];if(l.length%2!=0)throw new ct(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Q=0;Q<l.length;Q+=2)g.push(lE(e,l[Q])),v.push(l[Q+1]);const I=[],F=Os.empty();for(let Q=g.length-1;Q>=0;--Q)if(!YM(I,g[Q])){const ue=g[Q];let ye=v[Q];ye=T(ye);const Be=d.hc(ue);if(ye instanceof aE)I.push(ue);else{const Ke=$g(ye,Be);null!=Ke&&(I.push(ue),F.set(ue,Ke))}}const L=new Ao(I);return new $M(F,L,d.fieldTransforms)}function WM(r,e,t,n=!1){return $g(t,r.dc(n?4:3,e))}function $g(r,e){if(KM(r=T(r)))return kS("Unsupported field value:",e,r),qM(r,e);if(r instanceof Hg)return function(n,o){if(!GM(o.oc))throw o.Tc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&4!==e.oc)throw e.Tc("Nested arrays are not supported");return function(n,o){const l=[];let d=0;for(const g of n){let v=$g(g,o.Pc(d));null==v&&(v={nullValue:"NULL_VALUE"}),l.push(v),d++}return{arrayValue:{values:l}}}(r,e)}return function(n,o){if(null===(n=T(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Ob(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=ri.fromDate(n);return{timestampValue:Pg(o.serializer,l)}}if(n instanceof ri){const l=new ri(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pg(o.serializer,l)}}if(n instanceof Qw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Kc)return{bytesValue:UC(o.serializer,n._byteString)};if(n instanceof gi){const l=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(l))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ny(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Jw)return g=o,{mapValue:{fields:{[bb]:{stringValue:B_},[jd]:{arrayValue:{values:n.toArray().map(I=>{if("number"!=typeof I)throw g.Tc("VectorValues must only contain numeric values.");return q_(g.serializer,I)})}}}}};var g;throw o.Tc(`Unsupported field value: ${Kw(n)}`)}(r,e)}function qM(r,e){const t={};return _C(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bc(r,(n,o)=>{const l=$g(o,e.uc(n));null!=l&&(t[n]=l)}),{mapValue:{fields:t}}}function KM(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ri||r instanceof Qw||r instanceof Kc||r instanceof gi||r instanceof Hg||r instanceof Jw)}function kS(r,e,t){if(!KM(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const n=Kw(t);throw e.Tc("an object"===n?r+" a custom object":r+" "+n)}var o}function lE(r,e,t){if((e=T(e))instanceof Qd)return e._internalPath;if("string"==typeof e)return eI(r,e);throw tI("Field path arguments must be of type string or ",r,!1,void 0,t)}const yk=new RegExp("[~\\*/\\[\\]]");function eI(r,e,t){if(e.search(yk)>=0)throw tI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Qd(...e.split("."))._internalPath}catch{throw tI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tI(r,e,t,n,o){const l=n&&!n.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${n}`),d&&(v+=` in document ${o}`),v+=")"),new ct(je.INVALID_ARGUMENT,g+r+v)}function YM(r,e){return r.some(t=>t.isEqual(e))}class uE{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vk extends uE{data(){return super.data()}}function nI(r,e){return"string"==typeof e?eI(r,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function QM(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ct(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FS{}class cE extends FS{}function Hf(r,e,...t){let n=[];e instanceof FS&&n.push(e),n=n.concat(t),function(l){const d=l.filter(v=>v instanceof Iy).length,g=l.filter(v=>v instanceof dE).length;if(d>1||d>0&&g>0)throw new ct(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)r=o._apply(r);return r}class dE extends cE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dE(e,t,n)}_apply(e){const t=this._parse(e);return eP(e._query,t),new ao(e.firestore,e.converter,Rb(e._query,t))}_parse(e){const t=jg(e.firestore);return function(l,d,g,v,I,F,L){let Q;if(I.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new ct(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${F}' queries on documentId().`);if("in"===F||"not-in"===F){XM(L,F);const ye=[];for(const Be of L)ye.push(ZM(v,l,Be));Q={arrayValue:{values:ye}}}else Q=ZM(v,l,L)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||XM(L,F),Q=WM(g,"where",L,"in"===F||"not-in"===F);return Qn.create(I,F,Q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iy extends FS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return 1===t.length?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let d=o;const g=l.getFlattenedFilters();for(const v of g)eP(d,v),d=Rb(d,v)}(e._query,t),new ao(e.firestore,e.converter,Rb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VS extends cE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VS(e,t)}_apply(e){const t=function(o,l,d){if(null!==o.startAt)throw new ct(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new ct(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tf(l,d)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new rl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class rI extends cE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new rI(e,t,n)}_apply(e){return new ao(e.firestore,e.converter,Nb(e._query,this._limit,this._limitType))}}class iI extends cE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new iI(e,t,n)}_apply(e){const t=JM(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(l=t,new rl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class sI extends cE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sI(e,t,n)}_apply(e){const t=JM(e,this.type,this._docOrFields,this._inclusive);return new ao(e.firestore,e.converter,(l=t,new rl((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function JM(r,e,t,n){if(t[0]=T(t[0]),t[0]instanceof uE)return function(l,d,g,v,I){if(!v)throw new ct(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const F=[];for(const L of Rf(l))if(L.field.isKeyField())F.push($c(d,v.key));else{const Q=v.data.field(L.field);if(L_(Q))throw new ct(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const ue=L.field.canonicalString();throw new ct(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ue}' (used as the orderBy) does not exist.`)}F.push(Q)}return new Wu(F,I)}(r._query,r.firestore._databaseId,e,t[0]._document,n);{const o=jg(r.firestore);return function(d,g,v,I,F,L){const Q=d.explicitOrderBy;if(F.length>Q.length)throw new ct(je.INVALID_ARGUMENT,`Too many arguments provided to ${I}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ue=[];for(let ye=0;ye<F.length;ye++){const Be=F[ye];if(Q[ye].field.isKeyField()){if("string"!=typeof Be)throw new ct(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${I}(), but got a ${typeof Be}`);if(!lw(d)&&-1!==Be.indexOf("/"))throw new ct(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${I}() must be a plain document ID, but '${Be}' contains a slash.`);const Ke=d.path.child(Vn.fromString(Be));if(!St.isDocumentKey(Ke))throw new ct(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${I}() must result in a valid document path, but '${Ke}' is not because it contains an odd number of segments.`);const vt=new St(Ke);ue.push($c(g,vt))}else{const Ke=WM(v,I,Be);ue.push(Ke)}}return new Wu(ue,L)}(r._query,r.firestore._databaseId,o,e,t,n)}}function ZM(r,e,t){if("string"==typeof(t=T(t))){if(""===t)throw new ct(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&-1!==t.indexOf("/"))throw new ct(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Vn.fromString(t));if(!St.isDocumentKey(n))throw new ct(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $c(r,new St(n))}if(t instanceof gi)return $c(r,t._key);throw new ct(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kw(t)}.`)}function XM(r,e){if(!Array.isArray(r)||0===r.length)throw new ct(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eP(r,e){const t=function(o,l){for(const d of o)for(const g of d.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ct(je.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class LS{convertValue(e,t="none"){switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Bc(e,(o,l)=>{n[o]=this.convertValue(l,t)}),n}convertVectorValue(e){var t,n,o;const l=null===(o=null===(n=null===(t=e.fields)||void 0===t?void 0:t[jd].arrayValue)||void 0===n?void 0:n.values)||void 0===o?void 0:o.map(d=>Kr(d.doubleValue));return new Jw(l)}convertGeoPoint(e){return new Qw(Kr(e.latitude),Kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=mg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bf(e));default:return null}}convertTimestamp(e){const t=Gl(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Vn.fromString(e);jt(GC(n),9688,{name:e});const o=new Uc(n.get(1),n.get(3)),l=new St(n.popFirst(5));return o.isEqual(t)||ni(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function oI(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class Sk extends LS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}class Gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jd extends uE{constructor(e,t,n,o,l,d){super(e,t,n,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(nI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class hE extends Jd{data(e={}){return super.data(e)}}class jf{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gg(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hE(this._firestore,this._userDataWriter,n.key,n,new Gg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ct(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new hE(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Gg(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const v=new hE(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Gg(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let I=-1,F=-1;return 0!==g.type&&(I=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),F=d.indexOf(g.doc.key)),{type:Nk(g.type),doc:v,oldIndex:I,newIndex:F}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:r})}}function nP(r,e){return r instanceof Jd&&e instanceof Jd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof jf&&e instanceof jf&&r._firestore===e._firestore&&CS(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class $f extends LS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}function rP(r,e,t){r=Jn(r,gi);const n=Jn(r.firestore,Jr),o=oI(r.converter,e,t);return Cy(n,[Xw(jg(n),"setDoc",r._key,o,null!==r.converter,t).toMutation(r._key,Qr.none())])}function iP(r,e,t,...n){r=Jn(r,gi);const o=Jn(r.firestore,Jr),l=jg(o);let d;return d="string"==typeof(e=T(e))||e instanceof Qd?xS(l,"updateDoc",r._key,e,t,n):OS(l,"updateDoc",r._key,e),Cy(o,[d.toMutation(r._key,Qr.exists(!0))])}function sP(r,...e){var t,n,o;r=T(r);let l={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof e[d]||AS(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(AS(e[d])){const L=e[d];e[d]=null===(t=L.next)||void 0===t?void 0:t.bind(L),e[d+1]=null===(n=L.error)||void 0===n?void 0:n.bind(L),e[d+2]=null===(o=L.complete)||void 0===o?void 0:o.bind(L)}let v,I,F;if(r instanceof gi)I=Jn(r.firestore,Jr),F=Sf(r._key.path),v={next:L=>{e[d]&&e[d](BS(I,r,L))},error:e[d+1],complete:e[d+2]};else{const L=Jn(r,ao);I=Jn(L.firestore,Jr),F=L._query;const Q=new $f(I);v={next:ue=>{e[d]&&e[d](new jf(I,Q,L,ue))},error:e[d+1],complete:e[d+2]},QM(r._query)}return function(Q,ue,ye,Be){const Ke=new Ww(Be),vt=new HA(ue,Ke,ye);return Q.asyncQueue.enqueueAndForget(K(function*(){return kA(yield wy(Q),vt)})),()=>{Ke.yu(),Q.asyncQueue.enqueueAndForget(K(function*(){return VA(yield wy(Q),vt)}))}}(Ii(I),F,g,v)}function Cy(r,e){return function(n,o){const l=new ts;return n.asyncQueue.enqueueAndForget(K(function*(){return function Cx(r,e,t){return YA.apply(this,arguments)}(yield TS(n),o,l)})),l.promise}(Ii(r),e)}function BS(r,e,t){const n=t.docs.get(e._key),o=new $f(r);return new Jd(r,o,e._key,n,new Gg(t.hasPendingWrites,t.fromCache),e.converter)}const Kk={maxAttempts:5};class oP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jg(e)}set(e,t,n){this._verifyNotCommitted();const o=Gf(e,this._firestore),l=oI(o.converter,t,n),d=Xw(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,n);return this._mutations.push(d.toMutation(o._key,Qr.none())),this}update(e,t,n,...o){this._verifyNotCommitted();const l=Gf(e,this._firestore);let d;return d="string"==typeof(t=T(t))||t instanceof Qd?xS(this._dataReader,"WriteBatch.update",l._key,t,n,o):OS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gf(e,this._firestore);return this._mutations=this._mutations.concat(new Ku(t._key,Qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gf(r,e){if((r=T(r)).firestore!==e)throw new ct(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Qk extends class Yk{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jg(e)}get(e){const t=Gf(e,this._firestore),n=new Sk(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return xt(24041);const l=o[0];if(l.isFoundDocument())return new uE(this._firestore,n,l.key,l,t.converter);if(l.isNoDocument())return new uE(this._firestore,n,t._key,null,t.converter);throw xt(18433,{doc:l})})}set(e,t,n){const o=Gf(e,this._firestore),l=oI(o.converter,t,n),d=Xw(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,n);return this._transaction.set(o._key,d),this}update(e,t,n,...o){const l=Gf(e,this._firestore);let d;return d="string"==typeof(t=T(t))||t instanceof Qd?xS(this._dataReader,"Transaction.update",l._key,t,n,o):OS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Gf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gf(e,this._firestore),n=new $f(this._firestore);return super.get(e).then(o=>new Jd(this._firestore,n,t._key,o._document,new Gg(!1,!1),t.converter))}}function HS(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ct("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function cP(){if(typeof Uint8Array>"u")throw new ct("unimplemented","Uint8Arrays are not available in this environment.")}function dP(){if(!function yC(){return typeof atob<"u"}())throw new ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){lf=Ea,Ga(new z("firestore",(n,{instanceIdentifier:o,options:l})=>{const d=n.getProvider("app").getImmediate(),g=new Jr(new IT(n.getProvider("auth-internal")),new WR(d,n.getProvider("app-check-internal")),function(I,F){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new ct(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(I.options.projectId,F)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),js(tb,"4.7.12",e),js(tb,"4.7.12","esm2017")}();class fE{constructor(e){this._delegate=e}static fromBase64String(e){return dP(),new fE(Kc.fromBase64String(e))}static fromUint8Array(e){return cP(),new fE(Kc.fromUint8Array(e))}toBase64(){return dP(),this._delegate.toBase64()}toUint8Array(){return cP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jS(r){return function oF(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(r,["next","error","complete"])}class aF{enableIndexedDbPersistence(e,t){return function ok(r,e){Co("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return jM(r,Dy.provider,{build:n=>new mS(n,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ak(r){return SS.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function lk(r){if(r._initialized&&!r._terminated)throw new ct(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ts;return r._queue.enqueueAndForgetEvenWhileRestricted(K(function*(){try{yield(t=K(function*(o){if(!jl.C())return Promise.resolve();const l=o+"main";yield jl.delete(l)}),function n(o){return t.apply(this,arguments)})(nA(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hP{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function kM(r,e,t,n={}){var o;r=Jn(r,sE);const l=D(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${t}`;l&&N(`https://${v}`),d.host!==PM&&d.host!==v&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const I=Object.assign(Object.assign({},d),{host:v,ssl:l,emulatorOptions:n});if(!ga(I,g)&&(r._setSettings(I),n.mockUserToken)){let F,L;if("string"==typeof n.mockUserToken)F=n.mockUserToken,L=ps.MOCK_USER;else{F=function Cs(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(d)),""].join(".")}(n.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const Q=n.mockUserToken.sub||n.mockUserToken.user_id;if(!Q)throw new ct(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new ps(Q)}r._authCredentials=new K1(new nb(F,L))}}(this._delegate,e,t,n)}enableNetwork(){return function ck(r){return function Wx(r){return r.asyncQueue.enqueue(K(function*(){const e=yield EM(r),t=yield DM(r);return e.setNetworkEnabled(!0),function(o){const l=wt(o);return l.aa.delete(0),iE(l)}(t)}))}(Ii(r=Jn(r,Jr)))}(this._delegate)}disableNetwork(){return function dk(r){return function qx(r){return r.asyncQueue.enqueue(K(function*(){const e=yield EM(r),t=yield DM(r);return e.setNetworkEnabled(!1),(n=K(function*(l){const d=wt(l);d.aa.add(0),yield py(d),d.la.set("Offline")}),function o(l){return n.apply(this,arguments)})(t);var n}))}(Ii(r=Jn(r,Jr)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,SM("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function uk(r){return function(t){const n=new ts;return t.asyncQueue.enqueueAndForget(K(function*(){return function Nx(r,e){return eS.apply(this,arguments)}(yield TS(t),n)})),n.promise}(Ii(r=Jn(r,Jr)))}(this._delegate)}onSnapshotsInSync(e){return function Bk(r,e){return function Jx(r,e){const t=new Ww(e);return r.asyncQueue.enqueueAndForget(K(function*(){return o=yield wy(r),l=t,wt(o).fa.add(l),void l.next();var o,l})),()=>{t.yu(),r.asyncQueue.enqueueAndForget(K(function*(){return o=yield wy(r),l=t,void wt(o).fa.delete(l);var o,l}))}}(Ii(r=Jn(r,Jr)),AS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ay(this,FM(this._delegate,e))}catch(t){throw ta(t,"collection()","Firestore.collection()")}}doc(e){try{return new eu(this,Yw(this._delegate,e))}catch(t){throw ta(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new na(this,function rk(r,e){if(r=Jn(r,sE),IS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ct(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(r,null,(n=e,new rl(Vn.emptyPath(),n)));var n}(this._delegate,e))}catch(t){throw ta(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Jk(r,e,t){r=Jn(r,Jr);const n=Object.assign(Object.assign({},Kk),t);return function(l){if(l.maxAttempts<1)throw new ct(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(l,d,g){const v=new ts;return l.asyncQueue.enqueueAndForget(K(function*(){const I=yield function TM(r){return qw(r).then(e=>e.datastore)}(l);new Gx(l.asyncQueue,I,g,d,v).Nu()})),v.promise}(Ii(r),o=>e(new Qk(r,o)),n)}(this._delegate,t=>e(new fP(this,t)))}batch(){return Ii(this._delegate),new pP(new oP(this._delegate,e=>Cy(this._delegate,e)))}loadBundle(e){return function hk(r,e){const t=Ii(r=Jn(r,Jr)),n=new ik;return function Zx(r,e,t,n){const o=function(d,g){let v;return v="string"==typeof d?E_().encode(d):d,F=function(F,L){if(F instanceof Uint8Array)return vM(F,L);if(F instanceof ArrayBuffer)return vM(new Uint8Array(F),L);if(F instanceof ReadableStream)return F.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new jx(F,g);var F}(t,rE(e));r.asyncQueue.enqueueAndForget(K(function*(){!function Hx(r,e,t){const n=wt(r);var o;(o=K(function*(d,g,v){try{const I=yield g.getMetadata();if(yield function(ye,Be){const Ke=wt(ye),vt=zi(Be.createTime);return Ke.persistence.runTransaction("hasNewerBundle","readonly",Ct=>Ke.ci.getBundleMetadata(Ct,Be.id)).then(Ct=>!!Ct&&Ct.createTime.compareTo(vt)>=0)}(d.localStore,I))return yield g.close(),v._completeWith({taskState:"Success",documentsLoaded:(ye=I).totalDocuments,bytesLoaded:ye.totalBytes,totalDocuments:ye.totalDocuments,totalBytes:ye.totalBytes}),Promise.resolve(new Set);v._updateProgress(lM(I));const F=new yx(I,d.localStore,g.serializer);let L=yield g.du();for(;L;){const ue=yield F.Na(L);ue&&v._updateProgress(ue),L=yield g.du()}const Q=yield F.complete();return yield Yd(d,Q.ka,void 0),yield function(ye,Be){const Ke=wt(ye);return Ke.persistence.runTransaction("Save bundle","readwrite",vt=>Ke.ci.saveBundleMetadata(vt,Be))}(d.localStore,I),v._completeWith(Q.progress),Promise.resolve(Q.La)}catch(I){return Co(Bf,`Loading bundle failed with ${I}`),v._failWith(I),Promise.resolve(new Set)}var ye}),function l(d,g,v){return o.apply(this,arguments)})(n,e,t).then(o=>{n.sharedClientState.notifyBundleLoaded(o)})}(yield TS(r),o,n)}))}(t,r._databaseId,e,n),n}(this._delegate,e)}namedQuery(e){return function fk(r,e){return function Xx(r,e){return r.asyncQueue.enqueue(K(function*(){return function(n,o){const l=wt(n);return l.persistence.runTransaction("Get named query","readonly",d=>l.ci.getNamedQuery(d,o))}(yield Ty(r),e)}))}(Ii(r=Jn(r,Jr)),e).then(t=>t?new ao(r,null,t.query):null)}(this._delegate,e).then(t=>t?new na(this,t):null)}}class lI extends LS{constructor(e){super(),this.firestore=e}convertBytes(e){return new fE(new Kc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return eu.forKey(t,this.firestore,null)}}class fP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lI(e)}get(e){const t=Wg(e);return this._delegate.get(t).then(n=>new pE(this._firestore,new Jd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,t.converter)))}set(e,t,n){const o=Wg(e);return n?(HS("Transaction.set",n),this._delegate.set(o,t,n)):this._delegate.set(o,t),this}update(e,t,n,...o){const l=Wg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,n,...o),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}}class pP{constructor(e){this._delegate=e}set(e,t,n){const o=Wg(e);return n?(HS("WriteBatch.set",n),this._delegate.set(o,t,n)):this._delegate.set(o,t),this}update(e,t,n,...o){const l=Wg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,n,...o),this}delete(e){const t=Wg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new hE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gE(this._firestore,n),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=zg.INSTANCES;let o=n.get(e);o||(o=new WeakMap,n.set(e,o));let l=o.get(t);return l||(l=new zg(e,new lI(e),t),o.set(t,l)),l}}zg.INSTANCES=new WeakMap;class eu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lI(e)}static forPath(e,t,n){if(e.length%2!=0)throw new ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new eu(t,new gi(t._delegate,n,new St(e)))}static forKey(e,t,n){return new eu(t,new gi(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ay(this.firestore,FM(this._delegate,e))}catch(t){throw ta(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=T(e))instanceof gi&&VM(this._delegate,e)}set(e,t){t=HS("DocumentReference.set",t);try{return t?rP(this._delegate,e,t):rP(this._delegate,e)}catch(n){throw ta(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?iP(this._delegate,e):iP(this._delegate,e,t,...n)}catch(o){throw ta(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Vk(r){return Cy(Jn(r.firestore,Jr),[new Ku(r._key,Qr.none())])}(this._delegate)}onSnapshot(...e){const t=gP(e),n=mP(e,o=>new pE(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return sP(this._delegate,t,n)}get(e){let t;return t="cache"===e?.source?function Pk(r){r=Jn(r,gi);const e=Jn(r.firestore,Jr),t=Ii(e),n=new $f(e);return function Kx(r,e){const t=new ts;return r.asyncQueue.enqueueAndForget(K(function*(){return(n=K(function*(l,d,g){try{const v=yield function(F,L){const Q=wt(F);return Q.persistence.runTransaction("read document","readonly",ue=>Q.localDocuments.getDocument(ue,L))}(l,d);v.isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new ct(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const I=yy(v,`Failed to get document '${d} from cache`);g.reject(I)}}),function o(l,d,g){return n.apply(this,arguments)})(yield Ty(r),e,t);var n})),t.promise}(t,r._key).then(o=>new Jd(e,n,r._key,o,new Gg(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function Ok(r){r=Jn(r,gi);const e=Jn(r.firestore,Jr);return wM(Ii(e),r._key,{source:"server"}).then(t=>BS(e,r,t))}(this._delegate):function Mk(r){r=Jn(r,gi);const e=Jn(r.firestore,Jr);return wM(Ii(e),r._key).then(t=>BS(e,r,t))}(this._delegate),t.then(n=>new pE(this.firestore,new Jd(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(e){return new eu(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function ta(r,e,t){return r.message=r.message.replace(e,t),r}function gP(r){for(const e of r)if("object"==typeof e&&!jS(e))return e;return{}}function mP(r,e){var t,n;let o;return o=jS(r[0])?r[0]:jS(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(n=o.complete)||void 0===n?void 0:n.bind(o)}}class pE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new eu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return nP(this._delegate,e._delegate)}}class gE extends pE{data(e){const t=this._delegate.data(e);return this._delegate._converter||function ig(r,e){r||xt(57014,e)}(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lI(e)}where(e,t,n){try{return new na(this.firestore,Hf(this._delegate,function bk(r,e,t){const n=e,o=nI("where",r);return dE._create(o,n,t)}(e,t,n)))}catch(o){throw ta(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new na(this.firestore,Hf(this._delegate,function Ek(r,e="asc"){const t=e,n=nI("orderBy",r);return VS._create(n,t)}(e,t)))}catch(n){throw ta(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new na(this.firestore,Hf(this._delegate,function Dk(r){return MM("limit",r),rI._create("limit",r,"F")}(e)))}catch(t){throw ta(t,"limit()","Query.limit()")}}limitToLast(e){try{return new na(this.firestore,Hf(this._delegate,function Tk(r){return MM("limitToLast",r),rI._create("limitToLast",r,"L")}(e)))}catch(t){throw ta(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new na(this.firestore,Hf(this._delegate,function wk(...r){return iI._create("startAt",r,!0)}(...e)))}catch(t){throw ta(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new na(this.firestore,Hf(this._delegate,function Ik(...r){return iI._create("startAfter",r,!1)}(...e)))}catch(t){throw ta(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new na(this.firestore,Hf(this._delegate,function Ck(...r){return sI._create("endBefore",r,!1)}(...e)))}catch(t){throw ta(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new na(this.firestore,Hf(this._delegate,function Ak(...r){return sI._create("endAt",r,!0)}(...e)))}catch(t){throw ta(t,"endAt()","Query.endAt()")}}isEqual(e){return CS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function kk(r){r=Jn(r,ao);const e=Jn(r.firestore,Jr),t=Ii(e),n=new $f(e);return function Yx(r,e){const t=new ts;return r.asyncQueue.enqueueAndForget(K(function*(){return(n=K(function*(l,d,g){try{const v=yield Vw(l,d,!0),I=new dM(d,v.Ns),F=I.Ga(v.documents),L=I.applyChanges(F,!1);g.resolve(L.snapshot)}catch(v){const I=yy(v,`Failed to execute query '${d} against cache`);g.reject(I)}}),function o(l,d,g){return n.apply(this,arguments)})(yield Ty(r),e,t);var n})),t.promise}(t,r._query).then(o=>new jf(e,n,r,o))}(this._delegate):"server"===e?.source?function Fk(r){r=Jn(r,ao);const e=Jn(r.firestore,Jr),t=Ii(e),n=new $f(e);return IM(t,r._query,{source:"server"}).then(o=>new jf(e,n,r,o))}(this._delegate):function xk(r){r=Jn(r,ao);const e=Jn(r.firestore,Jr),t=Ii(e),n=new $f(e);return QM(r._query),IM(t,r._query).then(o=>new jf(e,n,r,o))}(this._delegate),t.then(n=>new $S(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...e){const t=gP(e),n=mP(e,o=>new $S(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return sP(this._delegate,t,n)}withConverter(e){return new na(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}class uF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $S{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new uF(this._firestore,t))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new gE(this._firestore,n))})}isEqual(e){return nP(this._delegate,e._delegate)}}class Ay extends na{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new eu(this.firestore,e):null}doc(e){try{return new eu(this.firestore,void 0===e?Yw(this._delegate):Yw(this._delegate,e))}catch(t){throw ta(t,"doc()","CollectionReference.doc()")}}add(e){return function Lk(r,e){const t=Jn(r.firestore,Jr),n=Yw(r),o=oI(r.converter,e);return Cy(t,[Xw(jg(r.firestore),"addDoc",n._key,o,null!==r.converter,{}).toMutation(n._key,Qr.exists(!1))]).then(()=>n)}(this._delegate,e).then(t=>new eu(this.firestore,t))}isEqual(e){return VM(this._delegate,e._delegate)}withConverter(e){return new Ay(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Wg(r){return Jn(r,gi)}class GS{constructor(...e){this._delegate=new Qd(...e)}static documentId(){return new GS(qr.keyField().canonicalString())}isEqual(e){return(e=T(e))instanceof Qd&&this._delegate._internalPath.isEqual(e._internalPath)}}class qg{static serverTimestamp(){const e=function Xk(){return new RS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qg(e)}static delete(){const e=function Zk(){return new aE("deleteField")}();return e._methodName="FieldValue.delete",new qg(e)}static arrayUnion(...e){const t=function eF(...r){return new NS("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new qg(t)}static arrayRemove(...e){const t=function tF(...r){return new MS("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new qg(t)}static increment(e){const t=function nF(r){return new PS("increment",r)}(e);return t._methodName="FieldValue.increment",new qg(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cF={Firestore:hP,GeoPoint:Qw,Timestamp:ri,Blob:fE,Transaction:fP,WriteBatch:pP,DocumentReference:eu,DocumentSnapshot:pE,Query:na,QueryDocumentSnapshot:gE,QuerySnapshot:$S,CollectionReference:Ay,FieldPath:GS,FieldValue:qg,setLogLevel:function lF(r){!function q1(r){Na.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function hF(r){(function dF(r,e){r.INTERNAL.registerComponent(new z("firestore-compat",t=>{const n=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(n,o)},"PUBLIC").setServiceProps(Object.assign({},cF)))})(r,(e,t)=>new hP(e,t,new aF)),r.registerVersion("@firebase/firestore-compat","0.3.47")}(Iu);let WS=(()=>{class r{constructor(){this.tokenKey="token",this.userKey="payoutUser",this.companyId="companyId"}currentUser(){let t=localStorage.getItem(this.userKey);if(t){let n=JSON.parse(t);if(n)return{token:localStorage.getItem(this.tokenKey),username:n.name,id:n.id,password:"",email:""}}return null}setUser(t){localStorage.setItem(this.tokenKey,t.token),localStorage.setItem(this.companyId,t.profile?.company?.id),localStorage.setItem(this.userKey,JSON.stringify(t.profile))}login(t,n){return(0,ja.D)(null.loginUser(t,n).pipe((0,mo.U)(o=>o)))}register(t){return(0,ja.D)(null.registerUser(t).then(n=>n))}resetPassword(t){return null.forgetPassword(t).then(n=>n.data)}logout(){localStorage.clear()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var pF=G(1135);let _P=(()=>{class r{constructor(t){this.http=t,this.currentUserSubject=new pF.X(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(t,n){return this.http.post("/users/authenticate",{email:t,password:n}).pipe((0,mo.U)(o=>(o&&o.token&&(localStorage.setItem("currentUser",JSON.stringify(o)),this.currentUserSubject.next(o)),o)))}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(null)}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(eo.eN))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const gF=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"",component:Zf,children:[{path:"",loadChildren:()=>G.e(455).then(G.bind(G,455)).then(r=>r.AdminLayoutModule),canActivate:[(()=>{class r{constructor(t,n,o){this.router=t,this.authenticationService=n,this.authFackservice=o}canActivate(t,n){return!!localStorage.getItem("token")||(this.router.navigate(["/auth/login"],{queryParams:{returnUrl:n.url}}),!1)}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(Lr.F0),H.LFG(WS),H.LFG(_P))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()]}]},{path:"auth",component:sc,children:[{path:"",loadChildren:()=>G.e(701).then(G.bind(G,2701)).then(r=>r.AuthLayoutModule)}]},{path:"**",redirectTo:"dashboard"}];let mF=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=H.oAB({type:r}),r.\u0275inj=H.cJS({imports:[ls.ez,Z.b2,Lr.Bz.forRoot(gF,{useHash:!0})]}),r})(),_F=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=H.oAB({type:r}),r.\u0275inj=H.cJS({imports:[ls.ez,Lr.Bz,Xi.IJ]}),r})();let yF=(()=>{class r{constructor(t,n){this.authenticationService=t,this.authfackservice=n}intercept(t,n){{const o=this.authfackservice.currentUserValue;o&&o.token&&(t=t.clone({setHeaders:{Authorization:`Bearer ${o.token}`}}))}return n.handle(t)}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(WS),H.LFG(_P))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})();var vF=G(2843),bF=G(262);let EF=(()=>{class r{constructor(t){this.authenticationService=t}intercept(t,n){return n.handle(t).pipe((0,bF.K)(o=>(401===o.status&&(this.authenticationService.logout(),location.reload()),(0,vF._)(o.error.message||o.statusText))))}}return r.\u0275fac=function(t){return new(t||r)(H.LFG(WS))},r.\u0275prov=H.Yz7({token:r,factory:r.\u0275fac}),r})(),DF=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=H.oAB({type:r,bootstrap:[Qc]}),r.\u0275inj=H.cJS({providers:[{provide:eo.TP,useClass:yF,multi:!0},{provide:eo.TP,useClass:EF,multi:!0}],imports:[jo,tc.u5,eo.JF,_F,Xi.IJ,Lr.Bz,mF]}),r})();Z.q6().bootstrapModule(DF).catch(r=>console.error(r))},1135:(kt,qe,G)=>{G.d(qe,{X:()=>Z});var p=G(7579);class Z extends p.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const Te=super._subscribe(be);return!Te.closed&&be.next(this._value),Te}getValue(){const{hasError:be,thrownError:Te,_value:De}=this;if(be)throw Te;return this._throwIfClosed(),De}next(be){super.next(this._value=be)}}},9751:(kt,qe,G)=>{G.d(qe,{y:()=>xe});var p=G(930),Z=G(727),H=G(8822),be=G(9635),Te=G(2416),De=G(576),Ie=G(2806);let xe=(()=>{class ke{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Ae=new ke;return Ae.source=this,Ae.operator=ut,Ae}subscribe(ut,Ae,Nt){const et=function Fe(ke){return ke&&ke instanceof p.Lv||function We(ke){return ke&&(0,De.m)(ke.next)&&(0,De.m)(ke.error)&&(0,De.m)(ke.complete)}(ke)&&(0,Z.Nn)(ke)}(ut)?ut:new p.Hp(ut,Ae,Nt);return(0,Ie.x)(()=>{const{operator:mt,source:pn}=this;et.add(mt?mt.call(et,pn):pn?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Ae){ut.error(Ae)}}forEach(ut,Ae){return new(Ae=Ge(Ae))((Nt,et)=>{const mt=new p.Hp({next:pn=>{try{ut(pn)}catch(yn){et(yn),mt.unsubscribe()}},error:et,complete:Nt});this.subscribe(mt)})}_subscribe(ut){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ut)}[H.L](){return this}pipe(...ut){return(0,be.U)(ut)(this)}toPromise(ut){return new(ut=Ge(ut))((Ae,Nt)=>{let et;this.subscribe(mt=>et=mt,mt=>Nt(mt),()=>Ae(et))})}}return ke.create=Dt=>new ke(Dt),ke})();function Ge(ke){var Dt;return null!==(Dt=ke??Te.v.Promise)&&void 0!==Dt?Dt:Promise}},7579:(kt,qe,G)=>{G.d(qe,{x:()=>Ie});var p=G(9751),Z=G(727);const be=(0,G(3888).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=G(8737),De=G(2806);let Ie=(()=>{class Ge extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const ke=new xe(this,this);return ke.operator=Fe,ke}_throwIfClosed(){if(this.closed)throw new be}next(Fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(Fe)}})}error(Fe){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:ke}=this;for(;ke.length;)ke.shift().error(Fe)}})}complete(){(0,De.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:ke,isStopped:Dt,observers:ut}=this;return ke||Dt?Z.Lc:(this.currentObservers=null,ut.push(Fe),new Z.w0(()=>{this.currentObservers=null,(0,Te.P)(ut,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:ke,thrownError:Dt,isStopped:ut}=this;ke?Fe.error(Dt):ut&&Fe.complete()}asObservable(){const Fe=new p.y;return Fe.source=this,Fe}}return Ge.create=(We,Fe)=>new xe(We,Fe),Ge})();class xe extends Ie{constructor(We,Fe){super(),this.destination=We,this.source=Fe}next(We){var Fe,ke;null===(ke=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===ke||ke.call(Fe,We)}error(We){var Fe,ke;null===(ke=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===ke||ke.call(Fe,We)}complete(){var We,Fe;null===(Fe=null===(We=this.destination)||void 0===We?void 0:We.complete)||void 0===Fe||Fe.call(We)}_subscribe(We){var Fe,ke;return null!==(ke=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(We))&&void 0!==ke?ke:Z.Lc}}},930:(kt,qe,G)=>{G.d(qe,{Hp:()=>Nt,Lv:()=>ke});var p=G(576),Z=G(727),H=G(2416),be=G(7849),Te=G(5032);const De=Ge("C",void 0,void 0);function Ge(Ve,_e,ot){return{kind:Ve,value:_e,error:ot}}var We=G(3410),Fe=G(2806);class ke extends Z.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Z.Nn)(_e)&&_e.add(this)):this.destination=yn}static create(_e,ot,qt){return new Nt(_e,ot,qt)}next(_e){this.isStopped?pn(function xe(Ve){return Ge("N",Ve,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?pn(function Ie(Ve){return Ge("E",void 0,Ve)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?pn(De,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Dt=Function.prototype.bind;function ut(Ve,_e){return Dt.call(Ve,_e)}class Ae{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ot}=this;if(ot.next)try{ot.next(_e)}catch(qt){et(qt)}}error(_e){const{partialObserver:ot}=this;if(ot.error)try{ot.error(_e)}catch(qt){et(qt)}else et(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ot){et(ot)}}}class Nt extends ke{constructor(_e,ot,qt){let at;if(super(),(0,p.m)(_e)||!_e)at={next:_e??void 0,error:ot??void 0,complete:qt??void 0};else{let lt;this&&H.v.useDeprecatedNextContext?(lt=Object.create(_e),lt.unsubscribe=()=>this.unsubscribe(),at={next:_e.next&&ut(_e.next,lt),error:_e.error&&ut(_e.error,lt),complete:_e.complete&&ut(_e.complete,lt)}):at=_e}this.destination=new Ae(at)}}function et(Ve){H.v.useDeprecatedSynchronousErrorHandling?(0,Fe.O)(Ve):(0,be.h)(Ve)}function pn(Ve,_e){const{onStoppedNotification:ot}=H.v;ot&&We.z.setTimeout(()=>ot(Ve,_e))}const yn={closed:!0,next:Te.Z,error:function mt(Ve){throw Ve},complete:Te.Z}},727:(kt,qe,G)=>{G.d(qe,{Lc:()=>De,w0:()=>Te,Nn:()=>Ie});var p=G(576);const H=(0,G(3888).d)(Ge=>function(Fe){Ge(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((ke,Dt)=>`${Dt+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var be=G(8737);class Te{constructor(We){this.initialTeardown=We,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let We;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const ut of Fe)ut.remove(this);else Fe.remove(this);const{initialTeardown:ke}=this;if((0,p.m)(ke))try{ke()}catch(ut){We=ut instanceof H?ut.errors:[ut]}const{_finalizers:Dt}=this;if(Dt){this._finalizers=null;for(const ut of Dt)try{xe(ut)}catch(Ae){We=We??[],Ae instanceof H?We=[...We,...Ae.errors]:We.push(Ae)}}if(We)throw new H(We)}}add(We){var Fe;if(We&&We!==this)if(this.closed)xe(We);else{if(We instanceof Te){if(We.closed||We._hasParent(this))return;We._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(We)}}_hasParent(We){const{_parentage:Fe}=this;return Fe===We||Array.isArray(Fe)&&Fe.includes(We)}_addParent(We){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(We),Fe):Fe?[Fe,We]:We}_removeParent(We){const{_parentage:Fe}=this;Fe===We?this._parentage=null:Array.isArray(Fe)&&(0,be.P)(Fe,We)}remove(We){const{_finalizers:Fe}=this;Fe&&(0,be.P)(Fe,We),We instanceof Te&&We._removeParent(this)}}Te.EMPTY=(()=>{const Ge=new Te;return Ge.closed=!0,Ge})();const De=Te.EMPTY;function Ie(Ge){return Ge instanceof Te||Ge&&"closed"in Ge&&(0,p.m)(Ge.remove)&&(0,p.m)(Ge.add)&&(0,p.m)(Ge.unsubscribe)}function xe(Ge){(0,p.m)(Ge)?Ge():Ge.unsubscribe()}},2416:(kt,qe,G)=>{G.d(qe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(kt,qe,G)=>{G.d(qe,{a:()=>We});var p=G(9751),Z=G(4742),H=G(2076),be=G(4671),Te=G(3268),De=G(3269),Ie=G(1810),xe=G(5403),Ge=G(9672);function We(...Dt){const ut=(0,De.yG)(Dt),Ae=(0,De.jO)(Dt),{args:Nt,keys:et}=(0,Z.D)(Dt);if(0===Nt.length)return(0,H.D)([],ut);const mt=new p.y(function Fe(Dt,ut,Ae=be.y){return Nt=>{ke(ut,()=>{const{length:et}=Dt,mt=new Array(et);let pn=et,yn=et;for(let Ve=0;Ve<et;Ve++)ke(ut,()=>{const _e=(0,H.D)(Dt[Ve],ut);let ot=!1;_e.subscribe((0,xe.x)(Nt,qt=>{mt[Ve]=qt,ot||(ot=!0,yn--),yn||Nt.next(Ae(mt.slice()))},()=>{--pn||Nt.complete()}))},Nt)},Nt)}}(Nt,ut,et?pn=>(0,Ie.n)(et,pn):be.y));return Ae?mt.pipe((0,Te.Z)(Ae)):mt}function ke(Dt,ut,Ae){Dt?(0,Ge.f)(Ae,Dt,ut):ut()}},7272:(kt,qe,G)=>{G.d(qe,{z:()=>Te});var p=G(8189),H=G(3269),be=G(2076);function Te(...De){return function Z(){return(0,p.J)(1)}()((0,be.D)(De,(0,H.yG)(De)))}},9770:(kt,qe,G)=>{G.d(qe,{P:()=>H});var p=G(9751),Z=G(8421);function H(be){return new p.y(Te=>{(0,Z.Xf)(be()).subscribe(Te)})}},515:(kt,qe,G)=>{G.d(qe,{E:()=>Z});const Z=new(G(9751).y)(Te=>Te.complete())},2076:(kt,qe,G)=>{G.d(qe,{D:()=>qt});var p=G(8421),Z=G(9672),H=G(4482),be=G(5403);function Te(at,lt=0){return(0,H.e)((ft,Ee)=>{ft.subscribe((0,be.x)(Ee,Me=>(0,Z.f)(Ee,at,()=>Ee.next(Me),lt),()=>(0,Z.f)(Ee,at,()=>Ee.complete(),lt),Me=>(0,Z.f)(Ee,at,()=>Ee.error(Me),lt)))})}function De(at,lt=0){return(0,H.e)((ft,Ee)=>{Ee.add(at.schedule(()=>ft.subscribe(Ee),lt))})}var Ge=G(9751),Fe=G(2202),ke=G(576);function ut(at,lt){if(!at)throw new Error("Iterable cannot be null");return new Ge.y(ft=>{(0,Z.f)(ft,lt,()=>{const Ee=at[Symbol.asyncIterator]();(0,Z.f)(ft,lt,()=>{Ee.next().then(Me=>{Me.done?ft.complete():ft.next(Me.value)})},0,!0)})})}var Ae=G(3670),Nt=G(8239),et=G(1144),mt=G(6495),pn=G(2206),yn=G(4532),Ve=G(3260);function qt(at,lt){return lt?function ot(at,lt){if(null!=at){if((0,Ae.c)(at))return function Ie(at,lt){return(0,p.Xf)(at).pipe(De(lt),Te(lt))}(at,lt);if((0,et.z)(at))return function We(at,lt){return new Ge.y(ft=>{let Ee=0;return lt.schedule(function(){Ee===at.length?ft.complete():(ft.next(at[Ee++]),ft.closed||this.schedule())})})}(at,lt);if((0,Nt.t)(at))return function xe(at,lt){return(0,p.Xf)(at).pipe(De(lt),Te(lt))}(at,lt);if((0,pn.D)(at))return ut(at,lt);if((0,mt.T)(at))return function Dt(at,lt){return new Ge.y(ft=>{let Ee;return(0,Z.f)(ft,lt,()=>{Ee=at[Fe.h](),(0,Z.f)(ft,lt,()=>{let Me,Qe;try{({value:Me,done:Qe}=Ee.next())}catch(Pe){return void ft.error(Pe)}Qe?ft.complete():ft.next(Me)},0,!0)}),()=>(0,ke.m)(Ee?.return)&&Ee.return()})}(at,lt);if((0,Ve.L)(at))return function _e(at,lt){return ut((0,Ve.Q)(at),lt)}(at,lt)}throw(0,yn.z)(at)}(at,lt):(0,p.Xf)(at)}},4968:(kt,qe,G)=>{G.d(qe,{R:()=>We});var p=G(8421),Z=G(9751),H=G(5577),be=G(1144),Te=G(576),De=G(3268);const Ie=["addListener","removeListener"],xe=["addEventListener","removeEventListener"],Ge=["on","off"];function We(Ae,Nt,et,mt){if((0,Te.m)(et)&&(mt=et,et=void 0),mt)return We(Ae,Nt,et).pipe((0,De.Z)(mt));const[pn,yn]=function ut(Ae){return(0,Te.m)(Ae.addEventListener)&&(0,Te.m)(Ae.removeEventListener)}(Ae)?xe.map(Ve=>_e=>Ae[Ve](Nt,_e,et)):function ke(Ae){return(0,Te.m)(Ae.addListener)&&(0,Te.m)(Ae.removeListener)}(Ae)?Ie.map(Fe(Ae,Nt)):function Dt(Ae){return(0,Te.m)(Ae.on)&&(0,Te.m)(Ae.off)}(Ae)?Ge.map(Fe(Ae,Nt)):[];if(!pn&&(0,be.z)(Ae))return(0,H.z)(Ve=>We(Ve,Nt,et))((0,p.Xf)(Ae));if(!pn)throw new TypeError("Invalid event target");return new Z.y(Ve=>{const _e=(...ot)=>Ve.next(1<ot.length?ot:ot[0]);return pn(_e),()=>yn(_e)})}function Fe(Ae,Nt){return et=>mt=>Ae[et](Nt,mt)}},8421:(kt,qe,G)=>{G.d(qe,{Xf:()=>Dt});var p=G(655),Z=G(1144),H=G(8239),be=G(9751),Te=G(3670),De=G(2206),Ie=G(4532),xe=G(6495),Ge=G(3260),We=G(576),Fe=G(7849),ke=G(8822);function Dt(Ve){if(Ve instanceof be.y)return Ve;if(null!=Ve){if((0,Te.c)(Ve))return function ut(Ve){return new be.y(_e=>{const ot=Ve[ke.L]();if((0,We.m)(ot.subscribe))return ot.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,Z.z)(Ve))return function Ae(Ve){return new be.y(_e=>{for(let ot=0;ot<Ve.length&&!_e.closed;ot++)_e.next(Ve[ot]);_e.complete()})}(Ve);if((0,H.t)(Ve))return function Nt(Ve){return new be.y(_e=>{Ve.then(ot=>{_e.closed||(_e.next(ot),_e.complete())},ot=>_e.error(ot)).then(null,Fe.h)})}(Ve);if((0,De.D)(Ve))return mt(Ve);if((0,xe.T)(Ve))return function et(Ve){return new be.y(_e=>{for(const ot of Ve)if(_e.next(ot),_e.closed)return;_e.complete()})}(Ve);if((0,Ge.L)(Ve))return function pn(Ve){return mt((0,Ge.Q)(Ve))}(Ve)}throw(0,Ie.z)(Ve)}function mt(Ve){return new be.y(_e=>{(function yn(Ve,_e){var ot,qt,at,lt;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ot=(0,p.KL)(Ve);!(qt=yield ot.next()).done;)if(_e.next(qt.value),_e.closed)return}catch(ft){at={error:ft}}finally{try{qt&&!qt.done&&(lt=ot.return)&&(yield lt.call(ot))}finally{if(at)throw at.error}}_e.complete()})})(Ve,_e).catch(ot=>_e.error(ot))})}},6451:(kt,qe,G)=>{G.d(qe,{T:()=>De});var p=G(8189),Z=G(8421),H=G(515),be=G(3269),Te=G(2076);function De(...Ie){const xe=(0,be.yG)(Ie),Ge=(0,be._6)(Ie,1/0),We=Ie;return We.length?1===We.length?(0,Z.Xf)(We[0]):(0,p.J)(Ge)((0,Te.D)(We,xe)):H.E}},9646:(kt,qe,G)=>{G.d(qe,{of:()=>H});var p=G(3269),Z=G(2076);function H(...be){const Te=(0,p.yG)(be);return(0,Z.D)(be,Te)}},2843:(kt,qe,G)=>{G.d(qe,{_:()=>H});var p=G(9751),Z=G(576);function H(be,Te){const De=(0,Z.m)(be)?be:()=>be,Ie=xe=>xe.error(De());return new p.y(Te?xe=>Te.schedule(Ie,0,xe):Ie)}},5963:(kt,qe,G)=>{G.d(qe,{H:()=>Te});var p=G(9751),Z=G(4986),H=G(3532);function Te(De=0,Ie,xe=Z.P){let Ge=-1;return null!=Ie&&((0,H.K)(Ie)?xe=Ie:Ge=Ie),new p.y(We=>{let Fe=function be(De){return De instanceof Date&&!isNaN(De)}(De)?+De-xe.now():De;Fe<0&&(Fe=0);let ke=0;return xe.schedule(function(){We.closed||(We.next(ke++),0<=Ge?this.schedule(void 0,Ge):We.complete())},Fe)})}},5403:(kt,qe,G)=>{G.d(qe,{x:()=>Z});var p=G(930);function Z(be,Te,De,Ie,xe){return new H(be,Te,De,Ie,xe)}class H extends p.Lv{constructor(Te,De,Ie,xe,Ge,We){super(Te),this.onFinalize=Ge,this.shouldUnsubscribe=We,this._next=De?function(Fe){try{De(Fe)}catch(ke){Te.error(ke)}}:super._next,this._error=xe?function(Fe){try{xe(Fe)}catch(ke){Te.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(Fe){Te.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:De}=this;super.unsubscribe(),!De&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},262:(kt,qe,G)=>{G.d(qe,{K:()=>be});var p=G(8421),Z=G(5403),H=G(4482);function be(Te){return(0,H.e)((De,Ie)=>{let We,xe=null,Ge=!1;xe=De.subscribe((0,Z.x)(Ie,void 0,void 0,Fe=>{We=(0,p.Xf)(Te(Fe,be(Te)(De))),xe?(xe.unsubscribe(),xe=null,We.subscribe(Ie)):Ge=!0})),Ge&&(xe.unsubscribe(),xe=null,We.subscribe(Ie))})}},4351:(kt,qe,G)=>{G.d(qe,{b:()=>H});var p=G(5577),Z=G(576);function H(be,Te){return(0,Z.m)(Te)?(0,p.z)(be,Te,1):(0,p.z)(be,1)}},1884:(kt,qe,G)=>{G.d(qe,{x:()=>be});var p=G(4671),Z=G(4482),H=G(5403);function be(De,Ie=p.y){return De=De??Te,(0,Z.e)((xe,Ge)=>{let We,Fe=!0;xe.subscribe((0,H.x)(Ge,ke=>{const Dt=Ie(ke);(Fe||!De(We,Dt))&&(Fe=!1,We=Dt,Ge.next(ke))}))})}function Te(De,Ie){return De===Ie}},9300:(kt,qe,G)=>{G.d(qe,{h:()=>H});var p=G(4482),Z=G(5403);function H(be,Te){return(0,p.e)((De,Ie)=>{let xe=0;De.subscribe((0,Z.x)(Ie,Ge=>be.call(Te,Ge,xe++)&&Ie.next(Ge)))})}},4004:(kt,qe,G)=>{G.d(qe,{U:()=>H});var p=G(4482),Z=G(5403);function H(be,Te){return(0,p.e)((De,Ie)=>{let xe=0;De.subscribe((0,Z.x)(Ie,Ge=>{Ie.next(be.call(Te,Ge,xe++))}))})}},9718:(kt,qe,G)=>{G.d(qe,{h:()=>Z});var p=G(4004);function Z(H){return(0,p.U)(()=>H)}},8189:(kt,qe,G)=>{G.d(qe,{J:()=>H});var p=G(5577),Z=G(4671);function H(be=1/0){return(0,p.z)(Z.y,be)}},5577:(kt,qe,G)=>{G.d(qe,{z:()=>xe});var p=G(4004),Z=G(8421),H=G(4482),be=G(9672),Te=G(5403),Ie=G(576);function xe(Ge,We,Fe=1/0){return(0,Ie.m)(We)?xe((ke,Dt)=>(0,p.U)((ut,Ae)=>We(ke,ut,Dt,Ae))((0,Z.Xf)(Ge(ke,Dt))),Fe):("number"==typeof We&&(Fe=We),(0,H.e)((ke,Dt)=>function De(Ge,We,Fe,ke,Dt,ut,Ae,Nt){const et=[];let mt=0,pn=0,yn=!1;const Ve=()=>{yn&&!et.length&&!mt&&We.complete()},_e=qt=>mt<ke?ot(qt):et.push(qt),ot=qt=>{ut&&We.next(qt),mt++;let at=!1;(0,Z.Xf)(Fe(qt,pn++)).subscribe((0,Te.x)(We,lt=>{Dt?.(lt),ut?_e(lt):We.next(lt)},()=>{at=!0},void 0,()=>{if(at)try{for(mt--;et.length&&mt<ke;){const lt=et.shift();Ae?(0,be.f)(We,Ae,()=>ot(lt)):ot(lt)}Ve()}catch(lt){We.error(lt)}}))};return Ge.subscribe((0,Te.x)(We,_e,()=>{yn=!0,Ve()})),()=>{Nt?.()}}(ke,Dt,Ge,Fe)))}},3099:(kt,qe,G)=>{G.d(qe,{B:()=>Te});var p=G(8421),Z=G(7579),H=G(930),be=G(4482);function Te(Ie={}){const{connector:xe=(()=>new Z.x),resetOnError:Ge=!0,resetOnComplete:We=!0,resetOnRefCountZero:Fe=!0}=Ie;return ke=>{let Dt,ut,Ae,Nt=0,et=!1,mt=!1;const pn=()=>{ut?.unsubscribe(),ut=void 0},yn=()=>{pn(),Dt=Ae=void 0,et=mt=!1},Ve=()=>{const _e=Dt;yn(),_e?.unsubscribe()};return(0,be.e)((_e,ot)=>{Nt++,!mt&&!et&&pn();const qt=Ae=Ae??xe();ot.add(()=>{Nt--,0===Nt&&!mt&&!et&&(ut=De(Ve,Fe))}),qt.subscribe(ot),!Dt&&Nt>0&&(Dt=new H.Hp({next:at=>qt.next(at),error:at=>{mt=!0,pn(),ut=De(yn,Ge,at),qt.error(at)},complete:()=>{et=!0,pn(),ut=De(yn,We),qt.complete()}}),(0,p.Xf)(_e).subscribe(Dt))})(ke)}}function De(Ie,xe,...Ge){if(!0===xe)return void Ie();if(!1===xe)return;const We=new H.Hp({next:()=>{We.unsubscribe(),Ie()}});return xe(...Ge).subscribe(We)}},5684:(kt,qe,G)=>{G.d(qe,{T:()=>Z});var p=G(9300);function Z(H){return(0,p.h)((be,Te)=>H<=Te)}},8675:(kt,qe,G)=>{G.d(qe,{O:()=>be});var p=G(7272),Z=G(3269),H=G(4482);function be(...Te){const De=(0,Z.yG)(Te);return(0,H.e)((Ie,xe)=>{(De?(0,p.z)(Te,Ie,De):(0,p.z)(Te,Ie)).subscribe(xe)})}},3900:(kt,qe,G)=>{G.d(qe,{w:()=>be});var p=G(8421),Z=G(4482),H=G(5403);function be(Te,De){return(0,Z.e)((Ie,xe)=>{let Ge=null,We=0,Fe=!1;const ke=()=>Fe&&!Ge&&xe.complete();Ie.subscribe((0,H.x)(xe,Dt=>{Ge?.unsubscribe();let ut=0;const Ae=We++;(0,p.Xf)(Te(Dt,Ae)).subscribe(Ge=(0,H.x)(xe,Nt=>xe.next(De?De(Dt,Nt,Ae,ut++):Nt),()=>{Ge=null,ke()}))},()=>{Fe=!0,ke()}))})}},5698:(kt,qe,G)=>{G.d(qe,{q:()=>be});var p=G(515),Z=G(4482),H=G(5403);function be(Te){return Te<=0?()=>p.E:(0,Z.e)((De,Ie)=>{let xe=0;De.subscribe((0,H.x)(Ie,Ge=>{++xe<=Te&&(Ie.next(Ge),Te<=xe&&Ie.complete())}))})}},2722:(kt,qe,G)=>{G.d(qe,{R:()=>Te});var p=G(4482),Z=G(5403),H=G(8421),be=G(5032);function Te(De){return(0,p.e)((Ie,xe)=>{(0,H.Xf)(De).subscribe((0,Z.x)(xe,()=>xe.complete(),be.Z)),!xe.closed&&Ie.subscribe(xe)})}},8505:(kt,qe,G)=>{G.d(qe,{b:()=>Te});var p=G(576),Z=G(4482),H=G(5403),be=G(4671);function Te(De,Ie,xe){const Ge=(0,p.m)(De)||Ie||xe?{next:De,error:Ie,complete:xe}:De;return Ge?(0,Z.e)((We,Fe)=>{var ke;null===(ke=Ge.subscribe)||void 0===ke||ke.call(Ge);let Dt=!0;We.subscribe((0,H.x)(Fe,ut=>{var Ae;null===(Ae=Ge.next)||void 0===Ae||Ae.call(Ge,ut),Fe.next(ut)},()=>{var ut;Dt=!1,null===(ut=Ge.complete)||void 0===ut||ut.call(Ge),Fe.complete()},ut=>{var Ae;Dt=!1,null===(Ae=Ge.error)||void 0===Ae||Ae.call(Ge,ut),Fe.error(ut)},()=>{var ut,Ae;Dt&&(null===(ut=Ge.unsubscribe)||void 0===ut||ut.call(Ge)),null===(Ae=Ge.finalize)||void 0===Ae||Ae.call(Ge)}))}):be.y}},4408:(kt,qe,G)=>{G.d(qe,{o:()=>Te});var p=G(727);class Z extends p.w0{constructor(Ie,xe){super()}schedule(Ie,xe=0){return this}}const H={setInterval(De,Ie,...xe){const{delegate:Ge}=H;return Ge?.setInterval?Ge.setInterval(De,Ie,...xe):setInterval(De,Ie,...xe)},clearInterval(De){const{delegate:Ie}=H;return(Ie?.clearInterval||clearInterval)(De)},delegate:void 0};var be=G(8737);class Te extends Z{constructor(Ie,xe){super(Ie,xe),this.scheduler=Ie,this.work=xe,this.pending=!1}schedule(Ie,xe=0){var Ge;if(this.closed)return this;this.state=Ie;const We=this.id,Fe=this.scheduler;return null!=We&&(this.id=this.recycleAsyncId(Fe,We,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(Fe,this.id,xe),this}requestAsyncId(Ie,xe,Ge=0){return H.setInterval(Ie.flush.bind(Ie,this),Ge)}recycleAsyncId(Ie,xe,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return xe;null!=xe&&H.clearInterval(xe)}execute(Ie,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Ie,xe);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,xe){let We,Ge=!1;try{this.work(Ie)}catch(Fe){Ge=!0,We=Fe||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),We}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:xe}=this,{actions:Ge}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ge,this),null!=Ie&&(this.id=this.recycleAsyncId(xe,Ie,null)),this.delay=null,super.unsubscribe()}}}},640:(kt,qe,G)=>{G.d(qe,{v:()=>H});const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class Z{constructor(Te,De=Z.now){this.schedulerActionCtor=Te,this.now=De}schedule(Te,De=0,Ie){return new this.schedulerActionCtor(this,Te).schedule(Ie,De)}}Z.now=p.now;class H extends Z{constructor(Te,De=Z.now){super(Te,De),this.actions=[],this._active=!1}flush(Te){const{actions:De}=this;if(this._active)return void De.push(Te);let Ie;this._active=!0;do{if(Ie=Te.execute(Te.state,Te.delay))break}while(Te=De.shift());if(this._active=!1,Ie){for(;Te=De.shift();)Te.unsubscribe();throw Ie}}}},4986:(kt,qe,G)=>{G.d(qe,{P:()=>be,z:()=>H});var p=G(4408);const H=new(G(640).v)(p.o),be=H},3410:(kt,qe,G)=>{G.d(qe,{z:()=>p});const p={setTimeout(Z,H,...be){const{delegate:Te}=p;return Te?.setTimeout?Te.setTimeout(Z,H,...be):setTimeout(Z,H,...be)},clearTimeout(Z){const{delegate:H}=p;return(H?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(kt,qe,G)=>{G.d(qe,{h:()=>Z});const Z=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,qe,G)=>{G.d(qe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(kt,qe,G)=>{G.d(qe,{_6:()=>De,jO:()=>be,yG:()=>Te});var p=G(576),Z=G(3532);function H(Ie){return Ie[Ie.length-1]}function be(Ie){return(0,p.m)(H(Ie))?Ie.pop():void 0}function Te(Ie){return(0,Z.K)(H(Ie))?Ie.pop():void 0}function De(Ie,xe){return"number"==typeof H(Ie)?Ie.pop():xe}},4742:(kt,qe,G)=>{G.d(qe,{D:()=>Te});const{isArray:p}=Array,{getPrototypeOf:Z,prototype:H,keys:be}=Object;function Te(Ie){if(1===Ie.length){const xe=Ie[0];if(p(xe))return{args:xe,keys:null};if(function De(Ie){return Ie&&"object"==typeof Ie&&Z(Ie)===H}(xe)){const Ge=be(xe);return{args:Ge.map(We=>xe[We]),keys:Ge}}}return{args:Ie,keys:null}}},8737:(kt,qe,G)=>{function p(Z,H){if(Z){const be=Z.indexOf(H);0<=be&&Z.splice(be,1)}}G.d(qe,{P:()=>p})},3888:(kt,qe,G)=>{function p(Z){const be=Z(Te=>{Error.call(Te),Te.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}G.d(qe,{d:()=>p})},1810:(kt,qe,G)=>{function p(Z,H){return Z.reduce((be,Te,De)=>(be[Te]=H[De],be),{})}G.d(qe,{n:()=>p})},2806:(kt,qe,G)=>{G.d(qe,{O:()=>be,x:()=>H});var p=G(2416);let Z=null;function H(Te){if(p.v.useDeprecatedSynchronousErrorHandling){const De=!Z;if(De&&(Z={errorThrown:!1,error:null}),Te(),De){const{errorThrown:Ie,error:xe}=Z;if(Z=null,Ie)throw xe}}else Te()}function be(Te){p.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=Te)}},9672:(kt,qe,G)=>{function p(Z,H,be,Te=0,De=!1){const Ie=H.schedule(function(){be(),De?Z.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(Z.add(Ie),!De)return Ie}G.d(qe,{f:()=>p})},4671:(kt,qe,G)=>{function p(Z){return Z}G.d(qe,{y:()=>p})},1144:(kt,qe,G)=>{G.d(qe,{z:()=>p});const p=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(kt,qe,G)=>{G.d(qe,{D:()=>Z});var p=G(576);function Z(H){return Symbol.asyncIterator&&(0,p.m)(H?.[Symbol.asyncIterator])}},576:(kt,qe,G)=>{function p(Z){return"function"==typeof Z}G.d(qe,{m:()=>p})},3670:(kt,qe,G)=>{G.d(qe,{c:()=>H});var p=G(8822),Z=G(576);function H(be){return(0,Z.m)(be[p.L])}},6495:(kt,qe,G)=>{G.d(qe,{T:()=>H});var p=G(2202),Z=G(576);function H(be){return(0,Z.m)(be?.[p.h])}},8239:(kt,qe,G)=>{G.d(qe,{t:()=>Z});var p=G(576);function Z(H){return(0,p.m)(H?.then)}},3260:(kt,qe,G)=>{G.d(qe,{L:()=>be,Q:()=>H});var p=G(655),Z=G(576);function H(Te){return(0,p.FC)(this,arguments,function*(){const Ie=Te.getReader();try{for(;;){const{value:xe,done:Ge}=yield(0,p.qq)(Ie.read());if(Ge)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(xe)}}finally{Ie.releaseLock()}})}function be(Te){return(0,Z.m)(Te?.getReader)}},3532:(kt,qe,G)=>{G.d(qe,{K:()=>Z});var p=G(576);function Z(H){return H&&(0,p.m)(H.schedule)}},4482:(kt,qe,G)=>{G.d(qe,{A:()=>Z,e:()=>H});var p=G(576);function Z(be){return(0,p.m)(be?.lift)}function H(be){return Te=>{if(Z(Te))return Te.lift(function(De){try{return be(De,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,qe,G)=>{G.d(qe,{Z:()=>be});var p=G(4004);const{isArray:Z}=Array;function be(Te){return(0,p.U)(De=>function H(Te,De){return Z(De)?Te(...De):Te(De)}(Te,De))}},5032:(kt,qe,G)=>{function p(){}G.d(qe,{Z:()=>p})},9635:(kt,qe,G)=>{G.d(qe,{U:()=>H,z:()=>Z});var p=G(4671);function Z(...be){return H(be)}function H(be){return 0===be.length?p.y:1===be.length?be[0]:function(De){return be.reduce((Ie,xe)=>xe(Ie),De)}}},7849:(kt,qe,G)=>{G.d(qe,{h:()=>H});var p=G(2416),Z=G(3410);function H(be){Z.z.setTimeout(()=>{const{onUnhandledError:Te}=p.v;if(!Te)throw be;Te(be)})}},4532:(kt,qe,G)=>{function p(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(qe,{z:()=>p})},655:(kt,qe,G)=>{function be(Ee,Me){var Qe={};for(var Pe in Ee)Object.prototype.hasOwnProperty.call(Ee,Pe)&&Me.indexOf(Pe)<0&&(Qe[Pe]=Ee[Pe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Pe=Object.getOwnPropertySymbols(Ee);_t<Pe.length;_t++)Me.indexOf(Pe[_t])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Pe[_t])&&(Qe[Pe[_t]]=Ee[Pe[_t]])}return Qe}function xe(Ee,Me,Qe,Pe){return new(Qe||(Qe=Promise))(function(ht,Yt){function Nn(jr){try{Tt(Pe.next(jr))}catch(xi){Yt(xi)}}function $n(jr){try{Tt(Pe.throw(jr))}catch(xi){Yt(xi)}}function Tt(jr){jr.done?ht(jr.value):function _t(ht){return ht instanceof Qe?ht:new Qe(function(Yt){Yt(ht)})}(jr.value).then(Nn,$n)}Tt((Pe=Pe.apply(Ee,Me||[])).next())})}function et(Ee){return this instanceof et?(this.v=Ee,this):new et(Ee)}function mt(Ee,Me,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _t,Pe=Qe.apply(Ee,Me||[]),ht=[];return _t={},Yt("next"),Yt("throw"),Yt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function Yt(nr){Pe[nr]&&(_t[nr]=function(Mn){return new Promise(function(Ci,sr){ht.push([nr,Mn,Ci,sr])>1||Nn(nr,Mn)})})}function Nn(nr,Mn){try{!function $n(nr){nr.value instanceof et?Promise.resolve(nr.value.v).then(Tt,jr):xi(ht[0][2],nr)}(Pe[nr](Mn))}catch(Ci){xi(ht[0][3],Ci)}}function Tt(nr){Nn("next",nr)}function jr(nr){Nn("throw",nr)}function xi(nr,Mn){nr(Mn),ht.shift(),ht.length&&Nn(ht[0][0],ht[0][1])}}function yn(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Me=Ee[Symbol.asyncIterator];return Me?Me.call(Ee):(Ee=function ke(Ee){var Me="function"==typeof Symbol&&Symbol.iterator,Qe=Me&&Ee[Me],Pe=0;if(Qe)return Qe.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Pe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Pe++],done:!Ee}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Qe={},Pe("next"),Pe("throw"),Pe("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Pe(ht){Qe[ht]=Ee[ht]&&function(Yt){return new Promise(function(Nn,$n){!function _t(ht,Yt,Nn,$n){Promise.resolve($n).then(function(Tt){ht({value:Tt,done:Nn})},Yt)}(Nn,$n,(Yt=Ee[ht](Yt)).done,Yt.value)})}}}G.d(qe,{FC:()=>mt,KL:()=>yn,_T:()=>be,mG:()=>xe,qq:()=>et})},7340:(kt,qe,G)=>{G.d(qe,{IO:()=>Ae,LC:()=>Z,SB:()=>Ge,X$:()=>be,ZE:()=>pn,ZN:()=>mt,_j:()=>p,eR:()=>Fe,jt:()=>Te,k1:()=>yn,l3:()=>H,oB:()=>xe,pV:()=>Dt,ru:()=>De,vP:()=>Ie});class p{}class Z{}const H="*";function be(Ve,_e){return{type:7,name:Ve,definitions:_e,options:{}}}function Te(Ve,_e=null){return{type:4,styles:_e,timings:Ve}}function De(Ve,_e=null){return{type:3,steps:Ve,options:_e}}function Ie(Ve,_e=null){return{type:2,steps:Ve,options:_e}}function xe(Ve){return{type:6,styles:Ve,offset:null}}function Ge(Ve,_e,ot){return{type:0,name:Ve,styles:_e,options:ot}}function Fe(Ve,_e,ot=null){return{type:1,expr:Ve,animation:_e,options:ot}}function Dt(Ve=null){return{type:9,options:Ve}}function Ae(Ve,_e,ot=null){return{type:11,selector:Ve,animation:_e,options:ot}}function et(Ve){Promise.resolve().then(Ve)}class mt{constructor(_e=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){et(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const ot="start"==_e?this._onStartFns:this._onDoneFns;ot.forEach(qt=>qt()),ot.length=0}}class pn{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let ot=0,qt=0,at=0;const lt=this.players.length;0==lt?et(()=>this._onFinish()):this.players.forEach(ft=>{ft.onDone(()=>{++ot==lt&&this._onFinish()}),ft.onDestroy(()=>{++qt==lt&&this._onDestroy()}),ft.onStart(()=>{++at==lt&&this._onStart()})}),this.totalTime=this.players.reduce((ft,Ee)=>Math.max(ft,Ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const ot=_e*this.totalTime;this.players.forEach(qt=>{const at=qt.totalTime?Math.min(1,ot/qt.totalTime):1;qt.setPosition(at)})}getPosition(){const _e=this.players.reduce((ot,qt)=>null===ot||qt.totalTime>ot.totalTime?qt:ot,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const ot="start"==_e?this._onStartFns:this._onDoneFns;ot.forEach(qt=>qt()),ot.length=0}}const yn="!"},6895:(kt,qe,G)=>{G.d(qe,{Do:()=>yn,EM:()=>pl,HT:()=>Te,JF:()=>gl,K0:()=>Ie,Mx:()=>ol,NF:()=>hl,O5:()=>zr,S$:()=>et,V_:()=>We,Ye:()=>Ve,b0:()=>pn,bD:()=>Ys,ez:()=>ou,mk:()=>Wn,q:()=>H,sg:()=>ss,tP:()=>ru,w_:()=>De});var p=G(4650);let Z=null;function H(){return Z}function Te(S){Z||(Z=S)}class De{}const Ie=new p.OlP("DocumentToken");let xe=(()=>{class S{historyGo(M){throw new Error("Not implemented")}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return function Ge(){return(0,p.LFG)(Fe)}()},providedIn:"platform"}),S})();const We=new p.OlP("Location Initialized");let Fe=(()=>{class S extends xe{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(M){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",M,!1),()=>W.removeEventListener("popstate",M)}onHashChange(M){const W=H().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",M,!1),()=>W.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,W,le){ke()?this._history.pushState(M,W,le):this.location.hash=le}replaceState(M,W,le){ke()?this._history.replaceState(M,W,le):this.location.hash=le}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return S.\u0275fac=function(M){return new(M||S)(p.LFG(Ie))},S.\u0275prov=p.Yz7({token:S,factory:function(){return function Dt(){return new Fe((0,p.LFG)(Ie))}()},providedIn:"platform"}),S})();function ke(){return!!window.history.pushState}function ut(S,$){if(0==S.length)return $;if(0==$.length)return S;let M=0;return S.endsWith("/")&&M++,$.startsWith("/")&&M++,2==M?S+$.substring(1):1==M?S+$:S+"/"+$}function Ae(S){const $=S.match(/#|\?|$/),M=$&&$.index||S.length;return S.slice(0,M-("/"===S[M-1]?1:0))+S.slice(M)}function Nt(S){return S&&"?"!==S[0]?"?"+S:S}let et=(()=>{class S{historyGo(M){throw new Error("Not implemented")}}return S.\u0275fac=function(M){return new(M||S)},S.\u0275prov=p.Yz7({token:S,factory:function(){return(0,p.f3M)(pn)},providedIn:"root"}),S})();const mt=new p.OlP("appBaseHref");let pn=(()=>{class S extends et{constructor(M,W){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return ut(this._baseHref,M)}path(M=!1){const W=this._platformLocation.pathname+Nt(this._platformLocation.search),le=this._platformLocation.hash;return le&&M?`${W}${le}`:W}pushState(M,W,le,Le){const rt=this.prepareExternalUrl(le+Nt(Le));this._platformLocation.pushState(M,W,rt)}replaceState(M,W,le,Le){const rt=this.prepareExternalUrl(le+Nt(Le));this._platformLocation.replaceState(M,W,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return S.\u0275fac=function(M){return new(M||S)(p.LFG(xe),p.LFG(mt,8))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),yn=(()=>{class S extends et{constructor(M,W){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(M){const W=ut(this._baseHref,M);return W.length>0?"#"+W:W}pushState(M,W,le,Le){let rt=this.prepareExternalUrl(le+Nt(Le));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(M,W,rt)}replaceState(M,W,le,Le){let rt=this.prepareExternalUrl(le+Nt(Le));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(M,W,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return S.\u0275fac=function(M){return new(M||S)(p.LFG(xe),p.LFG(mt,8))},S.\u0275prov=p.Yz7({token:S,factory:S.\u0275fac}),S})(),Ve=(()=>{class S{constructor(M){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const W=this._locationStrategy.getBaseHref();this._baseHref=Ae(qt(W)),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,W=""){return this.path()==this.normalize(M+Nt(W))}normalize(M){return S.stripTrailingSlash(function ot(S,$){return S&&$.startsWith(S)?$.substring(S.length):$}(this._baseHref,qt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,W="",le=null){this._locationStrategy.pushState(le,"",M,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Nt(W)),le)}replaceState(M,W="",le=null){this._locationStrategy.replaceState(le,"",M,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Nt(W)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",W){this._urlChangeListeners.forEach(le=>le(M,W))}subscribe(M,W,le){return this._subject.subscribe({next:M,error:W,complete:le})}}return S.normalizeQueryParams=Nt,S.joinWithSlash=ut,S.stripTrailingSlash=Ae,S.\u0275fac=function(M){return new(M||S)(p.LFG(et))},S.\u0275prov=p.Yz7({token:S,factory:function(){return function _e(){return new Ve((0,p.LFG)(et))}()},providedIn:"root"}),S})();function qt(S){return S.replace(/\/index.html$/,"")}function ol(S,$){$=encodeURIComponent($);for(const M of S.split(";")){const W=M.indexOf("="),[le,Le]=-1==W?[M,""]:[M.slice(0,W),M.slice(W+1)];if(le.trim()===$)return decodeURIComponent(Le)}return null}let Wn=(()=>{class S{constructor(M,W,le,Le){this._iterableDiffers=M,this._keyValueDiffers=W,this._ngEl=le,this._renderer=Le,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem(W=>this._toggleClass(W.key,W.currentValue)),M.forEachChangedItem(W=>this._toggleClass(W.key,W.currentValue)),M.forEachRemovedItem(W=>{W.previousValue&&this._toggleClass(W.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem(W=>{if("string"!=typeof W.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(W.item)}`);this._toggleClass(W.item,!0)}),M.forEachRemovedItem(W=>this._toggleClass(W.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(W=>this._toggleClass(W,!0)):Object.keys(M).forEach(W=>this._toggleClass(W,!!M[W])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach(W=>this._toggleClass(W,!1)):Object.keys(M).forEach(W=>this._toggleClass(W,!1)))}_toggleClass(M,W){(M=M.trim())&&M.split(/\s+/g).forEach(le=>{W?this._renderer.addClass(this._ngEl.nativeElement,le):this._renderer.removeClass(this._ngEl.nativeElement,le)})}}return S.\u0275fac=function(M){return new(M||S)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class vs{constructor($,M,W,le){this.$implicit=$,this.ngForOf=M,this.index=W,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ss=(()=>{class S{constructor(M,W,le){this._viewContainer=M,this._template=W,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const W=this._viewContainer;M.forEachOperation((le,Le,rt)=>{if(null==le.previousIndex)W.createEmbeddedView(this._template,new vs(le.item,this._ngForOf,-1,-1),null===rt?void 0:rt);else if(null==rt)W.remove(null===Le?void 0:Le);else if(null!==Le){const Ut=W.get(Le);W.move(Ut,rt),bs(Ut,le)}});for(let le=0,Le=W.length;le<Le;le++){const Ut=W.get(le).context;Ut.index=le,Ut.count=Le,Ut.ngForOf=this._ngForOf}M.forEachIdentityChange(le=>{bs(W.get(le.currentIndex),le)})}static ngTemplateContextGuard(M,W){return!0}}return S.\u0275fac=function(M){return new(M||S)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function bs(S,$){S.context.$implicit=$.item}let zr=(()=>{class S{constructor(M,W){this._viewContainer=M,this._context=new Si,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Ar("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Ar("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,W){return!0}}return S.\u0275fac=function(M){return new(M||S)(p.Y36(p.s_b),p.Y36(p.Rgc))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class Si{constructor(){this.$implicit=null,this.ngIf=null}}function Ar(S,$){if($&&!$.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,p.AaK)($)}'.`)}let ru=(()=>{class S{constructor(M){this._viewContainerRef=M,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(M){if(M.ngTemplateOutlet||M.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:le,ngTemplateOutletContext:Le,ngTemplateOutletInjector:rt}=this;this._viewRef=W.createEmbeddedView(le,Le,rt?{injector:rt}:void 0)}else this._viewRef=null}else this._viewRef&&M.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return S.\u0275fac=function(M){return new(M||S)(p.Y36(p.s_b))},S.\u0275dir=p.lG2({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]}),S})(),ou=(()=>{class S{}return S.\u0275fac=function(M){return new(M||S)},S.\u0275mod=p.oAB({type:S}),S.\u0275inj=p.cJS({}),S})();const Ys="browser";function hl(S){return S===Ys}let pl=(()=>{class S{}return S.\u0275prov=(0,p.Yz7)({token:S,providedIn:"root",factory:()=>new as((0,p.LFG)(Ie),window)}),S})();class as{constructor($,M){this.document=$,this.window=M,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const M=function Vr(S,$){const M=S.getElementById($)||S.getElementsByName($)[0];if(M)return M;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const W=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let le=W.currentNode;for(;le;){const Le=le.shadowRoot;if(Le){const rt=Le.getElementById($)||Le.querySelector(`[name="${$}"]`);if(rt)return rt}le=W.nextNode()}}return null}(this.document,$);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=$)}}scrollToElement($){const M=$.getBoundingClientRect(),W=M.left+this.window.pageXOffset,le=M.top+this.window.pageYOffset,Le=this.offset();this.window.scrollTo(W-Le[0],le-Le[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=ws(this.window.history)||ws(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ws(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class gl{}},529:(kt,qe,G)=>{G.d(qe,{JF:()=>Ai,TP:()=>Nn,eN:()=>ht});var p=G(6895),Z=G(4650),H=G(9646),be=G(9751),Te=G(4351),De=G(9300),Ie=G(4004);class xe{}class Ge{}class We{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(re=>{const He=re.indexOf(":");if(He>0){const nt=re.slice(0,He),Gt=nt.toLowerCase(),Xt=re.slice(He+1).trim();this.maybeSetNormalizedName(nt,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(Xt):this.headers.set(Gt,[Xt])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(re=>{let He=ce[re];const nt=re.toLowerCase();"string"==typeof He&&(He=[He]),He.length>0&&(this.headers.set(nt,He),this.maybeSetNormalizedName(re,nt))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const re=this.headers.get(ce.toLowerCase());return re&&re.length>0?re[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,re){return this.clone({name:ce,value:re,op:"a"})}set(ce,re){return this.clone({name:ce,value:re,op:"s"})}delete(ce,re){return this.clone({name:ce,value:re,op:"d"})}maybeSetNormalizedName(ce,re){this.normalizedNames.has(re)||this.normalizedNames.set(re,ce)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(re=>{this.headers.set(re,ce.headers.get(re)),this.normalizedNames.set(re,ce.normalizedNames.get(re))})}clone(ce){const re=new We;return re.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,re.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),re}applyUpdate(ce){const re=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let He=ce.value;if("string"==typeof He&&(He=[He]),0===He.length)return;this.maybeSetNormalizedName(ce.name,re);const nt=("a"===ce.op?this.headers.get(re):void 0)||[];nt.push(...He),this.headers.set(re,nt);break;case"d":const Gt=ce.value;if(Gt){let Xt=this.headers.get(re);if(!Xt)return;Xt=Xt.filter(bn=>-1===Gt.indexOf(bn)),0===Xt.length?(this.headers.delete(re),this.normalizedNames.delete(re)):this.headers.set(re,Xt)}else this.headers.delete(re),this.normalizedNames.delete(re)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(re=>ce(this.normalizedNames.get(re),this.headers.get(re)))}}class ke{encodeKey(ce){return Nt(ce)}encodeValue(ce){return Nt(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const ut=/%(\d[a-f0-9])/gi,Ae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nt(Je){return encodeURIComponent(Je).replace(ut,(ce,re)=>Ae[re]??ce)}function et(Je){return`${Je}`}class mt{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new ke,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dt(Je,ce){const re=new Map;return Je.length>0&&Je.replace(/^\?/,"").split("&").forEach(nt=>{const Gt=nt.indexOf("="),[Xt,bn]=-1==Gt?[ce.decodeKey(nt),""]:[ce.decodeKey(nt.slice(0,Gt)),ce.decodeValue(nt.slice(Gt+1))],it=re.get(Xt)||[];it.push(bn),re.set(Xt,it)}),re}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(re=>{const He=ce.fromObject[re],nt=Array.isArray(He)?He.map(et):[et(He)];this.map.set(re,nt)})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const re=this.map.get(ce);return re?re[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,re){return this.clone({param:ce,value:re,op:"a"})}appendAll(ce){const re=[];return Object.keys(ce).forEach(He=>{const nt=ce[He];Array.isArray(nt)?nt.forEach(Gt=>{re.push({param:He,value:Gt,op:"a"})}):re.push({param:He,value:nt,op:"a"})}),this.clone(re)}set(ce,re){return this.clone({param:ce,value:re,op:"s"})}delete(ce,re){return this.clone({param:ce,value:re,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const re=this.encoder.encodeKey(ce);return this.map.get(ce).map(He=>re+"="+this.encoder.encodeValue(He)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const re=new mt({encoder:this.encoder});return re.cloneFrom=this.cloneFrom||this,re.updates=(this.updates||[]).concat(ce),re}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const re=("a"===ce.op?this.map.get(ce.param):void 0)||[];re.push(et(ce.value)),this.map.set(ce.param,re);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let He=this.map.get(ce.param)||[];const nt=He.indexOf(et(ce.value));-1!==nt&&He.splice(nt,1),He.length>0?this.map.set(ce.param,He):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class yn{constructor(){this.map=new Map}set(ce,re){return this.map.set(ce,re),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function _e(Je){return typeof ArrayBuffer<"u"&&Je instanceof ArrayBuffer}function ot(Je){return typeof Blob<"u"&&Je instanceof Blob}function qt(Je){return typeof FormData<"u"&&Je instanceof FormData}class lt{constructor(ce,re,He,nt){let Gt;if(this.url=re,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function Ve(Je){switch(Je){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||nt?(this.body=void 0!==He?He:null,Gt=nt):Gt=He,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new We),this.context||(this.context=new yn),this.params){const Xt=this.params.toString();if(0===Xt.length)this.urlWithParams=re;else{const bn=re.indexOf("?");this.urlWithParams=re+(-1===bn?"?":bn<re.length-1?"&":"")+Xt}}else this.params=new mt,this.urlWithParams=re}serializeBody(){return null===this.body?null:_e(this.body)||ot(this.body)||qt(this.body)||function at(Je){return typeof URLSearchParams<"u"&&Je instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qt(this.body)?null:ot(this.body)?this.body.type||null:_e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){const re=ce.method||this.method,He=ce.url||this.url,nt=ce.responseType||this.responseType,Gt=void 0!==ce.body?ce.body:this.body,Xt=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,bn=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let it=ce.headers||this.headers,Zn=ce.params||this.params;const kn=ce.context??this.context;return void 0!==ce.setHeaders&&(it=Object.keys(ce.setHeaders).reduce((wr,hn)=>wr.set(hn,ce.setHeaders[hn]),it)),ce.setParams&&(Zn=Object.keys(ce.setParams).reduce((wr,hn)=>wr.set(hn,ce.setParams[hn]),Zn)),new lt(re,He,Gt,{params:Zn,headers:it,context:kn,reportProgress:bn,responseType:nt,withCredentials:Xt})}}var ft=(()=>((ft=ft||{})[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft))();class Ee{constructor(ce,re=200,He="OK"){this.headers=ce.headers||new We,this.status=void 0!==ce.status?ce.status:re,this.statusText=ce.statusText||He,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class Me extends Ee{constructor(ce={}){super(ce),this.type=ft.ResponseHeader}clone(ce={}){return new Me({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Qe extends Ee{constructor(ce={}){super(ce),this.type=ft.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new Qe({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class Pe extends Ee{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function _t(Je,ce){return{body:ce,headers:Je.headers,context:Je.context,observe:Je.observe,params:Je.params,reportProgress:Je.reportProgress,responseType:Je.responseType,withCredentials:Je.withCredentials}}let ht=(()=>{class Je{constructor(re){this.handler=re}request(re,He,nt={}){let Gt;if(re instanceof lt)Gt=re;else{let it,Zn;it=nt.headers instanceof We?nt.headers:new We(nt.headers),nt.params&&(Zn=nt.params instanceof mt?nt.params:new mt({fromObject:nt.params})),Gt=new lt(re,He,void 0!==nt.body?nt.body:null,{headers:it,context:nt.context,params:Zn,reportProgress:nt.reportProgress,responseType:nt.responseType||"json",withCredentials:nt.withCredentials})}const Xt=(0,H.of)(Gt).pipe((0,Te.b)(it=>this.handler.handle(it)));if(re instanceof lt||"events"===nt.observe)return Xt;const bn=Xt.pipe((0,De.h)(it=>it instanceof Qe));switch(nt.observe||"body"){case"body":switch(Gt.responseType){case"arraybuffer":return bn.pipe((0,Ie.U)(it=>{if(null!==it.body&&!(it.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return it.body}));case"blob":return bn.pipe((0,Ie.U)(it=>{if(null!==it.body&&!(it.body instanceof Blob))throw new Error("Response is not a Blob.");return it.body}));case"text":return bn.pipe((0,Ie.U)(it=>{if(null!==it.body&&"string"!=typeof it.body)throw new Error("Response is not a string.");return it.body}));default:return bn.pipe((0,Ie.U)(it=>it.body))}case"response":return bn;default:throw new Error(`Unreachable: unhandled observe type ${nt.observe}}`)}}delete(re,He={}){return this.request("DELETE",re,He)}get(re,He={}){return this.request("GET",re,He)}head(re,He={}){return this.request("HEAD",re,He)}jsonp(re,He){return this.request("JSONP",re,{params:(new mt).append(He,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(re,He={}){return this.request("OPTIONS",re,He)}patch(re,He,nt={}){return this.request("PATCH",re,_t(nt,He))}post(re,He,nt={}){return this.request("POST",re,_t(nt,He))}put(re,He,nt={}){return this.request("PUT",re,_t(nt,He))}}return Je.\u0275fac=function(re){return new(re||Je)(Z.LFG(xe))},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})();class Yt{constructor(ce,re){this.next=ce,this.interceptor=re}handle(ce){return this.interceptor.intercept(ce,this.next)}}const Nn=new Z.OlP("HTTP_INTERCEPTORS");let $n=(()=>{class Je{intercept(re,He){return He.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const Yi=/^\)\]\}',?\n/;let ms=(()=>{class Je{constructor(re){this.xhrFactory=re}handle(re){if("JSONP"===re.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(He=>{const nt=this.xhrFactory.build();if(nt.open(re.method,re.urlWithParams),re.withCredentials&&(nt.withCredentials=!0),re.headers.forEach((en,mn)=>nt.setRequestHeader(en,mn.join(","))),re.headers.has("Accept")||nt.setRequestHeader("Accept","application/json, text/plain, */*"),!re.headers.has("Content-Type")){const en=re.detectContentTypeHeader();null!==en&&nt.setRequestHeader("Content-Type",en)}if(re.responseType){const en=re.responseType.toLowerCase();nt.responseType="json"!==en?en:"text"}const Gt=re.serializeBody();let Xt=null;const bn=()=>{if(null!==Xt)return Xt;const en=nt.statusText||"OK",mn=new We(nt.getAllResponseHeaders()),ar=function Dr(Je){return"responseURL"in Je&&Je.responseURL?Je.responseURL:/^X-Request-URL:/m.test(Je.getAllResponseHeaders())?Je.getResponseHeader("X-Request-URL"):null}(nt)||re.url;return Xt=new Me({headers:mn,status:nt.status,statusText:en,url:ar}),Xt},it=()=>{let{headers:en,status:mn,statusText:ar,url:lr}=bn(),Un=null;204!==mn&&(Un=typeof nt.response>"u"?nt.responseText:nt.response),0===mn&&(mn=Un?200:0);let $r=mn>=200&&mn<300;if("json"===re.responseType&&"string"==typeof Un){const oi=Un;Un=Un.replace(Yi,"");try{Un=""!==Un?JSON.parse(Un):null}catch(ur){Un=oi,$r&&($r=!1,Un={error:ur,text:Un})}}$r?(He.next(new Qe({body:Un,headers:en,status:mn,statusText:ar,url:lr||void 0})),He.complete()):He.error(new Pe({error:Un,headers:en,status:mn,statusText:ar,url:lr||void 0}))},Zn=en=>{const{url:mn}=bn(),ar=new Pe({error:en,status:nt.status||0,statusText:nt.statusText||"Unknown Error",url:mn||void 0});He.error(ar)};let kn=!1;const wr=en=>{kn||(He.next(bn()),kn=!0);let mn={type:ft.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(mn.total=en.total),"text"===re.responseType&&!!nt.responseText&&(mn.partialText=nt.responseText),He.next(mn)},hn=en=>{let mn={type:ft.UploadProgress,loaded:en.loaded};en.lengthComputable&&(mn.total=en.total),He.next(mn)};return nt.addEventListener("load",it),nt.addEventListener("error",Zn),nt.addEventListener("timeout",Zn),nt.addEventListener("abort",Zn),re.reportProgress&&(nt.addEventListener("progress",wr),null!==Gt&&nt.upload&&nt.upload.addEventListener("progress",hn)),nt.send(Gt),He.next({type:ft.Sent}),()=>{nt.removeEventListener("error",Zn),nt.removeEventListener("abort",Zn),nt.removeEventListener("load",it),nt.removeEventListener("timeout",Zn),re.reportProgress&&(nt.removeEventListener("progress",wr),null!==Gt&&nt.upload&&nt.upload.removeEventListener("progress",hn)),nt.readyState!==nt.DONE&&nt.abort()}})}}return Je.\u0275fac=function(re){return new(re||Je)(Z.LFG(p.JF))},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})();const ki=new Z.OlP("XSRF_COOKIE_NAME"),un=new Z.OlP("XSRF_HEADER_NAME");class or{}let br=(()=>{class Je{constructor(re,He,nt){this.doc=re,this.platform=He,this.cookieName=nt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const re=this.doc.cookie||"";return re!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(re,this.cookieName),this.lastCookieString=re),this.lastToken}}return Je.\u0275fac=function(re){return new(re||Je)(Z.LFG(p.K0),Z.LFG(Z.Lbi),Z.LFG(ki))},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Tr=(()=>{class Je{constructor(re,He){this.tokenService=re,this.headerName=He}intercept(re,He){const nt=re.url.toLowerCase();if("GET"===re.method||"HEAD"===re.method||nt.startsWith("http://")||nt.startsWith("https://"))return He.handle(re);const Gt=this.tokenService.getToken();return null!==Gt&&!re.headers.has(this.headerName)&&(re=re.clone({headers:re.headers.set(this.headerName,Gt)})),He.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)(Z.LFG(or),Z.LFG(un))},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),Pt=(()=>{class Je{constructor(re,He){this.backend=re,this.injector=He,this.chain=null}handle(re){if(null===this.chain){const He=this.injector.get(Nn,[]);this.chain=He.reduceRight((nt,Gt)=>new Yt(nt,Gt),this.backend)}return this.chain.handle(re)}}return Je.\u0275fac=function(re){return new(re||Je)(Z.LFG(Ge),Z.LFG(Z.zs3))},Je.\u0275prov=Z.Yz7({token:Je,factory:Je.\u0275fac}),Je})(),qn=(()=>{class Je{static disable(){return{ngModule:Je,providers:[{provide:Tr,useClass:$n}]}}static withOptions(re={}){return{ngModule:Je,providers:[re.cookieName?{provide:ki,useValue:re.cookieName}:[],re.headerName?{provide:un,useValue:re.headerName}:[]]}}}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275mod=Z.oAB({type:Je}),Je.\u0275inj=Z.cJS({providers:[Tr,{provide:Nn,useExisting:Tr,multi:!0},{provide:or,useClass:br},{provide:ki,useValue:"XSRF-TOKEN"},{provide:un,useValue:"X-XSRF-TOKEN"}]}),Je})(),Ai=(()=>{class Je{}return Je.\u0275fac=function(re){return new(re||Je)},Je.\u0275mod=Z.oAB({type:Je}),Je.\u0275inj=Z.cJS({providers:[ht,{provide:xe,useClass:Pt},ms,{provide:Ge,useExisting:ms}],imports:[qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Je})()},4650:(kt,qe,G)=>{G.d(qe,{$8M:()=>tp,$Z:()=>Um,AFp:()=>Eg,AaK:()=>xe,CHM:()=>ha,CRH:()=>_b,CZH:()=>Gd,CqO:()=>LD,D6c:()=>Aw,DdM:()=>N_,EJc:()=>Rb,EpF:()=>FD,F$t:()=>R0,F4k:()=>VD,FYo:()=>Cp,FiY:()=>Du,G48:()=>kC,Gf:()=>Kr,GfV:()=>QE,Gpc:()=>Fe,Gre:()=>uT,Hsn:()=>$D,Ikx:()=>Xp,JOm:()=>Bn,KtG:()=>Ho,LFG:()=>hi,LSH:()=>ge,Lbi:()=>Sf,Lck:()=>Fd,MAs:()=>xD,MGl:()=>u_,MMx:()=>Zo,NdJ:()=>C0,O4$:()=>ic,OlP:()=>rr,Oqu:()=>L0,PXZ:()=>Ag,Q6J:()=>E0,QGY:()=>I0,QP$:()=>Ir,QbO:()=>Rf,Qsj:()=>Fu,QtT:()=>I_,R0b:()=>ea,RDi:()=>Dm,Rgc:()=>Ud,SBq:()=>ku,SDv:()=>kT,Sil:()=>Tg,Suo:()=>zl,TTD:()=>aa,TgZ:()=>o_,Tol:()=>eT,Udp:()=>x0,VKq:()=>UT,W1O:()=>bf,WFA:()=>A0,WLB:()=>dg,XFs:()=>Pt,Xpm:()=>lr,Xts:()=>En,Y36:()=>Ic,YKP:()=>nl,YNc:()=>v0,Yjl:()=>li,Yz7:()=>Mn,Z0I:()=>si,ZZ4:()=>Qb,_Bn:()=>VT,_UZ:()=>l_,_Vd:()=>md,_c5:()=>Cw,_uU:()=>rT,aQg:()=>xg,c2e:()=>zs,cJS:()=>sr,cg1:()=>Y0,d8E:()=>eg,dDg:()=>NC,dqk:()=>nt,eFA:()=>Sg,ekj:()=>Qp,eoX:()=>fw,f3M:()=>sd,g9A:()=>Ab,h0i:()=>kd,hGG:()=>$C,hij:()=>__,iGM:()=>Gl,ifc:()=>He,ip1:()=>Af,jDz:()=>kc,kEZ:()=>Fc,kL8:()=>yT,kcU:()=>El,lG2:()=>ai,lqb:()=>wa,lri:()=>Ob,n5z:()=>ac,oAB:()=>ur,oxw:()=>jD,pQV:()=>w_,qLn:()=>Np,qOj:()=>d0,qZA:()=>a_,rWj:()=>Cg,s9C:()=>N0,sBO:()=>yw,sIi:()=>Td,s_b:()=>gg,soG:()=>Dg,tb:()=>Sb,tp0:()=>uh,uIk:()=>n_,vHH:()=>Ae,vpe:()=>$l,wAp:()=>cn,xp6:()=>Pm,z2F:()=>Rg,zSh:()=>Ps,zs3:()=>Vu});var p=G(7579),Z=G(727),H=G(9751),be=G(6451),Te=G(3099);function De(i){for(let s in i)if(i[s]===De)return s;throw Error("Could not find renamed property on target object.")}function Ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function xe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(xe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const We=De({__forward_ref__:De});function Fe(i){return i.__forward_ref__=Fe,i.toString=function(){return xe(this())},i}function ke(i){return Dt(i)?i():i}function Dt(i){return"function"==typeof i&&i.hasOwnProperty(We)&&i.__forward_ref__===Fe}class Ae extends Error{constructor(s,a){super(function Nt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function et(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i,s){throw new Ae(-201,!1)}function Tt(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}function Mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function sr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Qt(i){return Yi(i,un)||Yi(i,br)}function si(i){return null!==Qt(i)}function Yi(i,s){return i.hasOwnProperty(s)?i[s]:null}function ki(i){return i&&(i.hasOwnProperty(or)||i.hasOwnProperty(Tr))?i[or]:null}const un=De({\u0275prov:De}),or=De({\u0275inj:De}),br=De({ngInjectableDef:De}),Tr=De({ngInjectorDef:De});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let xn;function qn(i){const s=xn;return xn=i,s}function Ai(i,s,a){const u=Qt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Pt.Optional?null:void 0!==s?s:void _e(xe(i))}function kr(i){return{toString:i}.toString()}var Je=(()=>((Je=Je||{})[Je.OnPush=0]="OnPush",Je[Je.Default=1]="Default",Je))(),He=(()=>{return(i=He||(He={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",He;var i})();const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bn={},it=[],Zn=De({\u0275cmp:De}),kn=De({\u0275dir:De}),wr=De({\u0275pipe:De}),hn=De({\u0275mod:De}),en=De({\u0275fac:De}),mn=De({__NG_ELEMENT_ID__:De});let ar=0;function lr(i){return kr(()=>{const a=!0===i.standalone,u={},h={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Je.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||it,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||He.Emulated,id:"c"+ar++,styles:i.styles||it,_:null,setInput:null,schemas:i.schemas||null,tView:null},m=i.dependencies,E=i.features;return h.inputs=Vi(i.inputs,u),h.outputs=Vi(i.outputs),E&&E.forEach(C=>C(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map($r).filter(oi):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(wn).filter(oi):null,h})}function $r(i){return Tn(i)||Fr(i)}function oi(i){return null!==i}function ur(i){return kr(()=>({type:i.type,bootstrap:i.bootstrap||it,declarations:i.declarations||it,imports:i.imports||it,exports:i.exports||it,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Vi(i,s){if(null==i)return bn;const a={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,s&&(s[h]=m)}return a}const ai=lr;function li(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tn(i){return i[Zn]||null}function Fr(i){return i[kn]||null}function wn(i){return i[wr]||null}function Ir(i){const s=Tn(i)||Fr(i)||wn(i);return null!==s&&s.standalone}function zn(i,s){const a=i[hn]||null;if(!a&&!0===s)throw new Error(`Type ${xe(i)} does not have '\u0275mod' property.`);return a}function Ar(i){return Array.isArray(i)&&"object"==typeof i[1]}function Sr(i){return Array.isArray(i)&&!0===i[1]}function Es(i){return 0!=(8&i.flags)}function co(i){return 2==(2&i.flags)}function Ds(i){return 1==(1&i.flags)}function Bi(i){return null!==i.template}function xo(i){return 0!=(256&i[2])}function Fs(i,s){return i.hasOwnProperty(en)?i[en]:null}class Vo{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function aa(){return ho}function ho(i){return i.type.prototype.ngOnChanges&&(i.setInput=Bo),Lo}function Lo(){const i=dl(this),s=i?.current;if(s){const a=i.previous;if(a===bn)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Bo(i,s,a,u){const h=dl(i)||function ou(i,s){return i[Ks]=s}(i,{previous:bn,current:null}),m=h.current||(h.current={}),E=h.previous,C=this.declaredInputs[a],R=E[C];m[C]=new Vo(R&&R.currentValue,s,E===bn),i[u]=s}aa.ngInherit=!0;const Ks="__ngSimpleChanges__";function dl(i){return i[Ks]||null}function Rr(i){for(;Array.isArray(i);)i=i[0];return i}function ws(i,s){return Rr(s[i])}function Vr(i,s){return Rr(s[i.index])}function gl(i,s){return i.data[s]}function ui(i,s){const a=s[i];return Ar(a)?a:a[0]}function Ua(i){return 64==(64&i[2])}function Zi(i,s){return null==s?null:i[s]}function Ls(i){i[18]=0}function bi(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const Jt={lFrame:Qc(null),bindingsEnabled:!0};function Ha(){return Jt.bindingsEnabled}function st(){return Jt.lFrame.lView}function Pn(){return Jt.lFrame.tView}function ha(i){return Jt.lFrame.contextLView=i,i[8]}function Ho(i){return Jt.lFrame.contextLView=null,i}function dr(){let i=uu();for(;null!==i&&64===i.type;)i=i.parent;return i}function uu(){return Jt.lFrame.currentTNode}function ls(){const i=Jt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Is(i,s){const a=Jt.lFrame;a.currentTNode=i,a.isParent=s}function yl(){return Jt.lFrame.isParent}function cu(){Jt.lFrame.isParent=!1}function P(){const i=Jt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Vt(){return Jt.lFrame.bindingIndex++}function Hn(i){const s=Jt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Zs(i){Jt.lFrame.inI18n=i}function po(i,s){const a=Jt.lFrame;a.bindingIndex=a.bindingRootIndex=i,go(s)}function go(i){Jt.lFrame.currentDirectiveIndex=i}function jo(i){const s=Jt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function vl(){return Jt.lFrame.currentQueryIndex}function fa(i){Jt.lFrame.currentQueryIndex=i}function Yc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function tc(i,s,a){if(a&Pt.SkipSelf){let h=s,m=i;for(;!(h=h.parent,null!==h||a&Pt.Host||(h=Yc(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;s=h,i=m}const u=Jt.lFrame=Lr();return u.currentTNode=s,u.lView=i,!0}function eo(i){const s=Lr(),a=i[1];Jt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Lr(){const i=Jt.lFrame,s=null===i?null:i.child;return null===s?Qc(i):s}function Qc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xi(){const i=Jt.lFrame;return Jt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const nc=Xi;function bl(){const i=Xi();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ci(){return Jt.lFrame.selectedIndex}function Bs(i){Jt.lFrame.selectedIndex=i}function mr(){const i=Jt.lFrame;return gl(i.tView,i.selectedIndex)}function ic(){Jt.lFrame.currentNamespace="svg"}function El(){!function Jf(){Jt.lFrame.currentNamespace=null}()}function sc(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const m=i.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:U,ngOnDestroy:q}=m;E&&(i.contentHooks||(i.contentHooks=[])).push(-a,E),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),R&&(i.viewHooks||(i.viewHooks=[])).push(-a,R),U&&((i.viewHooks||(i.viewHooks=[])).push(a,U),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,U)),null!=q&&(i.destroyHooks||(i.destroyHooks=[])).push(a,q)}}function ja(i,s,a){K(i,s,3,a)}function mo(i,s,a,u){(3&i[2])===a&&K(i,s,a,u)}function oc(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function K(i,s,a,u){const m=u??-1,E=s.length-1;let C=0;for(let R=void 0!==u?65535&i[18]:0;R<E;R++)if("number"==typeof s[R+1]){if(C=s[R],null!=u&&C>=u)break}else s[R]<0&&(i[18]+=65536),(C<m||-1==m)&&(rh(i,a,s,R),i[18]=(4294901760&i[18])+R+2),R++}function rh(i,s,a,u){const h=a[u]<0,m=a[u+1],C=i[h?-a[u]:a[u]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class fu{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function W(i,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const m=a[u++],E=a[u++],C=a[u++];i.setAttribute(s,E,C,m)}else{const m=h,E=a[++u];Le(m)?i.setProperty(s,m,E):i.setAttribute(s,m,E),u++}}return u}function le(i){return 3===i||4===i||6===i}function Le(i){return 64===i.charCodeAt(0)}function rt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Ut(i,a,h,null,-1===a||2===a?s[++u]:null)}}return i}function Ut(i,s,a,u,h){let m=0,E=i.length;if(-1===s)E=-1;else for(;m<i.length;){const C=i[m++];if("number"==typeof C){if(C===s){E=-1;break}if(C>s){E=m-1;break}}}for(;m<i.length;){const C=i[m];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(i[m+1]=h));if(u===i[m+1])return void(i[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==E&&(i.splice(E,0,s),m=E+1),i.splice(m++,0,a),null!==u&&i.splice(m++,0,u),null!==h&&i.splice(m++,0,h)}function jn(i){return-1!==i}function gn(i){return 32767&i}function sn(i,s){let a=function On(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Br=!0;function Kn(i){const s=Br;return Br=i,s}let In=0;const di={};function vo(i,s){const a=gu(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,bo(u.data,i),bo(s,null),bo(u.blueprint,null));const h=mu(i,s),m=i.injectorIndex;if(jn(h)){const E=gn(h),C=sn(h,s),R=C[1].data;for(let U=0;U<8;U++)s[m+U]=C[E+U]|R[E+U]}return s[m+8]=h,m}function bo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function gu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=Py(h),null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Eo(i,s,a){!function yo(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(mn)&&(u=a[mn]),null==u&&(u=a[mn]=In++);const h=255&u;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function ed(i,s,a){if(a&Pt.Optional||void 0!==i)return i;_e()}function ep(i,s,a,u){if(a&Pt.Optional&&void 0===u&&(u=null),0==(a&(Pt.Self|Pt.Host))){const h=i[9],m=qn(void 0);try{return h?h.get(s,u,a&Pt.Optional):Ai(s,u,a&Pt.Optional)}finally{qn(m)}}return ed(u,0,a)}function td(i,s,a,u=Pt.Default,h){if(null!==i){if(1024&s[2]){const E=function lc(i,s,a,u,h){let m=i,E=s;for(;null!==m&&null!==E&&1024&E[2]&&!(256&E[2]);){const C=pa(m,E,a,u|Pt.Self,di);if(C!==di)return C;let R=m.parent;if(!R){const U=E[21];if(U){const q=U.get(a,di,u);if(q!==di)return q}R=Py(E),E=E[15]}m=R}return h}(i,s,a,u,di);if(E!==di)return E}const m=pa(i,s,a,u,di);if(m!==di)return m}return ep(s,a,u,h)}function pa(i,s,a,u,h){const m=function ih(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(mn)?i[mn]:void 0;return"number"==typeof s?s>=0?255&s:nd:s}(a);if("function"==typeof m){if(!tc(s,i,u))return u&Pt.Host?ed(h,0,u):ep(s,a,u,h);try{const E=m(u);if(null!=E||u&Pt.Optional)return E;_e()}finally{nc()}}else if("number"==typeof m){let E=null,C=gu(i,s),R=-1,U=u&Pt.Host?s[16][6]:null;for((-1===C||u&Pt.SkipSelf)&&(R=-1===C?mu(i,s):s[C+8],-1!==R&&Us(u,!1)?(E=s[1],C=gn(R),s=sn(R,s)):C=-1);-1!==C;){const q=s[1];if(Di(m,C,q.data)){const X=_u(C,s,a,E,u,U);if(X!==di)return X}R=s[C+8],-1!==R&&Us(u,s[1].data[C+8]===U)&&Di(m,C,s)?(E=q,C=gn(R),s=sn(R,s)):C=-1}}return h}function _u(i,s,a,u,h,m){const E=s[1],C=E.data[i+8],q=yu(C,E,a,null==u?co(C)&&Br:u!=E&&0!=(3&C.type),h&Pt.Host&&m===C);return null!==q?Ur(s,E,q,C):di}function yu(i,s,a,u,h){const m=i.providerIndexes,E=s.data,C=1048575&m,R=i.directiveStart,q=m>>20,pe=h?C+q:i.directiveEnd;for(let Ce=u?C:C+q;Ce<pe;Ce++){const Ze=E[Ce];if(Ce<R&&a===Ze||Ce>=R&&Ze.type===a)return Ce}if(h){const Ce=E[R];if(Ce&&Bi(Ce)&&Ce.type===a)return R}return null}function Ur(i,s,a,u){let h=i[a];const m=s.data;if(function Xf(i){return i instanceof fu}(h)){const E=h;E.resolving&&function pn(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${i}${a}`)}(function mt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():et(i)}(m[a]));const C=Kn(E.canSeeViewProviders);E.resolving=!0;const R=E.injectImpl?qn(E.injectImpl):null;tc(i,u,Pt.Default);try{h=i[a]=E.factory(void 0,m,i,u),s.firstCreatePass&&a>=u.directiveStart&&function Jc(i,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(u){const E=ho(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,E),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,E)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m))}(a,m[a],s)}finally{null!==R&&qn(R),Kn(C),E.resolving=!1,nc()}}return h}function Di(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Us(i,s){return!(i&Pt.Self||i&Pt.Host&&s)}class $o{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return td(this._tNode,this._lView,s,u,a)}}function nd(){return new $o(dr(),st())}function ac(i){return kr(()=>{const s=i.prototype.constructor,a=s[en]||sh(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const m=h[en]||sh(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function sh(i){return Dt(i)?()=>{const s=sh(ke(i));return s&&s()}:Fs(i)}function Py(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function tp(i){return function Ei(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(le(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===s)return a[h+1];h+=2}}}return null}(dr(),i)}const $a="__parameters__";function no(i,s,a){return kr(()=>{const u=function uc(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...m){if(this instanceof h)return u.apply(this,m),this;const E=new h(...m);return C.annotation=E,C;function C(R,U,q){const X=R.hasOwnProperty($a)?R[$a]:Object.defineProperty(R,$a,{value:[]})[$a];for(;X.length<=q;)X.push(null);return(X[q]=X[q]||[]).push(E),R}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class rr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ss(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Ss(u,s)):s!==i&&s.push(u)}return s}function Ti(i,s){i.forEach(a=>Array.isArray(a)?Ti(a,s):s(a))}function sp(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function rd(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Il(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function k(i,s,a){let u=ee(i,s);return u>=0?i[1|u]=a:(u=~u,function w(i,s,a,u){let h=i.length;if(h==s)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function z(i,s){const a=ee(i,s);if(a>=0)return i[1|a]}function ee(i,s){return function $e(i,s,a){let u=0,h=i.length>>a;for(;h!==u;){const m=u+(h-u>>1),E=i[m<<a];if(s===E)return m<<a;E>s?h=m:u=m+1}return~(h<<a)}(i,s,1)}const va={},ah="__NG_DI_FLAG__",op="ngTempTokenPath",ky=/\n/gm,Fy="__source";let Wr;function bu(i){const s=Wr;return Wr=i,s}function Vy(i,s=Pt.Default){if(void 0===Wr)throw new Ae(-203,!1);return null===Wr?Ai(i,void 0,s):Wr.get(i,s&Pt.Optional?null:void 0,s)}function hi(i,s=Pt.Default){return(function Gn(){return xn}()||Vy)(ke(i),s)}function sd(i,s=Pt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),hi(i,s)}function lh(i){const s=[];for(let a=0;a<i.length;a++){const u=ke(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Ae(900,!1);let h,m=Pt.Default;for(let E=0;E<u.length;E++){const C=u[E],R=Ly(C);"number"==typeof R?-1===R?h=C.token:m|=R:h=C}s.push(hi(h,m))}else s.push(hi(u))}return s}function Eu(i,s){return i[ah]=s,i.prototype[ah]=s,i}function Ly(i){return i[ah]}const Du=Eu(no("Optional"),8),uh=Eu(no("SkipSelf"),4);var Bn=(()=>((Bn=Bn||{})[Bn.Important=1]="Important",Bn[Bn.DashCase=2]="DashCase",Bn))();const dh=/^>|^->|<!--|-->|--!>|<!-$/g,Ga=/(<|>)/;const fh=new Map;let Nr=0;const Sl="__ngContext__";function ti(i,s){Ar(s)?(i[Sl]=s[20],function ad(i){fh.set(i[20],i)}(s)):i[Sl]=s}let gm;function mh(i,s){return gm(i,s)}function _h(i){const s=i[3];return Sr(s)?s[3]:s}function fp(i){return pp(i[13])}function mm(i){return pp(i[4])}function pp(i){for(;null!==i&&!Sr(i);)i=i[4];return i}function Rl(i,s,a,u,h){if(null!=u){let m,E=!1;Sr(u)?m=u:Ar(u)&&(E=!0,u=u[0]);const C=Rr(u);0===i&&null!==a?null==h?Au(s,a,C):Cu(s,a,C,h||null,!0):1===i&&null!==a?Cu(s,a,C,h||null,!0):2===i?gc(s,C,E):3===i&&s.destroyNode(C),null!=m&&function Dh(i,s,a,u,h){const m=a[7];m!==Rr(a)&&Rl(s,i,u,m,h);for(let C=10;C<a.length;C++){const R=a[C];Ms(R[1],R,i,s,u,m)}}(s,i,m,a,h)}}function yh(i,s){return i.createText(s)}function vh(i,s,a){i.setValue(s,a)}function bh(i,s){return i.createComment(function hm(i){return i.replace(dh,s=>s.replace(Ga,"\u200b$1\u200b"))}(s))}function ud(i,s,a){return i.createElement(s,a)}function gp(i,s){const a=i[9],u=a.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,bi(h,-1)),a.splice(u,1)}function Iu(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const h=u[17];null!==h&&h!==i&&gp(h,u),s>0&&(i[a-1][4]=u[4]);const m=rd(i,10+s);!function cd(i,s){Ms(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const E=m[19];null!==E&&E.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function hc(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&Ms(i,s,a,3,null,null),function Nl(i){let s=i[13];if(!s)return mp(i[1],i);for(;s;){let a=null;if(Ar(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Ar(s)&&mp(s[1],s),s=s[3];null===s&&(s=i),Ar(s)&&mp(s[1],s),a=s&&s[4]}s=a}}(s)}}function mp(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function GE(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof fu)){const m=a[u+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const C=h[m[E]],R=m[E+1];try{R.call(C)}finally{}}else try{m.call(h)}finally{}}}}(i,s),function _p(i,s){const a=i.cleanup,u=s[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const E=a[m+1],C="function"==typeof E?E(s):Rr(s[E]),R=u[h=a[m+2]],U=a[m+3];"boolean"==typeof U?C.removeEventListener(a[m],R,U):U>=0?u[h=U]():u[h=-U].unsubscribe(),m+=2}else{const E=u[h=a[m+1]];a[m].call(E)}if(null!==u){for(let m=h+1;m<u.length;m++)(0,u[m])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Sr(s[3])){a!==s[3]&&gp(a,s);const u=s[19];null!==u&&u.detachView(i)}!function cp(i){fh.delete(i[20])}(s)}}function fc(i,s,a){return tv(i,s.parent,a)}function tv(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const h=i.data[u.directiveStart].encapsulation;if(h===He.None||h===He.Emulated)return null}return Vr(u,a)}function Cu(i,s,a,u,h){i.insertBefore(s,a,u,h)}function Au(i,s,a){i.appendChild(s,a)}function yp(i,s,a,u,h){null!==u?Cu(i,s,a,u,h):Au(i,s,a)}function pc(i,s){return i.parentNode(s)}function vm(i,s,a){return bm(i,s,a)}function dd(i,s,a){return 40&i.type?Vr(i,a):null}let Ml,Pl,Mr,bm=dd;function Hi(i,s){bm=i,Ml=s}function fi(i,s,a,u){const h=fc(i,u,s),m=s[11],C=vm(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(a))for(let R=0;R<a.length;R++)yp(m,h,a[R],C,!1);else yp(m,h,a,C,!1);void 0!==Ml&&Ml(m,u,s,a,h)}function Su(i,s){if(null!==s){const a=s.type;if(3&a)return Vr(s,i);if(4&a)return qa(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return Su(i,u);{const h=i[s.index];return Sr(h)?qa(-1,h):Rr(h)}}if(32&a)return mh(s,i)()||Rr(i[s.index]);{const u=Ni(i,s);return null!==u?Array.isArray(u)?u[0]:Su(_h(i[16]),u):Su(i,s.next)}}return null}function Ni(i,s){return null!==s?i[16][6].projection[s.projection]:null}function qa(i,s){const a=10+i+1;if(a<s.length){const u=s[a],h=u[1].firstChild;if(null!==h)return Su(u,h)}return s[7]}function gc(i,s,a){const u=pc(i,s);u&&function ym(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}function gt(i,s,a,u,h,m,E){for(;null!=a;){const C=u[a.index],R=a.type;if(E&&0===s&&(C&&ti(Rr(C),u),a.flags|=4),64!=(64&a.flags))if(8&R)gt(i,s,a.child,u,h,m,!1),Rl(s,i,h,C,m);else if(32&R){const U=mh(a,u);let q;for(;q=U();)Rl(s,i,h,q,m);Rl(s,i,h,C,m)}else 16&R?Ru(i,s,u,a,h,m):Rl(s,i,h,C,m);a=E?a.projectionNext:a.next}}function Ms(i,s,a,u,h,m){gt(a,u,i.firstChild,s,h,m,!1)}function Ru(i,s,a,u,h,m){const E=a[16],R=E[6].projection[u.projection];if(Array.isArray(R))for(let U=0;U<R.length;U++)Rl(s,i,h,R[U],m);else gt(i,s,R,E[3],h,m,!0)}function iv(i,s,a){i.setAttribute(s,"style",a)}function Th(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Ol(i){return function hd(){if(void 0===Pl&&(Pl=null,nt.trustedTypes))try{Pl=nt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Pl}()?.createHTML(i)||i}function Dm(i){Mr=i}class bp{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Nu(i){return i instanceof bp?i.changingThisBreaksApplicationSecurity:i}class Am{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Ol(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Ih{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ol(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Ol(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let h=a.length-1;0<h;h--){const E=a.item(h).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&s.removeAttribute(E)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const qE=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ch(i){return(i=String(i)).match(qE)?i:"unsafe:"+i}function To(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function xl(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const Dp=To("area,br,col,hr,img,wbr"),Ta=To("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ah=To("rp,rt"),yc=xl(Dp,xl(Ta,To("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xl(Ah,To("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xl(Ah,Ta)),Sh=To("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fv=xl(Sh,To("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),To("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var A=(()=>((A=A||{})[A.NONE=0]="NONE",A[A.HTML=1]="HTML",A[A.STYLE=2]="STYLE",A[A.SCRIPT=3]="SCRIPT",A[A.URL=4]="URL",A[A.RESOURCE_URL=5]="RESOURCE_URL",A))();function ge(i){const s=function _n(){const i=st();return i&&i[12]}();return s?s.sanitize(A.URL,i)||"":function mc(i,s){const a=function Im(i){return i instanceof bp&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Nu(i):Ch(et(i))}const En=new rr("ENVIRONMENT_INITIALIZER"),Fn=new rr("INJECTOR",-1),Pr=new rr("INJECTOR_DEF_TYPES");class An{get(s,a=va){if(a===va){const u=new Error(`NullInjectorError: No provider for ${xe(s)}!`);throw u.name="NullInjectorError",u}return a}}function Yn(...i){return{\u0275providers:Xn(0,i)}}function Xn(i,...s){const a=[],u=new Set;let h;return Ti(s,m=>{const E=m;_r(E,a,[],u)&&(h||(h=[]),h.push(E))}),void 0!==h&&Or(h,a),a}function Or(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];Ti(h,m=>{s.push(m)})}}function _r(i,s,a,u){if(!(i=ke(i)))return!1;let h=null,m=ki(i);const E=!m&&Tn(i);if(m||E){if(E&&!E.standalone)return!1;h=i}else{const R=i.ngModule;if(m=ki(R),!m)return!1;h=R}const C=u.has(h);if(E){if(C)return!1;if(u.add(h),E.dependencies){const R="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const U of R)_r(U,s,a,u)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let U;u.add(h);try{Ti(m.imports,q=>{_r(q,s,a,u)&&(U||(U=[]),U.push(q))})}finally{}void 0!==U&&Or(U,s)}if(!C){const U=Fs(h)||(()=>new h);s.push({provide:h,useFactory:U,deps:it},{provide:Pr,useValue:h,multi:!0},{provide:En,useValue:()=>hi(h),multi:!0})}const R=m.providers;null==R||C||Ti(R,q=>{s.push(q)})}}return h!==i&&void 0!==i.providers}const Pi=De({provide:String,useValue:De});function ji(i){return null!==i&&"object"==typeof i&&Pi in i}function $s(i){return"function"==typeof i}const Ps=new rr("Set Injector scope."),hs={},Mh={};let Ka;function Mu(){return void 0===Ka&&(Ka=new An),Ka}class wa{}class vc extends wa{constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ph(s,E=>this.processProvider(E)),this.records.set(Fn,Qa(void 0,this)),h.has("environment")&&this.records.set(wa,Qa(void 0,this));const m=this.records.get(Ps);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Pr.multi,it,Pt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=bu(this),u=qn(void 0);try{return s()}finally{bu(a),qn(u)}}get(s,a=va,u=Pt.Default){this.assertNotDestroyed();const h=bu(this),m=qn(void 0);try{if(!(u&Pt.SkipSelf)){let C=this.records.get(s);if(void 0===C){const R=function mv(i){return"function"==typeof i||"object"==typeof i&&i instanceof rr}(s)&&Qt(s);C=R&&this.injectableDefInScope(R)?Qa(bc(s),hs):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&Pt.Self?Mu():this.parent).get(s,a=u&Pt.Optional&&a===va?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[op]=E[op]||[]).unshift(xe(s)),h)throw E;return function rm(i,s,a,u){const h=i[op];throw s[Fy]&&h.unshift(s[Fy]),i.message=function im(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=xe(s);if(Array.isArray(s))h=s.map(xe).join(" -> ");else if("object"==typeof s){let m=[];for(let E in s)if(s.hasOwnProperty(E)){let C=s[E];m.push(E+":"+("string"==typeof C?JSON.stringify(C):xe(C)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(ky,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[op]=null,i}(E,s,"R3InjectorError",this.source)}throw E}finally{qn(m),bu(h)}}resolveInjectorInitializers(){const s=bu(this),a=qn(void 0);try{const u=this.get(En.multi,it,Pt.Self);for(const h of u)h()}finally{bu(s),qn(a)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(xe(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(s){let a=$s(s=ke(s))?s:ke(s&&s.provide);const u=function kl(i){return ji(i)?Qa(void 0,i.useValue):Qa(Ec(i),hs)}(s);if($s(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Qa(void 0,hs,!0),h.factory=()=>lh(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){return a.value===hs&&(a.value=Mh,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Tp(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ke(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function bc(i){const s=Qt(i),a=null!==s?s.factory:Fs(i);if(null!==a)return a;if(i instanceof rr)throw new Ae(204,!1);if(i instanceof Function)return function Ya(i){const s=i.length;if(s>0)throw Il(s,"?"),new Ae(204,!1);const a=function Dr(i){const s=i&&(i[un]||i[br]);if(s){const a=function ms(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ae(204,!1)}function Ec(i,s,a){let u;if($s(i)){const h=ke(i);return Fs(h)||bc(h)}if(ji(i))u=()=>ke(i.useValue);else if(function Sn(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...lh(i.deps||[]));else if(function wo(i){return!(!i||!i.useExisting)}(i))u=()=>hi(ke(i.useExisting));else{const h=ke(i&&(i.useClass||i.provide));if(!function Pu(i){return!!i.deps}(i))return Fs(h)||bc(h);u=()=>new h(...lh(i.deps))}return u}function Qa(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ou(i){return!!i.\u0275providers}function Ph(i,s){for(const a of i)Array.isArray(a)?Ph(a,s):Ou(a)?Ph(a.\u0275providers,s):s(a)}class Oh{}class wp{resolveComponentFactory(s){throw function Fl(i){const s=Error(`No component factory found for ${xe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let md=(()=>{class i{}return i.NULL=new wp,i})();function xu(){return Ia(dr(),st())}function Ia(i,s){return new ku(Vr(i,s))}let ku=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=xu,i})();function Rm(i){return i instanceof ku?i.nativeElement:i}class Cp{}let Fu=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ap(){const i=st(),a=ui(dr().index,i);return(Ar(a)?a:i)[11]}(),i})(),xh=(()=>{class i{}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:()=>null}),i})();class QE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const _v=new QE("14.3.0"),yv={};function Rp(i){return i.ngOriginalError}class Np{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Rp(s);for(;a&&Rp(a);)a=Rp(a);return a||null}}function Ja(i){return i instanceof Function?i():i}function Fh(i,s,a){let u=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const m=s.length;if(h+m===u||i.charCodeAt(h+m)<=32)return h}a=h+1}}const Mm="ng-template";function jI(i,s,a){let u=0;for(;u<i.length;){let h=i[u++];if(a&&"class"===h){if(h=i[u],-1!==Fh(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Za(i){return 4===i.type&&i.value!==Mm}function eD(i,s,a){return s===(4!==i.type||a?i.value:Mm)}function wv(i,s,a){let u=4;const h=i.attrs||[],m=function $I(i){for(let s=0;s<i.length;s++)if(le(i[s]))return s;return i.length}(h);let E=!1;for(let C=0;C<s.length;C++){const R=s[C];if("number"!=typeof R){if(!E)if(4&u){if(u=2|1&u,""!==R&&!eD(i,R,a)||""===R&&1===s.length){if(Xa(u))return!1;E=!0}}else{const U=8&u?R:s[++C];if(8&u&&null!==i.attrs){if(!jI(i.attrs,U,a)){if(Xa(u))return!1;E=!0}continue}const X=Iv(8&u?"class":R,h,Za(i),a);if(-1===X){if(Xa(u))return!1;E=!0;continue}if(""!==U){let pe;pe=X>m?"":h[X+1].toLowerCase();const Ce=8&u?pe:null;if(Ce&&-1!==Fh(Ce,U,0)||2&u&&U!==pe){if(Xa(u))return!1;E=!0}}}}else{if(!E&&!Xa(u)&&!Xa(R))return!1;if(E&&Xa(R))continue;E=!1,u=R|1&u}}return Xa(u)||E}function Xa(i){return 0==(1&i)}function Iv(i,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let m=!1;for(;h<s.length;){const E=s[h];if(E===i)return h;if(3===E||6===E)m=!0;else{if(1===E||2===E){let C=s[++h];for(;"string"==typeof C;)C=s[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=m?1:2}return-1}return function GI(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function tD(i,s,a=!1){for(let u=0;u<s.length;u++)if(wv(i,s[u],a))return!0;return!1}function Av(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function wc(i,s){return i?":not("+s.trim()+")":s}function zI(i){let s=i[0],a=1,u=2,h="",m=!1;for(;a<i.length;){let E=i[a];if("string"==typeof E)if(2&u){const C=i[++a];h+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+E:4&u&&(h+=" "+E);else""!==h&&!Xa(E)&&(s+=wc(m,h),h=""),u=E,m=m||!Xa(u);a++}return""!==h&&(s+=wc(m,h)),s}const Dn={};function Pm(i){Vl(Pn(),st(),ci()+i,!1)}function Vl(i,s,a,u){if(!u)if(3==(3&s[2])){const m=i.preOrderCheckHooks;null!==m&&ja(s,m,a)}else{const m=i.preOrderHooks;null!==m&&mo(s,m,0,a)}Bs(a)}function Nv(i,s=null,a=null,u){const h=Mv(i,s,a,u);return h.resolveInjectorInitializers(),h}function Mv(i,s=null,a=null,u,h=new Set){const m=[a||it,Yn(i)];return u=u||("object"==typeof i?void 0:xe(i)),new vc(m,s||Mu(),u||null,h)}let Vu=(()=>{class i{static create(a,u){if(Array.isArray(a))return Nv({name:""},u,a,"");{const h=a.name??"";return Nv({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=va,i.NULL=new An,i.\u0275prov=Mn({token:i,providedIn:"any",factory:()=>hi(Fn)}),i.__NG_ELEMENT_ID__=-1,i})();function Ic(i,s=Pt.Default){const a=st();return null===a?hi(i,s):td(dr(),a,ke(i),s)}function Um(){throw new Error("invalid")}function Uh(i,s){return i<<17|s<<2}function el(i){return i>>17&32767}function xp(i){return 2|i}function Ll(i){return(131068&i)>>2}function kp(i,s){return-131069&i|s<<2}function Fp(i){return 1|i}function s1(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const E=i.data[m];fa(h),E.contentQueries(2,s[m],m)}}}function jh(i,s,a,u,h,m,E,C,R,U,q){const X=s.blueprint.slice();return X[0]=h,X[2]=76|u,(null!==q||i&&1024&i[2])&&(X[2]|=1024),Ls(X),X[3]=X[15]=i,X[8]=a,X[10]=E||i&&i[10],X[11]=C||i&&i[11],X[12]=R||i&&i[12]||null,X[9]=U||i&&i[9]||null,X[6]=m,X[20]=function UE(){return Nr++}(),X[21]=q,X[16]=2==s.type?i[16]:X,X}function $h(i,s,a,u,h){let m=i.data[s];if(null===m)m=Wm(i,s,a,u,h),function us(){return Jt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const E=ls();m.injectorIndex=null===E?-1:E.injectorIndex}return Is(m,!0),m}function Wm(i,s,a,u,h){const m=uu(),E=yl(),R=i.data[s]=function FR(i,s,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,a,s,u,h);return null===i.firstChild&&(i.firstChild=R),null!==m&&(E?null==m.child&&null!==R.parent&&(m.child=R):null===m.next&&(m.next=R)),R}function Gh(i,s,a,u){if(0===a)return-1;const h=s.length;for(let m=0;m<a;m++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function mD(i,s,a){eo(s);try{const u=i.viewQuery;null!==u&&Gp(1,u,a);const h=i.template;null!==h&&_D(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&s1(i,s),i.staticViewQueries&&Gp(2,i.viewQuery,a);const m=i.components;null!==m&&function vd(i,s){for(let a=0;a<s.length;a++)m1(i,s[a])}(s,m)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,bl()}}function qm(i,s,a,u){const h=s[2];if(128!=(128&h)){eo(s);try{Ls(s),function ze(i){return Jt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&_D(i,s,a,2,u);const E=3==(3&h);if(E){const U=i.preOrderCheckHooks;null!==U&&ja(s,U,null)}else{const U=i.preOrderHooks;null!==U&&mo(s,U,0,null),oc(s,0)}if(function t0(i){for(let s=fp(i);null!==s;s=mm(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(512&h[2])&&bi(m,1),h[2]|=512}}}(s),function g1(i){for(let s=fp(i);null!==s;s=mm(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1];Ua(u)&&qm(h,u,h.template,u[8])}}(s),null!==i.contentQueries&&s1(i,s),E){const U=i.contentCheckHooks;null!==U&&ja(s,U)}else{const U=i.contentHooks;null!==U&&mo(s,U,1),oc(s,1)}!function OR(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Bs(~h);else{const m=h,E=a[++u],C=a[++u];po(E,m),C(2,s[m])}}}finally{Bs(-1)}}(i,s);const C=i.components;null!==C&&function Qv(i,s){for(let a=0;a<s.length;a++)wD(i,s[a])}(s,C);const R=i.viewQuery;if(null!==R&&Gp(2,R,u),E){const U=i.viewCheckHooks;null!==U&&ja(s,U)}else{const U=i.viewHooks;null!==U&&mo(s,U,2),oc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,bi(s[3],-1))}finally{bl()}}}function _D(i,s,a,u,h){const m=ci(),E=2&u;try{Bs(-1),E&&s.length>22&&Vl(i,s,22,!1),a(u,h)}finally{Bs(m)}}function Up(i,s,a){!Ha()||(function d1(i,s,a,u){const h=a.directiveStart,m=a.directiveEnd;i.firstCreatePass||vo(a,s),ti(u,s);const E=a.initialInputs;for(let C=h;C<m;C++){const R=i.data[C],U=Bi(R);U&&TD(s,a,R);const q=Ur(s,i,C,a);ti(q,s),null!==E&&f1(0,C-h,q,R,0,E),U&&(ui(a.index,s)[8]=q)}}(i,s,a,Vr(a,s)),128==(128&a.flags)&&function Zv(i,s,a){const u=a.directiveStart,h=a.directiveEnd,m=a.index,E=function Xs(){return Jt.lFrame.currentDirectiveIndex}();try{Bs(m);for(let C=u;C<h;C++){const R=i.data[C],U=s[C];go(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&vD(R,U)}}finally{Bs(-1),go(E)}}(i,s,a))}function Jv(i,s,a=Vr){const u=s.localNames;if(null!==u){let h=s.index+1;for(let m=0;m<u.length;m+=2){const E=u[m+1],C=-1===E?a(s,i):i[E];i[h++]=C}}}function Hp(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ym(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ym(i,s,a,u,h,m,E,C,R,U){const q=22+u,X=q+h,pe=function o1(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:Dn);return a}(q,X),Ce="function"==typeof U?U():U;return pe[1]={type:i,blueprint:pe,template:a,queries:null,viewQuery:C,declTNode:s,data:pe.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:R,consts:Ce,incompleteFirstPass:!1}}function jp(i,s,a,u){const h=ID(s);null===a?h.push(u):(h.push(a),i.firstCreatePass&&CD(i).push(u,h.length-1))}function a1(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const h=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,h):a[u]=[s,h]}return a}function l1(i,s){const u=s.directiveEnd,h=i.data,m=s.attrs,E=[];let C=null,R=null;for(let U=s.directiveStart;U<u;U++){const q=h[U],X=q.inputs,pe=null===m||Za(s)?null:e0(X,m);E.push(pe),C=a1(X,U,C),R=a1(q.outputs,U,R)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=E,s.inputs=C,s.outputs=R}function Aa(i,s,a,u,h,m,E,C){const R=Vr(s,a);let q,U=s.inputs;!C&&null!=U&&(q=U[u])?(r0(i,a,q,u,h),co(s)&&u1(a,s.index)):3&s.type&&(u=function VR(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=E?E(h,s.value||"",u):h,m.setProperty(R,u,h))}function u1(i,s){const a=ui(s,i);16&a[2]||(a[2]|=32)}function bd(i,s,a,u){let h=!1;if(Ha()){const m=function Xv(i,s,a){const u=i.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const E=u[m];tD(a,E.selectors,!1)&&(h||(h=[]),Eo(vo(a,s),i,E.type),Bi(E)?(bD(i,a),h.unshift(E)):h.push(E))}return h}(i,s,a),E=null===u?null:{"":-1};if(null!==m){h=!0,DD(a,i.data.length,m.length);for(let q=0;q<m.length;q++){const X=m[q];X.providersResolver&&X.providersResolver(X)}let C=!1,R=!1,U=Gh(i,s,m.length,null);for(let q=0;q<m.length;q++){const X=m[q];a.mergedAttrs=rt(a.mergedAttrs,X.hostAttrs),$p(i,a,s,U,X),ED(U,X,E),null!==X.contentQueries&&(a.flags|=8),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(a.flags|=128);const pe=X.type.prototype;!C&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!R&&(pe.ngOnChanges||pe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),R=!0),U++}l1(i,a)}E&&function h1(i,s,a){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const m=a[s[h+1]];if(null==m)throw new Ae(-301,!1);u.push(s[h],m)}}}(a,u,E)}return a.mergedAttrs=rt(a.mergedAttrs,a.attrs),h}function yD(i,s,a,u,h,m){const E=m.hostBindings;if(E){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const R=~s.index;(function $i(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=R&&C.push(R),C.push(u,h,E)}}function vD(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function bD(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function ED(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Bi(s)&&(a[""]=i)}}function DD(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function $p(i,s,a,u,h){i.data[u]=h;const m=h.factory||(h.factory=Fs(h.type)),E=new fu(m,Bi(h),Ic);i.blueprint[u]=E,a[u]=E,yD(i,s,0,u,Gh(i,a,h.hostVars,Dn),h)}function TD(i,s,a){const u=Vr(s,i),h=Hp(a),m=i[10],E=Bu(i,jh(i,h,null,a.onPush?32:16,u,s,m,m.createRenderer(u,a),null,null,null));i[s.index]=E}function zh(i,s,a,u,h,m,E){if(null==m)i.removeAttribute(s,h,a);else{const C=null==E?et(m):E(m,u||"",h);i.setAttribute(s,h,C,a)}}function f1(i,s,a,u,h,m){const E=m[s];if(null!==E){const C=u.setInput;for(let R=0;R<E.length;){const U=E[R++],q=E[R++],X=E[R++];null!==C?u.setInput(a,X,U,q):a[q]=X}}}function e0(i,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Qm(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function wD(i,s){const a=ui(s,i);if(Ua(a)){const u=a[1];48&a[2]?qm(u,a,u.template,a[8]):a[5]>0&&n0(a)}}function n0(i){for(let u=fp(i);null!==u;u=mm(u))for(let h=10;h<u.length;h++){const m=u[h];if(Ua(m))if(512&m[2]){const E=m[1];qm(E,m,E.template,m[8])}else m[5]>0&&n0(m)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=ui(a[u],i);Ua(h)&&h[5]>0&&n0(h)}}function m1(i,s){const a=ui(s,i),u=a[1];(function BR(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),mD(u,a,a[8])}function Bu(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Jm(i){for(;i;){i[2]|=32;const s=_h(i);if(xo(i)&&!s)return i;i=s}return null}function Zm(i,s,a,u=!0){const h=s[10];h.begin&&h.begin();try{qm(i,s,i.template,a)}catch(E){throw u&&Wh(s,E),E}finally{h.end&&h.end()}}function Gp(i,s,a){fa(0),s(i,a)}function ID(i){return i[7]||(i[7]=[])}function CD(i){return i.cleanup||(i.cleanup=[])}function AD(i,s,a){return(null===i||Bi(i))&&(a=function pl(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Wh(i,s){const a=i[9],u=a?a.get(Np,null):null;u&&u.handleError(s)}function r0(i,s,a,u,h){for(let m=0;m<a.length;){const E=a[m++],C=a[m++],R=s[E],U=i.data[E];null!==U.setInput?U.setInput(R,h,u,C):R[C]=h}}function Xm(i,s,a){let u=a?i.styles:null,h=a?i.classes:null,m=0;if(null!==s)for(let E=0;E<s.length;E++){const C=s[E];"number"==typeof C?m=C:1==m?h=Ge(h,C):2==m&&(u=Ge(u,C+": "+s[++E]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}function qh(i,s,a,u,h=!1){for(;null!==a;){const m=s[a.index];if(null!==m&&u.push(Rr(m)),Sr(m))for(let C=10;C<m.length;C++){const R=m[C],U=R[1].firstChild;null!==U&&qh(R[1],R,U,u)}const E=a.type;if(8&E)qh(i,s,a.child,u);else if(32&E){const C=mh(a,s);let R;for(;R=C();)u.push(R)}else if(16&E){const C=Ni(s,a);if(Array.isArray(C))u.push(...C);else{const R=_h(s[16]);qh(R[1],R,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class zp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return qh(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Sr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(Iu(s,u),rd(a,u))}this._attachedToViewContainer=!1}hc(this._lView[1],this._lView)}onDestroy(s){jp(this._lView[1],this._lView,null,s)}markForCheck(){Jm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _m(i,s){Ms(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=s}}class s0 extends zp{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Zm(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class o0 extends md{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Tn(s);return new Sc(a,this.ngModule)}}function e_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class a0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){const h=this.injector.get(s,yv,u);return h!==yv||a===yv?h:this.parentInjector.get(s,a,u)}}class Sc extends Oh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function WI(i){return i.map(zI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return e_(this.componentDef.inputs)}get outputs(){return e_(this.componentDef.outputs)}create(s,a,u,h){let m=(h=h||this.ngModule)instanceof wa?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const E=m?new a0(s,m):s,C=E.get(Cp,null);if(null===C)throw new Ae(407,!1);const R=E.get(xh,null),U=C.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",X=u?function kR(i,s,a){return i.selectRootElement(s,a===He.ShadowDom)}(U,u,this.componentDef.encapsulation):ud(U,q,function _1(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(q)),pe=this.componentDef.onPush?288:272,Ce=Ym(0,null,null,1,0,null,null,null,null,null),Ze=jh(null,Ce,null,pe,null,null,C,U,R,E,null);let yt,bt;eo(Ze);try{const Bt=function c0(i,s,a,u,h,m){const E=a[1];a[22]=i;const R=$h(E,22,2,"#host",null),U=R.mergedAttrs=s.hostAttrs;null!==U&&(Xm(R,U,!0),null!==i&&(W(h,i,U),null!==R.classes&&Th(h,i,R.classes),null!==R.styles&&iv(h,i,R.styles)));const q=u.createRenderer(i,s),X=jh(a,Hp(s),null,s.onPush?32:16,a[22],R,u,q,m||null,null,null);return E.firstCreatePass&&(Eo(vo(R,a),E,s.type),bD(E,R),DD(R,a.length,1)),Bu(a,X),a[22]=X}(X,this.componentDef,Ze,C,U);if(X)if(u)W(U,X,["ng-version",_v.full]);else{const{attrs:on,classes:dt}=function Mp(i){const s=[],a=[];let u=1,h=2;for(;u<i.length;){let m=i[u];if("string"==typeof m)2===h?""!==m&&s.push(m,i[++u]):8===h&&a.push(m);else{if(!Xa(h))break;h=m}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);on&&W(U,X,on),dt&&dt.length>0&&Th(U,X,dt.join(" "))}if(bt=gl(Ce,22),void 0!==a){const on=bt.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const fn=a[dt];on.push(null!=fn?Array.from(fn):null)}}yt=function Wp(i,s,a,u){const h=a[1],m=function c1(i,s,a){const u=dr();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),$p(i,u,s,Gh(i,s,1,null),a),l1(i,u));const h=Ur(s,i,u.directiveStart,u);ti(h,s);const m=Vr(u,s);return m&&ti(m,s),h}(h,a,s);if(i[8]=a[8]=m,null!==u)for(const C of u)C(m,s);if(s.contentQueries){const C=dr();s.contentQueries(1,m,C.directiveStart)}const E=dr();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Bs(E.index),yD(a[1],E,0,E.directiveStart,E.directiveEnd,s),vD(s,m)),m}(Bt,this.componentDef,Ze,[Ed]),mD(Ce,Ze,null)}finally{bl()}return new u0(this.componentType,yt,Ia(bt,Ze),Ze,bt)}}class u0 extends class Dc{}{constructor(s,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new s0(h),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){const m=this._rootLView;r0(m[1],m,h,s,a),u1(m,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ed(){const i=dr();sc(st()[1],i)}function d0(i){let s=function t_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let h;if(Bi(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const E=i;E.inputs=h0(i.inputs),E.declaredInputs=h0(i.declaredInputs),E.outputs=h0(i.outputs);const C=h.hostBindings;C&&v1(i,C);const R=h.viewQuery,U=h.contentQueries;if(R&&f0(i,R),U&&RD(i,U),Ie(i.inputs,h.inputs),Ie(i.declaredInputs,h.declaredInputs),Ie(i.outputs,h.outputs),Bi(h)&&h.data.animation){const q=i.data;q.animation=(q.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let E=0;E<m.length;E++){const C=m[E];C&&C.ngInherit&&C(i),C===d0&&(a=!1)}}s=Object.getPrototypeOf(s)}!function y1(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=rt(h.hostAttrs,a=rt(a,h.hostAttrs))}}(u)}function h0(i){return i===bn?{}:i===it?[]:i}function f0(i,s){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function RD(i,s){const a=i.contentQueries;i.contentQueries=a?(u,h,m)=>{s(u,h,m),a(u,h,m)}:s}function v1(i,s){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}let Kh=null;function Dd(){if(!Kh){const i=nt.Symbol;if(i&&i.iterator)Kh=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Kh=u)}}}return Kh}function Td(i){return!!g0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Dd()in i)}function g0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Sa(i,s,a){return i[s]=a}function fs(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Id(i,s,a,u){const h=fs(i,s,a);return fs(i,s+1,u)||h}function n_(i,s,a,u){const h=st();return fs(h,Vt(),s)&&(Pn(),function Io(i,s,a,u,h,m){const E=Vr(i,s);zh(s[11],E,m,i.value,a,u,h)}(mr(),h,i,s,a,u)),n_}function Jh(i,s,a,u){return fs(i,Vt(),a)?s+et(a)+u:Dn}function v0(i,s,a,u,h,m,E,C){const R=st(),U=Pn(),q=i+22,X=U.firstCreatePass?function w1(i,s,a,u,h,m,E,C,R){const U=s.consts,q=$h(s,i,4,E||null,Zi(U,C));bd(s,a,q,Zi(U,R)),sc(s,q);const X=q.tViews=Ym(2,q,u,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,U);return null!==s.queries&&(s.queries.template(s,q),X.queries=s.queries.embeddedTView(q)),q}(q,U,R,s,a,u,h,m,E):U.data[q];Is(X,!1);const pe=R[11].createComment("");fi(U,R,pe,X),ti(pe,R),Bu(R,R[q]=Qm(pe,R,pe,X)),Ds(X)&&Up(U,R,X),null!=E&&Jv(R,X,C)}function xD(i){return function ca(i,s){return i[s]}(function gr(){return Jt.lFrame.contextLView}(),22+i)}function E0(i,s,a){const u=st();return fs(u,Vt(),s)&&Aa(Pn(),mr(),u,i,s,u[11],a,!1),E0}function D0(i,s,a,u,h){const E=h?"class":"style";r0(i,a,s.inputs[E],E,u)}function o_(i,s,a,u){const h=st(),m=Pn(),E=22+i,C=h[11],R=h[E]=ud(C,s,function Zf(){return Jt.lFrame.currentNamespace}()),U=m.firstCreatePass?function T0(i,s,a,u,h,m,E){const C=s.consts,U=$h(s,i,2,h,Zi(C,m));return bd(s,a,U,Zi(C,E)),null!==U.attrs&&Xm(U,U.attrs,!1),null!==U.mergedAttrs&&Xm(U,U.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,U),U}(E,m,h,0,s,a,u):m.data[E];Is(U,!0);const q=U.mergedAttrs;null!==q&&W(C,R,q);const X=U.classes;null!==X&&Th(C,R,X);const pe=U.styles;return null!==pe&&iv(C,R,pe),64!=(64&U.flags)&&fi(m,h,R,U),0===function Xu(){return Jt.lFrame.elementDepthCount}()&&ti(R,h),function _l(){Jt.lFrame.elementDepthCount++}(),Ds(U)&&(Up(m,h,U),function Km(i,s,a){if(Es(s)){const h=s.directiveEnd;for(let m=s.directiveStart;m<h;m++){const E=i.data[m];E.contentQueries&&E.contentQueries(1,a[m],m)}}}(m,U,h)),null!==u&&Jv(h,U),o_}function a_(){let i=dr();yl()?cu():(i=i.parent,Is(i,!1));const s=i;!function Uo(){Jt.lFrame.elementDepthCount--}();const a=Pn();return a.firstCreatePass&&(sc(a,i),Es(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Xc(i){return 0!=(16&i.flags)}(s)&&D0(a,s,st(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function S(i){return 0!=(32&i.flags)}(s)&&D0(a,s,st(),s.stylesWithoutHost,!1),a_}function l_(i,s,a,u){return o_(i,s,a,u),a_(),l_}function FD(){return st()}function I0(i){return!!i&&"function"==typeof i.then}function VD(i){return!!i&&"function"==typeof i.subscribe}const LD=VD;function C0(i,s,a,u){const h=st(),m=Pn(),E=dr();return BD(m,h,h[11],E,i,s,0,u),C0}function A0(i,s){const a=dr(),u=st(),h=Pn();return BD(h,u,AD(jo(h.data),a,u),a,i,s),A0}function BD(i,s,a,u,h,m,E,C){const R=Ds(u),q=i.firstCreatePass&&CD(i),X=s[8],pe=ID(s);let Ce=!0;if(3&u.type||C){const bt=Vr(u,s),Bt=C?C(bt):bt,on=pe.length,dt=C?fr=>C(Rr(fr[u.index])):u.index;let fn=null;if(!C&&R&&(fn=function S0(i,s,a,u){const h=i.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const E=h[m];if(E===a&&h[m+1]===u){const C=s[7],R=h[m+2];return C.length>R?C[R]:null}"string"==typeof E&&(m+=2)}return null}(i,s,h,u.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=m,fn.__ngLastListenerFn__=m,Ce=!1;else{m=HD(u,s,X,m,!1);const fr=a.listen(Bt,h,m);pe.push(m,fr),q&&q.push(h,dt,on,on+1)}}else m=HD(u,s,X,m,!1);const Ze=u.outputs;let yt;if(Ce&&null!==Ze&&(yt=Ze[h])){const bt=yt.length;if(bt)for(let Bt=0;Bt<bt;Bt+=2){const ii=s[yt[Bt]][yt[Bt+1]].subscribe(m),il=pe.length;pe.push(m,ii),q&&q.push(h,u.index,il,-(il+1))}}}function UD(i,s,a,u){try{return!1!==a(u)}catch(h){return Wh(i,h),!1}}function HD(i,s,a,u,h){return function m(E){if(E===Function)return u;Jm(2&i.flags?ui(i.index,s):s);let R=UD(s,0,u,E),U=m.__ngNextListenerFn__;for(;U;)R=UD(s,0,U,E)&&R,U=U.__ngNextListenerFn__;return h&&!1===R&&(E.preventDefault(),E.returnValue=!1),R}}function jD(i=1){return function du(i){return(Jt.lFrame.contextLView=function rc(i,s){for(;i>0;)s=s[15],i--;return s}(i,Jt.lFrame.contextLView))[8]}(i)}function C1(i,s){let a=null;const u=function Cv(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===u?tD(i,m,!0):Av(u,m))return h}else a=h}return a}function R0(i){const s=st()[16][6];if(!s.projection){const u=s.projection=Il(i?i.length:1,null),h=u.slice();let m=s.child;for(;null!==m;){const E=i?C1(m,i):0;null!==E&&(h[E]?h[E].projectionNext=m:u[E]=m,h[E]=m),m=m.next}}}function $D(i,s=0,a){const u=st(),h=Pn(),m=$h(h,22+i,16,null,a||null);null===m.projection&&(m.projection=s),cu(),64!=(64&m.flags)&&function Do(i,s,a){Ru(s[11],0,s,a,fc(i,a,s),vm(a.parent||s[6],a,s))}(h,u,m)}function N0(i,s,a){return u_(i,"",s,"",a),N0}function u_(i,s,a,u,h){const m=st(),E=Jh(m,s,a,u);return E!==Dn&&Aa(Pn(),mr(),m,i,E,m[11],h,!1),u_}function S1(i,s,a,u,h){const m=i[a+1],E=null===s;let C=u?el(m):Ll(m),R=!1;for(;0!==C&&(!1===R||E);){const q=i[C+1];O0(i[C],s)&&(R=!0,i[C+1]=u?Fp(q):xp(q)),C=u?el(q):Ll(q)}R&&(i[a+1]=u?xp(m):Fp(m))}function O0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ee(i,s)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yp(i){return i.substring(Gi.key,Gi.keyEnd)}function QD(i,s){const a=Gi.textEnd;return a===s?-1:(s=Gi.keyEnd=function XD(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Gi.key=s,a),rf(i,s,a))}function rf(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function x0(i,s,a){return Ko(i,s,a,!1),x0}function Qp(i,s){return Ko(i,s,null,!0),Qp}function eT(i){tl(k,Ul,i,!0)}function Ul(i,s){for(let a=function YD(i){return function ZD(i){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=i.length}(i),QD(i,rf(i,0,Gi.textEnd))}(s);a>=0;a=QD(s,a))k(i,Yp(s),!0)}function Ko(i,s,a,u){const h=st(),m=Pn(),E=Hn(2);m.firstUpdatePass&&f_(m,i,E,u),s!==Dn&&fs(h,E,s)&&p_(m,m.data[ci()],h,h[11],i,h[E+1]=function L1(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=xe(Nu(i)))),i}(s,a),u,E)}function tl(i,s,a,u){const h=Pn(),m=Hn(2);h.firstUpdatePass&&f_(h,null,m,u);const E=st();if(a!==Dn&&fs(E,m,a)){const C=h.data[ci()];if(Jp(C,u)&&!tT(h,m)){let R=u?C.classesWithoutHost:C.stylesWithoutHost;null!==R&&(a=Ge(R,a||"")),D0(h,C,E,a,u)}else!function V1(i,s,a,u,h,m,E,C){h===Dn&&(h=it);let R=0,U=0,q=0<h.length?h[0]:null,X=0<m.length?m[0]:null;for(;null!==q||null!==X;){const pe=R<h.length?h[R+1]:void 0,Ce=U<m.length?m[U+1]:void 0;let yt,Ze=null;q===X?(R+=2,U+=2,pe!==Ce&&(Ze=X,yt=Ce)):null===X||null!==q&&q<X?(R+=2,Ze=q):(U+=2,Ze=X,yt=Ce),null!==Ze&&p_(i,s,a,u,Ze,yt,E,C),q=R<h.length?h[R]:null,X=U<m.length?m[U]:null}}(h,C,E,E[11],E[m+1],E[m+1]=function V0(i,s,a){if(null==a||""===a)return it;const u=[],h=Nu(a);if(Array.isArray(h))for(let m=0;m<h.length;m++)i(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&i(u,m,h[m]);else"string"==typeof h&&s(u,h);return u}(i,s,a),u,m)}}function tT(i,s){return s>=i.expandoStartIndex}function f_(i,s,a,u){const h=i.data;if(null===h[a+1]){const m=h[ci()],E=tT(i,a);Jp(m,u)&&null===s&&!E&&(s=!1),s=function O1(i,s,a,u){const h=jo(i);let m=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=sf(a=F0(null,i,s,a,u),s.attrs,u),m=null);else{const E=s.directiveStylingLast;if(-1===E||i[E]!==h)if(a=F0(h,i,s,a,u),null===m){let R=function x1(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ll(u))return i[el(u)]}(i,s,u);void 0!==R&&Array.isArray(R)&&(R=F0(null,i,s,R[1],u),R=sf(R,s.attrs,u),function k1(i,s,a,u){i[el(a?s.classBindings:s.styleBindings)]=u}(i,s,u,R))}else m=function F1(i,s,a){let u;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)u=sf(u,i[m].hostAttrs,a);return sf(u,s.attrs,a)}(i,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),a}(h,m,s,u),function P0(i,s,a,u,h,m){let E=m?s.classBindings:s.styleBindings,C=el(E),R=Ll(E);i[u]=a;let q,U=!1;if(Array.isArray(a)){const X=a;q=X[1],(null===q||ee(X,q)>0)&&(U=!0)}else q=a;if(h)if(0!==R){const pe=el(i[C+1]);i[u+1]=Uh(pe,C),0!==pe&&(i[pe+1]=kp(i[pe+1],u)),i[C+1]=function ZI(i,s){return 131071&i|s<<17}(i[C+1],u)}else i[u+1]=Uh(C,0),0!==C&&(i[C+1]=kp(i[C+1],u)),C=u;else i[u+1]=Uh(R,0),0===C?C=u:i[R+1]=kp(i[R+1],u),R=u;U&&(i[u+1]=xp(i[u+1])),S1(i,q,u,!0),S1(i,q,u,!1),function A1(i,s,a,u,h){const m=h?i.residualClasses:i.residualStyles;null!=m&&"string"==typeof s&&ee(m,s)>=0&&(a[u+1]=Fp(a[u+1]))}(s,q,i,u,m),E=Uh(C,R),m?s.classBindings=E:s.styleBindings=E}(h,m,s,a,E,u)}}function F0(i,s,a,u,h){let m=null;const E=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<E&&(m=s[C],u=sf(u,m.hostAttrs,h),m!==i);)C++;return null!==i&&(a.directiveStylingLast=C),u}function sf(i,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?h=E:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),k(i,E,!!a||s[++m]))}return void 0===i?null:i}function p_(i,s,a,u,h,m,E,C){if(!(3&s.type))return;const R=i.data,U=R[C+1];m_(function dD(i){return 1==(1&i)}(U)?g_(R,s,a,h,Ll(U),E):void 0)||(m_(m)||function Hm(i){return 2==(2&i)}(U)&&(m=g_(R,null,a,h,C,E)),function rv(i,s,a,u,h){if(s)h?i.addClass(a,u):i.removeClass(a,u);else{let m=-1===u.indexOf("-")?void 0:Bn.DashCase;null==h?i.removeStyle(a,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Bn.Important),i.setStyle(a,u,h,m))}}(u,E,ws(ci(),a),h,m))}function g_(i,s,a,u,h,m){const E=null===s;let C;for(;h>0;){const R=i[h],U=Array.isArray(R),q=U?R[1]:R,X=null===q;let pe=a[h+1];pe===Dn&&(pe=X?it:void 0);let Ce=X?z(pe,u):q===u?pe:void 0;if(U&&!m_(Ce)&&(Ce=z(R,u)),m_(Ce)&&(C=Ce,E))return C;const Ze=i[h+1];h=E?el(Ze):Ll(Ze)}if(null!==s){let R=m?s.residualClasses:s.residualStyles;null!=R&&(C=z(R,u))}return C}function m_(i){return void 0!==i}function Jp(i,s){return 0!=(i.flags&(s?16:32))}function rT(i,s=""){const a=st(),u=Pn(),h=i+22,m=u.firstCreatePass?$h(u,h,1,s,null):u.data[h],E=a[h]=yh(a[11],s);fi(u,a,E,m),Is(m,!1)}function L0(i){return __("",i,""),L0}function __(i,s,a){const u=st(),h=Jh(u,i,s,a);return h!==Dn&&function Uu(i,s,a){const u=ws(s,i);vh(i[11],u,a)}(u,ci(),h),__}function uT(i,s,a){tl(k,Ul,Jh(st(),i,s,a),!0)}function Xp(i,s,a){const u=st();return fs(u,Vt(),s)&&Aa(Pn(),mr(),u,i,s,u[11],a,!0),Xp}function eg(i,s,a){const u=st();if(fs(u,Vt(),s)){const m=Pn(),E=mr();Aa(m,E,u,i,s,AD(jo(m.data),E,u),a,!0)}return eg}const Cd=void 0;var tg=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ju(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Ad={};function Y0(i){const s=function bT(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=vT(s);if(a)return a;const u=s.split("-")[0];if(a=vT(u),a)return a;if("en"===u)return tg;throw new Ae(701,!1)}function yT(i){return Y0(i)[cn.PluralCase]}function vT(i){return i in Ad||(Ad[i]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[i]),Ad[i]}var cn=(()=>((cn=cn||{})[cn.LocaleId=0]="LocaleId",cn[cn.DayPeriodsFormat=1]="DayPeriodsFormat",cn[cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",cn[cn.DaysFormat=3]="DaysFormat",cn[cn.DaysStandalone=4]="DaysStandalone",cn[cn.MonthsFormat=5]="MonthsFormat",cn[cn.MonthsStandalone=6]="MonthsStandalone",cn[cn.Eras=7]="Eras",cn[cn.FirstDayOfWeek=8]="FirstDayOfWeek",cn[cn.WeekendRange=9]="WeekendRange",cn[cn.DateFormat=10]="DateFormat",cn[cn.TimeFormat=11]="TimeFormat",cn[cn.DateTimeFormat=12]="DateTimeFormat",cn[cn.NumberSymbols=13]="NumberSymbols",cn[cn.NumberFormats=14]="NumberFormats",cn[cn.CurrencyCode=15]="CurrencyCode",cn[cn.CurrencySymbol=16]="CurrencySymbol",cn[cn.CurrencyName=17]="CurrencyName",cn[cn.Currencies=18]="Currencies",cn[cn.Directionality=19]="Directionality",cn[cn.PluralCase=20]="PluralCase",cn[cn.ExtraData=21]="ExtraData",cn))();const ET=["zero","one","two","few","many"],Sd="en-US",Ra={marker:"element"},ng={marker:"ICU"};var wi=(()=>((wi=wi||{})[wi.SHIFT=2]="SHIFT",wi[wi.APPEND_EAGERLY=1]="APPEND_EAGERLY",wi[wi.COMMENT=2]="COMMENT",wi))();let Q0=Sd;function rg(i){(function $n(i,s){null==i&&Tt(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(Q0=i.toLowerCase().replace(/_/g,"-"))}function Z0(i,s,a){const u=s.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?dd(i,0,a):Rr(a[h])}function X0(i,s,a,u,h){const m=s.insertBeforeIndex;if(Array.isArray(m)){let E=u,C=null;if(3&s.type||(C=E,E=h),null!==E&&0==(2&s.flags))for(let R=1;R<m.length;R++)Cu(i,E,a[m[R]],C,!1)}}function eb(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const u=i[a];tb(u)||DT(u,s)&&null===ps(u)&&lf(u,s.index)}}function tb(i){return!(64&i.type)}function DT(i,s){return tb(s)||i.index>s.index}function ps(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function lf(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Hi(Z0,X0),i.insertBeforeIndex=s)}function Na(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function pt(i,s,a){const u=Wm(i,a,64,null,null);return eb(s,u),u}function ni(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function Co(i){return i>>>17}function b_(i){return(131070&i)>>>1}let jt=0,ig=0;function ts(i,s,a,u){const h=a[11];let E,m=null;for(let C=0;C<s.length;C++){const R=s[C];if("string"==typeof R){const U=s[++C];null===a[U]&&(a[U]=yh(h,R))}else if("number"==typeof R)switch(1&R){case 0:const U=Co(R);let q,X;if(null===m&&(m=U,E=pc(h,u)),U===m?(q=u,X=E):(q=null,X=Rr(a[U])),null!==X){const yt=b_(R);Cu(h,X,a[yt],q,!1);const Bt=Na(i,yt);if(null!==Bt&&"object"==typeof Bt){const on=ni(Bt,a);null!==on&&ts(i,Bt.create[on],a,a[Bt.anchorIdx])}}break;case 1:const Ce=s[++C],Ze=s[++C];zh(h,ws(R>>>1,a),null,null,Ce,Ze,null)}else switch(R){case ng:const U=s[++C],q=s[++C];null===a[q]&&ti(a[q]=bh(h,U),a);break;case Ra:const X=s[++C],pe=s[++C];null===a[pe]&&ti(a[pe]=ud(h,X,null),a)}}}function nb(i,s,a,u,h){for(let m=0;m<a.length;m++){const E=a[m],C=a[++m];if(E&h){let R="";for(let U=m+1;U<=m+C;U++){const q=a[U];if("string"==typeof q)R+=q;else if("number"==typeof q)if(q<0)R+=et(s[u-q]);else{const X=q>>>2;switch(3&q){case 1:const pe=a[++U],Ce=a[++U],Ze=i.data[X];"string"==typeof Ze?zh(s[11],s[X],null,Ze,pe,R,Ce):Aa(i,Ze,s,pe,R,s[11],Ce,!1);break;case 0:const yt=s[X];null!==yt&&vh(s[11],yt,R);break;case 2:K1(i,Na(i,X),s,R);break;case 3:wT(i,Na(i,X),u,s)}}}}else{const R=a[m+1];if(R>0&&3==(3&R)){const q=Na(i,R>>>2);s[q.currentCaseLViewIndex]<0&&wT(i,q,u,s)}}m+=C}}function wT(i,s,a,u){let h=u[s.currentCaseLViewIndex];if(null!==h){let m=jt;h<0&&(h=u[s.currentCaseLViewIndex]=~h,m=-1),nb(i,u,s.update[h],a,m)}}function K1(i,s,a,u){const h=function Y1(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const u=function Oc(i,s){const a=yT(s)(parseInt(i,10)),u=ET[a];return void 0!==u?u:"other"}(s,function J0(){return Q0}());a=i.cases.indexOf(u),-1===a&&"other"!==u&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,u);if(ni(s,a)!==h&&(IT(i,s,a),a[s.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const E=a[s.anchorIdx];E&&ts(i,s.create[h],a,E)}}function IT(i,s,a){let u=ni(s,a);if(null!==u){const h=s.remove[u];for(let m=0;m<h.length;m++){const E=h[m];if(E>0){const C=ws(E,a);null!==C&&gc(a[11],C)}else IT(i,Na(i,~E),a)}}}function Q1(){const i=[];let a,u,s=-1;function m(C,R){s=0;const U=ni(C,R);u=null!==U?C.remove[U]:it}function E(){if(s<u.length){const C=u[s++];return C>0?a[C]:(i.push(s,u),m(a[1].data[~C],a),E())}return 0===i.length?null:(u=i.pop(),s=i.pop(),E())}return function h(C,R){for(a=R;i.length;)i.pop();return m(C.value,R),E}}const sg=/\ufffd(\d+):?\d*\ufffd/gi,rb=/\ufffd(\d+)\ufffd/,ib=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,AT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ST=/\uE500/g;function Kt(i,s,a,u,h,m,E){const C=Gh(i,u,1,null);let R=C<<wi.SHIFT,U=ls();s===U&&(U=null),null===U&&(R|=wi.APPEND_EAGERLY),E&&(R|=wi.COMMENT,function Yy(i){void 0===gm&&(gm=i())}(Q1)),h.push(R,null===m?"":m);const q=Wm(i,C,E?32:1,null===m?"":m,null);eb(a,q);const X=q.index;return Is(q,!1),null!==U&&s!==U&&function q1(i,s){let a=i.insertBeforeIndex;null===a?(Hi(Z0,X0),a=i.insertBeforeIndex=[null,s]):(function ft(i,s,a){i!=s&&Tt(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(U,X),q}function sb(i,s,a,u,h,m,E){const C=E.match(sg),R=Kt(i,s,a,m,u,C?null:E,!1);C&&Vn(h,E,R.index,null,0,null)}function Vn(i,s,a,u,h,m){const E=i.length,C=E+1;i.push(null,null);const R=E+2,U=s.split(sg);let q=0;for(let X=0;X<U.length;X++){const pe=U[X];if(1&X){const Ce=h+parseInt(pe,10);i.push(-1-Ce),q|=qr(Ce)}else""!==pe&&i.push(pe)}return i.push(a<<2|(u?1:0)),u&&i.push(u,m),i[E]=q,i[C]=i.length-R,q}function qr(i){return 1<<Math.min(i,31)}function Rd(i){let s,m,a="",u=0,h=!1;for(;null!==(s=cf.exec(i));)h?s[0]===`\ufffd/*${m}\ufffd`&&(u=s.index,h=!1):(a+=i.substring(u,s.index+s[0].length),m=s[1],h=!0);return a+=i.slice(u),a}function D_(i,s,a,u,h,m){let E=0;const C={type:h.type,currentCaseLViewIndex:Gh(i,s,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function PT(i,s,a){i.push(qr(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,h,m),function uf(i,s,a){const u=i.data[s];null===u?i.data[s]=a:u.value=a}(i,m,C);const R=h.values;for(let U=0;U<R.length;U++){const q=R[U],X=[];for(let pe=0;pe<q.length;pe++){const Ce=q[pe];if("string"!=typeof Ce){const Ze=X.push(Ce)-1;q[pe]=`\x3c!--\ufffd${Ze}\ufffd--\x3e`}}E=Md(i,C,s,a,u,h.cases[U],q.join(""),X)|E}E&&function Qo(i,s,a){i.push(s,1,a<<2|3)}(a,E,m)}function Nd(i){const s=[],a=[];let u=1,h=0;const m=ob(i=i.replace(ib,function(E,C,R){return u="select"===R?0:1,h=parseInt(C.slice(1),10),""}));for(let E=0;E<m.length;){let C=m[E++].trim();1===u&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&s.push(C);const R=ob(m[E++]);s.length>a.length&&a.push(R)}return{type:u,mainBinding:h,cases:s,values:a}}function ob(i){if(!i)return[];let s=0;const a=[],u=[],h=/[{}]/g;let m;for(h.lastIndex=0;m=h.exec(i);){const C=m.index;if("}"==m[0]){if(a.pop(),0==a.length){const R=i.substring(s,C);ib.test(R)?u.push(Nd(R)):u.push(R),s=C+1}}else{if(0==a.length){const R=i.substring(s,C);u.push(R),s=C+1}a.push("{")}}const E=i.substring(s);return u.push(E),u}function Md(i,s,a,u,h,m,E,C){const R=[],U=[],q=[];s.cases.push(m),s.create.push(R),s.remove.push(U),s.update.push(q);const pe=function _c(i){const s=new Ih(i);return function FI(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new Am(s):s}(function Tm(){return void 0!==Mr?Mr:typeof document<"u"?document:void 0}()).getInertBodyElement(E),Ce=function c(i){return"content"in i&&function b(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}(pe)||pe;return Ce?NT(i,s,a,u,R,U,q,Ce,h,C,0):0}function NT(i,s,a,u,h,m,E,C,R,U,q){let X=0,pe=C.firstChild;for(;pe;){const Ce=Gh(i,a,1,null);switch(pe.nodeType){case Node.ELEMENT_NODE:const Ze=pe,yt=Ze.tagName.toLowerCase();if(yc.hasOwnProperty(yt)){ag(h,Ra,yt,R,Ce),i.data[Ce]=yt;const dt=Ze.attributes;for(let fn=0;fn<dt.length;fn++){const fr=dt.item(fn),ii=fr.name.toLowerCase();fr.value.match(sg)?fv.hasOwnProperty(ii)&&Vn(E,fr.value,Ce,fr.name,0,Sh[ii]?Ch:null):OT(h,Ce,fr)}X=NT(i,s,a,u,h,m,E,pe,Ce,U,q+1)|X,Pd(m,Ce,q)}break;case Node.TEXT_NODE:const bt=pe.textContent||"",Bt=bt.match(sg);ag(h,null,Bt?"":bt,R,Ce),Pd(m,Ce,q),Bt&&(X=Vn(E,bt,Ce,null,0,null)|X);break;case Node.COMMENT_NODE:const on=rb.exec(pe.textContent||"");if(on){const fn=U[parseInt(on[1],10)];ag(h,ng,"",R,Ce),D_(i,a,u,R,fn,Ce),MT(m,Ce,q)}}pe=pe.nextSibling}return X}function Pd(i,s,a){0===a&&i.push(s)}function MT(i,s,a){0===a&&(i.push(~s),i.push(s))}function ag(i,s,a,u,h){null!==s&&i.push(s),i.push(a,h,function TT(i,s,a){return i|s<<17|a<<1}(0,u,h))}function OT(i,s,a){i.push(s<<1|1,a.name,a.value)}function hf(i,s,a=-1){const u=Pn(),h=st(),m=22+i,E=Zi(u.consts,s),C=ls();u.firstCreatePass&&function ri(i,s,a,u,h,m){const E=ls(),C=[],R=[],U=[[]];h=function df(i,s){if(function St(i){return-1===i}(s))return Rd(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,u=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Rd(i.substring(a,u))}}(h,m);const q=function RT(i){return i.replace(ST," ")}(h).split(AT);for(let X=0;X<q.length;X++){let pe=q[X];if(0==(1&X)){const Ce=ob(pe);for(let Ze=0;Ze<Ce.length;Ze++){let yt=Ce[Ze];if(0==(1&Ze)){const bt=yt;""!==bt&&sb(i,E,U[0],C,R,a,bt)}else{const bt=yt;if("object"!=typeof bt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);D_(i,a,R,s,bt,Kt(i,E,U[0],a,C,"",!0).index)}}}else{const Ce=47===pe.charCodeAt(0),yt=(pe.charCodeAt(Ce?1:0),22+Number.parseInt(pe.substring(Ce?2:1)));if(Ce)U.shift(),Is(ls(),!1);else{const bt=pt(i,U[0],yt);U.unshift([]),Is(bt,!0)}}}i.data[u]={create:C,update:R}}(u,null===C?0:C.index,h,m,E,a);const R=u.data[m],q=tv(u,C===h[6]?null:C,h);(function ct(i,s,a,u){const h=i[11];for(let m=0;m<s.length;m++){const E=s[m++],C=s[m],R=(E&wi.COMMENT)===wi.COMMENT,U=(E&wi.APPEND_EAGERLY)===wi.APPEND_EAGERLY,q=E>>>wi.SHIFT;let X=i[q];null===X&&(X=i[q]=R?h.createComment(C):yh(h,C)),U&&null!==a&&Cu(h,a,X,u,!1)}})(h,R.create,q,C&&8&C.type?h[C.index]:null),Zs(!0)}function kT(i,s,a){hf(i,s,a),function $u(){Zs(!1)}()}function w_(i){return function wt(i){i&&(jt|=1<<Math.min(ig,31)),ig++}(fs(st(),Vt(),i)),w_}function I_(i){!function je(i,s,a){if(ig>0){const u=i.data[a];nb(i,s,Array.isArray(u)?u:u.update,function Y(){return Jt.lFrame.bindingIndex}()-ig-1,jt)}jt=0,ig=0}(Pn(),st(),i+22)}function ub(i,s,a,u,h){if(i=ke(i),Array.isArray(i))for(let m=0;m<i.length;m++)ub(i[m],s,a,u,h);else{const m=Pn(),E=st();let C=$s(i)?i:ke(i.provide),R=Ec(i);const U=dr(),q=1048575&U.providerIndexes,X=U.directiveStart,pe=U.providerIndexes>>20;if($s(i)||!i.multi){const Ce=new fu(R,h,Ic),Ze=xd(C,s,h?q:q+pe,X);-1===Ze?(Eo(vo(U,E),m,C),so(m,i,s.length),s.push(C),U.directiveStart++,U.directiveEnd++,h&&(U.providerIndexes+=1048576),a.push(Ce),E.push(Ce)):(a[Ze]=Ce,E[Ze]=Ce)}else{const Ce=xd(C,s,q+pe,X),Ze=xd(C,s,q,q+pe),yt=Ce>=0&&a[Ce],bt=Ze>=0&&a[Ze];if(h&&!bt||!h&&!yt){Eo(vo(U,E),m,C);const Bt=function Gs(i,s,a,u,h){const m=new fu(i,a,Ic);return m.multi=[],m.index=s,m.componentProviders=0,Gu(m,h,u&&!a),m}(h?FT:ug,a.length,h,u,R);!h&&bt&&(a[Ze].providerFactory=Bt),so(m,i,s.length,0),s.push(C),U.directiveStart++,U.directiveEnd++,h&&(U.providerIndexes+=1048576),a.push(Bt),E.push(Bt)}else so(m,i,Ce>-1?Ce:Ze,Gu(a[h?Ze:Ce],R,!h&&u));!h&&u&&bt&&a[Ze].componentProviders++}}}function so(i,s,a,u){const h=$s(s),m=function Wo(i){return!!i.useClass}(s);if(h||m){const R=(m?ke(s.useClass):s).prototype.ngOnDestroy;if(R){const U=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const q=U.indexOf(a);-1===q?U.push(a,[u,R]):U[q+1].push(u,R)}else U.push(a,R)}}}function Gu(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function xd(i,s,a,u){for(let h=a;h<u;h++)if(s[h]===i)return h;return-1}function ug(i,s,a,u){return ff(this.multi,[])}function FT(i,s,a,u){const h=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=Ur(a,a[1],this.providerFactory.index,u);m=C.slice(0,E),ff(h,m);for(let R=E;R<C.length;R++)m.push(C[R])}else m=[],ff(h,m);return m}function ff(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function VT(i,s=[]){return a=>{a.providersResolver=(u,h)=>function X1(i,s,a){const u=Pn();if(u.firstCreatePass){const h=Bi(i);ub(a,u.data,u.blueprint,h,!0),ub(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class kd{}class nl{}function Fd(i,s){return new Vd(i,s??null)}class Vd extends kd{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new o0(this);const u=zn(s);this._bootstrapComponents=Ja(u.bootstrap),this._r3Injector=Mv(s,a,[{provide:kd,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],xe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ld extends nl{constructor(s){super(),this.moduleType=s}create(s){return new Vd(this.moduleType,s)}}class eC extends kd{constructor(s,a,u){super(),this.componentFactoryResolver=new o0(this),this.instance=null;const h=new vc([...s,{provide:kd,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],a||Mu(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Zo(i,s,a=null){return new eC(i,s,a).injector}let LT=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const u=Xn(0,a.type),h=u.length>0?Zo([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Mn({token:i,providedIn:"environment",factory:()=>new i(hi(wa))}),i})();function kc(i){i.getStandaloneInjector=s=>s.get(LT).getOrCreateStandaloneInjector(i)}function N_(i,s,a){const u=P()+i,h=st();return h[u]===Dn?Sa(h,u,a?s.call(a):s()):function wd(i,s){return i[s]}(h,u)}function UT(i,s,a,u){return function HT(i,s,a,u,h,m){const E=s+a;return fs(i,E,h)?Sa(i,E+1,m?u.call(m,h):u(h)):Vc(i,E+1)}(st(),P(),i,s,a,u)}function dg(i,s,a,u,h){return function P_(i,s,a,u,h,m,E){const C=s+a;return Id(i,C,h,m)?Sa(i,C+2,E?u.call(E,h,m):u(h,m)):Vc(i,C+2)}(st(),P(),i,s,a,u,h)}function Fc(i,s,a,u,h,m){return function jT(i,s,a,u,h,m,E,C){const R=s+a;return function Yh(i,s,a,u,h){const m=Id(i,s,a,u);return fs(i,s+2,h)||m}(i,R,h,m,E)?Sa(i,R+3,C?u.call(C,h,m,E):u(h,m,E)):Vc(i,R+3)}(st(),P(),i,s,a,u,h,m)}function Vc(i,s){const a=i[s];return a===Dn?void 0:a}function fg(i){return s=>{setTimeout(i,void 0,s)}}const $l=class fC extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){let h=s,m=a||(()=>null),E=u;if(s&&"object"==typeof s){const R=s;h=R.next?.bind(R),m=R.error?.bind(R),E=R.complete?.bind(R)}this.__isAsync&&(m=fg(m),h&&(h=fg(h)),E&&(E=fg(E)));const C=super.subscribe({next:h,error:m,complete:E});return s instanceof Z.w0&&s.add(C),C}};function zT(){return this._results[Dd()]()}class fb{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Dd(),u=fb.prototype;u[a]||(u[a]=zT)}get changes(){return this._changes||(this._changes=new $l)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=Ss(s);(this._changesDetected=!function em(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],m=s[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ud=(()=>{class i{}return i.__NG_ELEMENT_ID__=gC,i})();const pC=Ud,WT=class extends pC{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s,a){const u=this._declarationTContainer.tViews,h=jh(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[19];return null!==E&&(h[19]=E.createEmbeddedView(u)),mD(u,h,s),new zp(h)}};function gC(){return pg(dr(),st())}function pg(i,s){return 4&i.type?new WT(s,i,Ia(i,s)):null}let gg=(()=>{class i{}return i.__NG_ELEMENT_ID__=pb,i})();function pb(){return gb(dr(),st())}const mC=gg,qT=class extends mC{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const s=mu(this._hostTNode,this._hostLView);if(jn(s)){const a=sn(s,this._hostLView),u=gn(s);return new $o(a[1].data[u+8],a)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=F_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const E=s.createEmbeddedView(a||{},m);return this.insert(E,h),E}createComponent(s,a,u,h,m){const E=s&&!function vu(i){return"function"==typeof i}(s);let C;if(E)C=a;else{const X=a||{};C=X.index,u=X.injector,h=X.projectableNodes,m=X.environmentInjector||X.ngModuleRef}const R=E?s:new Sc(Tn(s)),U=u||this.parentInjector;if(!m&&null==R.ngModule){const pe=(E?U:this.parentInjector).get(wa,null);pe&&(m=pe)}const q=R.create(U,h,void 0,m);return this.insert(q.hostView,C),q}insert(s,a){const u=s._lView,h=u[1];if(function da(i){return Sr(i[3])}(u)){const q=this.indexOf(s);if(-1!==q)this.detach(q);else{const X=u[3],pe=new qT(X,X[6],X[3]);pe.detach(pe.indexOf(s))}}const m=this._adjustIndex(a),E=this._lContainer;!function Xy(i,s,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=s),u<m-10?(s[4]=a[h],sp(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const E=s[17];null!==E&&a!==E&&function ev(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(E,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=64}(h,u,E,m);const C=qa(m,E),R=u[11],U=pc(R,E[7]);return null!==U&&function Zy(i,s,a,u,h,m){u[0]=h,u[6]=s,Ms(i,u,a,1,h,m)}(h,E[6],R,u,U,C),s.attachToViewContainerRef(),sp(Oi(E),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=F_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=Iu(this._lContainer,a);u&&(rd(Oi(this._lContainer),a),hc(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=Iu(this._lContainer,a);return u&&null!=rd(Oi(this._lContainer),a)?new zp(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function F_(i){return i[8]}function Oi(i){return i[8]||(i[8]=[])}function gb(i,s){let a;const u=s[i.index];if(Sr(u))a=u;else{let h;if(8&i.type)h=Rr(u);else{const m=s[11];h=m.createComment("");const E=Vr(i,s);Cu(m,pc(m,E),h,function Eh(i,s){return i.nextSibling(s)}(m,E),!1)}s[i.index]=a=Qm(u,s,h,i),Bu(s,a)}return new qT(a,i,s)}class xr{constructor(s){this.queryList=s,this.matches=null}clone(){return new xr(this.queryList)}setDirty(){this.queryList.setDirty()}}class yf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const E=a.getByIndex(m);h.push(this.queries[E.indexInDeclarationView].clone())}return new yf(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==mg(s,a).matches&&this.queries[a].setDirty()}}class gs{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class hr{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(s,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new hr(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class V_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new V_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(s,a,vf(a,m)),this.matchTNodeWithReadOption(s,a,yu(a,s,m,!1,!1))}else u===Ud?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,yu(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===ku||h===gg||h===Ud&&4&a.type)this.addMatch(a.index,-2);else{const m=yu(a,s,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function vf(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function YT(i,s,a,u){return-1===a?function Ao(i,s){return 11&i.type?Ia(i,s):4&i.type?pg(i,s):null}(s,i):-2===a?function yC(i,s,a){return a===ku?Ia(s,i):a===Ud?pg(s,i):a===gg?gb(s,i):void 0}(i,s,u):Ur(i,i[1],a,s)}function pi(i,s,a,u){const h=s[19].queries[u];if(null===h.matches){const m=i.data,E=a.matches,C=[];for(let R=0;R<E.length;R+=2){const U=E[R];C.push(U<0?null:YT(s,m[U],E[R+1],a.metadata.read))}h.matches=C}return h.matches}function mb(i,s,a,u){const h=i.queries.getByIndex(a),m=h.matches;if(null!==m){const E=pi(i,s,h,a);for(let C=0;C<m.length;C+=2){const R=m[C];if(R>0)u.push(E[C/2]);else{const U=m[C+1],q=s[-R];for(let X=10;X<q.length;X++){const pe=q[X];pe[17]===pe[3]&&mb(pe[1],pe,U,u)}if(null!==q[9]){const X=q[9];for(let pe=0;pe<X.length;pe++){const Ce=X[pe];mb(Ce[1],Ce,U,u)}}}}}return u}function Gl(i){const s=st(),a=Pn(),u=vl();fa(u+1);const h=mg(a,u);if(i.dirty&&function ml(i){return 4==(4&i[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const m=h.crossesNgTemplate?mb(a,s,u,[]):pi(a,s,h,u);i.reset(m,Rm),i.notifyOnChanges()}return!0}return!1}function Kr(i,s,a){const u=Pn();u.firstCreatePass&&(vb(u,new gs(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),yb(u,st(),s)}function zl(i,s,a,u){const h=Pn();if(h.firstCreatePass){const m=dr();vb(h,new gs(s,a,u),m.index),function L_(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}yb(h,st(),a)}function _b(){return function QT(i,s){return i[19].queries[s].queryList}(st(),vl())}function yb(i,s,a){const u=new fb(4==(4&a));jp(i,s,u,u.destroy),null===s[19]&&(s[19]=new yf),s[19].queries.push(new xr(u))}function vb(i,s,a){null===i.queries&&(i.queries=new hr),i.queries.track(new V_(s,a))}function mg(i,s){return i.queries.getByIndex(s)}function bf(i,s){return pg(i,s)}function If(...i){}const Af=new rr("Application Initializer");let Gd=(()=>{class i{constructor(a){this.appInits=a,this.resolve=If,this.reject=If,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(I0(m))a.push(m);else if(LD(m)){const E=new Promise((C,R)=>{m.subscribe({complete:C,error:R})});a.push(E)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(hi(Af,8))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Eg=new rr("AppId",{providedIn:"root",factory:function Cb(){return`${rl()}${rl()}${rl()}`}});function rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ab=new rr("Platform Initializer"),Sf=new rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sb=new rr("appBootstrapListener"),Rf=new rr("AnimationModuleType");let zs=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Dg=new rr("LocaleId",{providedIn:"root",factory:()=>sd(Dg,Pt.Optional|Pt.SkipSelf)||function uw(){return typeof $localize<"u"&&$localize.locale||Sd}()}),Rb=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nf{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Tg=(()=>{class i{compileModuleSync(a){return new Ld(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=Ja(zn(a).declarations).reduce((E,C)=>{const R=Tn(C);return R&&E.push(new Sc(R)),E},[]);return new Nf(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wg=(()=>Promise.resolve(0))();function z_(i){typeof Zone>"u"?wg.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ea{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $l(!1),this.onMicrotaskEmpty=new $l(!1),this.onStable=new $l(!1),this.onError=new $l(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Yl(){let i=nt.requestAnimationFrame,s=nt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Rn(i){const s=()=>{!function RC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Pb(i),i.isCheckStableRunning=!0,Mb(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Pb(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,E,C)=>{try{return W_(i),a.invokeTask(h,m,E,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||i.shouldCoalesceRunChangeDetection)&&s(),q_(i)}},onInvoke:(a,u,h,m,E,C,R)=>{try{return W_(i),a.invoke(h,m,E,C,R)}finally{i.shouldCoalesceRunChangeDetection&&s(),q_(i)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(i._hasPendingMicrotasks=m.microTask,Pb(i),Mb(i)):"macroTask"==m.change&&(i.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),i.runOutsideAngular(()=>i.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new Ae(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+h,s,Ig,If,If);try{return m.runTask(E,a,u)}finally{m.cancelTask(E)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ig={};function Mb(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Pb(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function W_(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function q_(i){i._nesting--,Mb(i)}class hw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $l,this.onMicrotaskEmpty=new $l,this.onStable=new $l,this.onError=new $l}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}const Ob=new rr(""),Cg=new rr("");let Gc,NC=(()=>{class i{constructor(a,u,h){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gc||(function pw(i){Gc=i}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),z_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())z_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(hi(ea),hi(fw),hi(Cg))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})(),fw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Gc?.findTestabilityInTree(this,a,u)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),So=null;const xb=new rr("AllowMultipleToken"),qu=new rr("PlatformDestroyListeners");class Ag{constructor(s,a){this.name=s,this.token=a}}function Sg(i,s,a=[]){const u=`Platform: ${s}`,h=new rr(u);return(m=[])=>{let E=Fb();if(!E||E.injector.get(xb,!1)){const C=[...a,...m,{provide:h,useValue:!0}];i?i(C):function PC(i){if(So&&!So.get(xb,!1))throw new Ae(400,!1);So=i;const s=i.get(Vb);(function Qr(i){const s=i.get(Ab,null);s&&s.forEach(a=>a())})(i)}(function _w(i=[],s){return Vu.create({name:s,providers:[{provide:Ps,useValue:"platform"},{provide:qu,useValue:new Set([()=>So=null])},...i]})}(C,u))}return function mw(i){const s=Fb();if(!s)throw new Ae(401,!1);return s}()}}function Fb(){return So?.get(Vb)??null}let Vb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const h=function Jl(i,s){let a;return a="noop"===i?new hw:("zone.js"===i?void 0:i)||new ea(s),a}(u?.ngZone,function zd(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:ea,useValue:h}];return h.run(()=>{const E=Vu.create({providers:m,parent:this.injector,name:a.moduleType.name}),C=a.create(E),R=C.injector.get(Np,null);if(!R)throw new Ae(402,!1);return h.runOutsideAngular(()=>{const U=h.onError.subscribe({next:q=>{R.handleError(q)}});C.onDestroy(()=>{Ku(this._modules,C),U.unsubscribe()})}),function Lb(i,s,a){try{const u=a();return I0(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(R,h,()=>{const U=C.injector.get(Gd);return U.runInitializers(),U.donePromise.then(()=>(rg(C.injector.get(Dg,Sd)||Sd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,u=[]){const h=Bb({},u);return function Mf(i,s,a){const u=new Ld(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get(Rg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(qu,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(hi(Vu))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Bb(i,s){return Array.isArray(s)?s.reduce(Bb,i):{...i,...s}}let Rg=(()=>{class i{constructor(a,u,h){this._zone=a,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new H.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new H.y(C=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{ea.assertNotInAngularZone(),z_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{R.unsubscribe(),U.unsubscribe()}});this.isStable=(0,be.T)(m,E.pipe((0,Te.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof Oh;if(!this._injector.get(Gd).done)throw!h&&Ir(a),new Ae(405,false);let E;E=h?a:this._injector.get(md).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const C=function gw(i){return i.isBoundToModule}(E)?void 0:this._injector.get(kd),U=E.create(Vu.NULL,[],u||E.selector,C),q=U.location.nativeElement,X=U.injector.get(Ob,null);return X?.registerApplication(q),U.onDestroy(()=>{this.detachView(U.hostView),Ku(this.components,U),X?.unregisterApplication(q)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Ku(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Sb,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ku(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ae(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(hi(ea),hi(wa),hi(Np))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ku(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Q_=!0;function kC(){Q_=!1}let yw=(()=>{class i{}return i.__NG_ELEMENT_ID__=Z_,i})();function Z_(i){return function FC(i,s,a){if(co(i)&&!a){const u=ui(i.index,s);return new zp(u,u)}return 47&i.type?new zp(s[16],s):null}(dr(),st(),16==(16&i))}class ny{constructor(){}supports(s){return Td(s)}create(s){return new Dw(s)}}const Wb=(i,s)=>s;class Dw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Wb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const E=!u||a&&a.currentIndex<Kb(u,h,m)?a:u,C=Kb(E,h,m),R=E.currentIndex;if(E===u)h--,u=u._nextRemoved;else if(a=a._next,null==E.previousIndex)h++;else{m||(m=[]);const U=C-h,q=R-h;if(U!=q){for(let pe=0;pe<U;pe++){const Ce=pe<m.length?m[pe]:m[pe]=0,Ze=Ce+pe;q<=Ze&&Ze<U&&(m[pe]=Ce+1)}m[E.previousIndex]=q-U}}C!==R&&s(E,C,R)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Td(s))throw new Ae(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,E,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)m=s[C],E=this._trackByFn(C,m),null!==a&&Object.is(a.trackById,E)?(u&&(a=this._verifyReinsertion(a,m,E,C)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,E,C),u=!0),a=a._next}else h=0,function qp(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Dd()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{E=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,E)?(u&&(a=this._verifyReinsertion(a,C,E,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,E,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,m,h)):s=this._addAfter(new Og(a,u),m,h),s}_verifyReinsertion(s,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new qb),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Og{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zl{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class qb{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new Zl,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kb(i,s,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class ry{constructor(){}supports(s){return s instanceof Map||g0(s)}create(){return new Tw}}class Tw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||g0(s)))throw new Ae(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const m=h._prev,E=h._next;return m&&(m._next=E),E&&(E._prev=m),h._next=null,h._prev=null,h}const u=new ww(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class ww{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yb(){return new Qb([new ny])}let Qb=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Yb()),deps:[[i,new uh,new Du]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ae(901,!1)}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:Yb}),i})();function Of(){return new xg([new ry])}let xg=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Of()),deps:[[i,new uh,new Du]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Ae(901,!1)}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:Of}),i})();const Cw=Sg(null,"core",[]);let $C=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(hi(Rg))},i.\u0275mod=ur({type:i}),i.\u0275inj=sr({}),i})();function Aw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},433:(kt,qe,G)=>{G.d(qe,{Fj:()=>Ve,u5:()=>ha,JU:()=>Ae,JJ:()=>Je,JL:()=>ce,F:()=>Ar,On:()=>Ts,Q7:()=>Zi,_Y:()=>Fa});var p=G(4650),Z=G(6895),H=G(2076),be=G(9751),Te=G(4742),De=G(8421),Ie=G(3269),xe=G(5403),Ge=G(3268),We=G(1810),ke=G(4004);let Dt=(()=>{class B{constructor(P,Y){this._renderer=P,this._elementRef=Y,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(P,Y){this._renderer.setProperty(this._elementRef.nativeElement,P,Y)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(p.Qsj),p.Y36(p.SBq))},B.\u0275dir=p.lG2({type:B}),B})(),ut=(()=>{class B extends Dt{}return B.\u0275fac=function(){let x;return function(Y){return(x||(x=p.n5z(B)))(Y||B)}}(),B.\u0275dir=p.lG2({type:B,features:[p.qOj]}),B})();const Ae=new p.OlP("NgValueAccessor"),mt={provide:Ae,useExisting:(0,p.Gpc)(()=>Ve),multi:!0},yn=new p.OlP("CompositionEventMode");let Ve=(()=>{class B extends Dt{constructor(P,Y,ze){super(P,Y),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pn(){const B=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(yn,8))},B.\u0275dir=p.lG2({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,Y){1&P&&p.NdJ("input",function(Vt){return Y._handleInput(Vt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Vt){return Y._compositionEnd(Vt.target.value)})},features:[p._Bn([mt]),p.qOj]}),B})();const at=new p.OlP("NgValidators"),lt=new p.OlP("NgAsyncValidators");function Pe(B){return function ot(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}(B.value)?{required:!0}:null}function Tt(B){return null}function jr(B){return null!=B}function xi(B){return(0,p.QGY)(B)?(0,H.D)(B):B}function nr(B){let x={};return B.forEach(P=>{x=null!=P?{...x,...P}:x}),0===Object.keys(x).length?null:x}function Mn(B,x){return x.map(P=>P(B))}function sr(B){return B.map(x=>function Ci(B){return!B.validate}(x)?x:P=>x.validate(P))}function si(B){return null!=B?function Qt(B){if(!B)return null;const x=B.filter(jr);return 0==x.length?null:function(P){return nr(Mn(P,x))}}(sr(B)):null}function Dr(B){return null!=B?function Yi(B){if(!B)return null;const x=B.filter(jr);return 0==x.length?null:function(P){return function Fe(...B){const x=(0,Ie.jO)(B),{args:P,keys:Y}=(0,Te.D)(B),ze=new be.y(Vt=>{const{length:Hn}=P;if(!Hn)return void Vt.complete();const us=new Array(Hn);let Zs=Hn,po=Hn;for(let Xs=0;Xs<Hn;Xs++){let go=!1;(0,De.Xf)(P[Xs]).subscribe((0,xe.x)(Vt,jo=>{go||(go=!0,po--),us[Xs]=jo},()=>Zs--,void 0,()=>{(!Zs||!go)&&(po||Vt.next(Y?(0,We.n)(Y,us):us),Vt.complete())}))}});return x?ze.pipe((0,Ge.Z)(x)):ze}(Mn(P,x).map(xi)).pipe((0,ke.U)(nr))}}(sr(B)):null}function ms(B,x){return null===B?[x]:Array.isArray(B)?[...B,x]:[B,x]}function or(B){return B?Array.isArray(B)?B:[B]:[]}function br(B,x){return Array.isArray(B)?B.includes(x):B===x}function Tr(B,x){const P=or(x);return or(B).forEach(ze=>{br(P,ze)||P.push(ze)}),P}function Pt(B,x){return or(x).filter(P=>!br(B,P))}class xn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=si(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,P){return!!this.control&&this.control.hasError(x,P)}getError(x,P){return this.control?this.control.getError(x,P):null}}class Gn extends xn{get formDirective(){return null}get path(){return null}}class qn extends xn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ai{constructor(x){this._cd=x}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Je=(()=>{class B extends Ai{constructor(P){super(P)}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(qn,2))},B.\u0275dir=p.lG2({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,Y){2&P&&p.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[p.qOj]}),B})(),ce=(()=>{class B extends Ai{constructor(P){super(P)}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(Gn,10))},B.\u0275dir=p.lG2({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,Y){2&P&&p.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[p.qOj]}),B})();const ur="VALID",Fi="INVALID",Vi="PENDING",ai="DISABLED";function li(B){return(Ir(B)?B.validators:B)||null}function Tn(B){return Array.isArray(B)?si(B):B||null}function Fr(B,x){return(Ir(x)?x.asyncValidators:B)||null}function wn(B){return Array.isArray(B)?Dr(B):B||null}function Ir(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}class ae{constructor(x,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=P,this._composedValidatorFn=Tn(this._rawValidators),this._composedAsyncValidatorFn=wn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===ur}get invalid(){return this.status===Fi}get pending(){return this.status==Vi}get disabled(){return this.status===ai}get enabled(){return this.status!==ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=Tn(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=wn(x)}addValidators(x){this.setValidators(Tr(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Tr(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Pt(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Pt(x,this._rawAsyncValidators))}hasValidator(x){return br(this._rawValidators,x)}hasAsyncValidator(x){return br(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=Vi,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const P=this._parentMarkedDirty(x.onlySelf);this.status=ai,this.errors=null,this._forEachChild(Y=>{Y.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:P}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(x={}){const P=this._parentMarkedDirty(x.onlySelf);this.status=ur,this._forEachChild(Y=>{Y.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:P}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ur||this.status===Vi)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ai:ur}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=Vi,this._hasOwnPendingAsyncValidator=!0;const P=xi(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,P={}){this.errors=x,this._updateControlsErrors(!1!==P.emitEvent)}get(x){let P=x;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((Y,ze)=>Y&&Y._find(ze),this)}getError(x,P){const Y=P?this.get(P):this;return Y&&Y.errors?Y.errors[x]:null}hasError(x,P){return!!this.getError(x,P)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ai:this.errors?Fi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vi)?Vi:this._anyControlsHaveStatus(Fi)?Fi:ur}_anyControlsHaveStatus(x){return this._anyControls(P=>P.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Ir(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}}class se extends ae{constructor(x,P,Y){super(li(P),Fr(Y,P)),this.controls=x,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,P){return this.controls[x]?this.controls[x]:(this.controls[x]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(x,P,Y={}){this.registerControl(x,P),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(x,P={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(x,P,Y={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],P&&this.registerControl(x,P),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,P={}){(function Gr(B,x,P){B._forEachChild((Y,ze)=>{if(void 0===P[ze])throw new p.vHH(1002,"")})})(this,0,x),Object.keys(x).forEach(Y=>{(function zn(B,x,P){const Y=B.controls;if(!(x?Object.keys(Y):Y).length)throw new p.vHH(1e3,"");if(!Y[P])throw new p.vHH(1001,"")})(this,!0,Y),this.controls[Y].setValue(x[Y],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(x,P={}){null!=x&&(Object.keys(x).forEach(Y=>{const ze=this.controls[Y];ze&&ze.patchValue(x[Y],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(x={},P={}){this._forEachChild((Y,ze)=>{Y.reset(x[ze],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(x,P,Y)=>(x[Y]=P.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(P,Y)=>!!Y._syncPendingControls()||P);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(P=>{const Y=this.controls[P];Y&&x(Y,P)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[P,Y]of Object.entries(this.controls))if(this.contains(P)&&x(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,Y,ze)=>((Y.enabled||this.disabled)&&(P[ze]=Y.value),P))}_reduceChildren(x,P){let Y=x;return this._forEachChild((ze,Vt)=>{Y=P(Y,ze,Vt)}),Y}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}function nn(B,x){Qi(B,x),x.valueAccessor.writeValue(B.value),B.disabled&&x.valueAccessor.setDisabledState?.(!0),function Li(B,x){x.valueAccessor.registerOnChange(P=>{B._pendingValue=P,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&Er(B,x)})}(B,x),function xs(B,x){const P=(Y,ze)=>{x.valueAccessor.writeValue(Y),ze&&x.viewToModelUpdate(Y)};B.registerOnChange(P),x._registerOnDestroy(()=>{B._unregisterOnChange(P)})}(B,x),function vi(B,x){x.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&Er(B,x),"submit"!==B.updateOn&&B.markAsTouched()})}(B,x),function rn(B,x){if(x.valueAccessor.setDisabledState){const P=Y=>{x.valueAccessor.setDisabledState(Y)};B.registerOnDisabledChange(P),x._registerOnDestroy(()=>{B._unregisterOnDisabledChange(P)})}}(B,x)}function cr(B,x){B.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(x)})}function Qi(B,x){const P=function ki(B){return B._rawValidators}(B);null!==x.validator?B.setValidators(ms(P,x.validator)):"function"==typeof P&&B.setValidators([P]);const Y=function un(B){return B._rawAsyncValidators}(B);null!==x.asyncValidator?B.setAsyncValidators(ms(Y,x.asyncValidator)):"function"==typeof Y&&B.setAsyncValidators([Y]);const ze=()=>B.updateValueAndValidity();cr(x._rawValidators,ze),cr(x._rawAsyncValidators,ze)}function Er(B,x){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}const zr={provide:Gn,useExisting:(0,p.Gpc)(()=>Ar)},Si=(()=>Promise.resolve())();let Ar=(()=>{class B extends Gn{constructor(P,Y){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new se({},si(P),Dr(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Si.then(()=>{const Y=this._findContainer(P.path);P.control=Y.registerControl(P.name,P.control),nn(P.control,P),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Si.then(()=>{const Y=this._findContainer(P.path);Y&&Y.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Si.then(()=>{const Y=this._findContainer(P.path),ze=new se({});(function _s(B,x){Qi(B,x)})(ze,P),Y.registerControl(P.name,ze),ze.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Si.then(()=>{const Y=this._findContainer(P.path);Y&&Y.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,Y){Si.then(()=>{this.form.get(P.path).setValue(Y)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,function vs(B,x){B._syncPendingControls(),x.forEach(P=>{const Y=P.control;"submit"===Y.updateOn&&Y._pendingChange&&(P.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(at,10),p.Y36(lt,10))},B.\u0275dir=p.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(P,Y){1&P&&p.NdJ("submit",function(Vt){return Y.onSubmit(Vt)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([zr]),p.qOj]}),B})();function Sr(B,x){const P=B.indexOf(x);P>-1&&B.splice(P,1)}function Es(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const co=class extends ae{constructor(x=null,P,Y){super(li(P),Fr(Y,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ir(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Es(x)?x.value:x)}setValue(x,P={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(x,P={}){this.setValue(x,P)}reset(x=this.defaultValue,P={}){this._applyFormState(x),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Sr(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Sr(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){Es(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},ul={provide:qn,useExisting:(0,p.Gpc)(()=>Ts)},Zu=(()=>Promise.resolve())();let Ts=(()=>{class B extends qn{constructor(P,Y,ze,Vt,Hn){super(),this._changeDetectorRef=Hn,this.control=new co,this._registered=!1,this.update=new p.vpe,this._parent=P,this._setValidators(Y),this._setAsyncValidators(ze),this.valueAccessor=function ss(B,x){if(!x)return null;let P,Y,ze;return Array.isArray(x),x.forEach(Vt=>{Vt.constructor===Ve?P=Vt:function is(B){return Object.getPrototypeOf(B.constructor)===ut}(Vt)?Y=Vt:ze=Vt}),ze||Y||P||null}(0,Vt)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const Y=P.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),function ys(B,x){if(!B.hasOwnProperty("model"))return!1;const P=B.model;return!!P.isFirstChange()||!Object.is(x,P.currentValue)}(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Zu.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const Y=P.isDisabled.currentValue,ze=0!==Y&&(0,p.D6c)(Y);Zu.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?function zt(B,x){return[...x.path,B]}(P,this._parent):[P]}}return B.\u0275fac=function(P){return new(P||B)(p.Y36(Gn,9),p.Y36(at,10),p.Y36(lt,10),p.Y36(Ae,10),p.Y36(p.sBO,8))},B.\u0275dir=p.lG2({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([ul]),p.qOj,p.TTD]}),B})(),Fa=(()=>{class B{}return B.\u0275fac=function(P){return new(P||B)},B.\u0275dir=p.lG2({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),B})(),ko=(()=>{class B{}return B.\u0275fac=function(P){return new(P||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({}),B})(),Qs=(()=>{class B{constructor(){this._validator=Tt}ngOnChanges(P){if(this.inputName in P){const Y=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):Tt,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}}return B.\u0275fac=function(P){return new(P||B)},B.\u0275dir=p.lG2({type:B,features:[p.TTD]}),B})();const Ua={provide:at,useExisting:(0,p.Gpc)(()=>Zi),multi:!0};let Zi=(()=>{class B extends Qs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.D6c,this.createValidator=P=>Pe}enabled(P){return P}}return B.\u0275fac=function(){let x;return function(Y){return(x||(x=p.n5z(B)))(Y||B)}}(),B.\u0275dir=p.lG2({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(P,Y){2&P&&p.uIk("required",Y._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([Ua]),p.qOj]}),B})(),Pn=(()=>{class B{}return B.\u0275fac=function(P){return new(P||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[ko]}),B})(),ha=(()=>{class B{}return B.\u0275fac=function(P){return new(P||B)},B.\u0275mod=p.oAB({type:B}),B.\u0275inj=p.cJS({imports:[Pn]}),B})()},1481:(kt,qe,G)=>{G.d(qe,{Dx:()=>Je,b2:()=>Gn,q6:()=>br,se:()=>Pe});var p=G(6895),Z=G(4650);class H extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends H{static makeCurrent(){(0,p.HT)(new be)}onAndCancel(se,te,Se){return se.addEventListener(te,Se,!1),()=>{se.removeEventListener(te,Se,!1)}}dispatchEvent(se,te){se.dispatchEvent(te)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,te){return(te=te||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,te){return"window"===te?window:"document"===te?se:"body"===te?se.body:null}getBaseHref(se){const te=function De(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==te?null:function xe(ae){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",ae);const se=Ie.pathname;return"/"===se.charAt(0)?se:`/${se}`}(te)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,p.Mx)(document.cookie,se)}}let Ie,Te=null;const Ge=new Z.OlP("TRANSITION_ID"),Fe=[{provide:Z.ip1,useFactory:function We(ae,se,te){return()=>{te.get(Z.CZH).donePromise.then(()=>{const Se=(0,p.q)(),tt=se.querySelectorAll(`style[ng-transition="${ae}"]`);for(let Mt=0;Mt<tt.length;Mt++)Se.remove(tt[Mt])})}},deps:[Ge,p.K0,Z.zs3],multi:!0}];let Dt=(()=>{class ae{build(){return new XMLHttpRequest}}return ae.\u0275fac=function(te){return new(te||ae)},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const ut=new Z.OlP("EventManagerPlugins");let Ae=(()=>{class ae{constructor(te,Se){this._zone=Se,this._eventNameToPlugin=new Map,te.forEach(tt=>tt.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,Se,tt){return this._findPluginFor(Se).addEventListener(te,Se,tt)}addGlobalEventListener(te,Se,tt){return this._findPluginFor(Se).addGlobalEventListener(te,Se,tt)}getZone(){return this._zone}_findPluginFor(te){const Se=this._eventNameToPlugin.get(te);if(Se)return Se;const tt=this._plugins;for(let Mt=0;Mt<tt.length;Mt++){const zt=tt[Mt];if(zt.supports(te))return this._eventNameToPlugin.set(te,zt),zt}throw new Error(`No event manager plugin found for event ${te}`)}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(ut),Z.LFG(Z.R0b))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();class Nt{constructor(se){this._doc=se}addGlobalEventListener(se,te,Se){const tt=(0,p.q)().getGlobalEventTarget(this._doc,se);if(!tt)throw new Error(`Unsupported event target ${tt} for event ${te}`);return this.addEventListener(tt,te,Se)}}let et=(()=>{class ae{constructor(){this._stylesSet=new Set}addStyles(te){const Se=new Set;te.forEach(tt=>{this._stylesSet.has(tt)||(this._stylesSet.add(tt),Se.add(tt))}),this.onStylesAdded(Se)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return ae.\u0275fac=function(te){return new(te||ae)},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),mt=(()=>{class ae extends et{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,Se,tt){te.forEach(Mt=>{const zt=this._doc.createElement("style");zt.textContent=Mt,tt.push(Se.appendChild(zt))})}addHost(te){const Se=[];this._addStylesToHost(this._stylesSet,te,Se),this._hostNodes.set(te,Se)}removeHost(te){const Se=this._hostNodes.get(te);Se&&Se.forEach(pn),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((Se,tt)=>{this._addStylesToHost(te,tt,Se)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(pn))}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(p.K0))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();function pn(ae){(0,p.q)().remove(ae)}const yn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g;function Ee(ae,se,te){for(let Se=0;Se<se.length;Se++){let tt=se[Se];Array.isArray(tt)?Ee(ae,tt,te):(tt=tt.replace(Ve,ae),te.push(tt))}return te}function Me(ae){return se=>{if("__ngUnwrap__"===se)return ae;!1===ae(se)&&(se.preventDefault(),se.returnValue=!1)}}let Pe=(()=>{class ae{constructor(te,Se,tt){this.eventManager=te,this.sharedStylesHost=Se,this.appId=tt,this.rendererByCompId=new Map,this.defaultRenderer=new _t(te)}createRenderer(te,Se){if(!te||!Se)return this.defaultRenderer;switch(Se.encapsulation){case Z.ifc.Emulated:{let tt=this.rendererByCompId.get(Se.id);return tt||(tt=new $n(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,tt)),tt.applyToHost(te),tt}case 1:case Z.ifc.ShadowDom:return new Tt(this.eventManager,this.sharedStylesHost,te,Se);default:if(!this.rendererByCompId.has(Se.id)){const tt=Ee(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(tt),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(Ae),Z.LFG(mt),Z.LFG(Z.AFp))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();class _t{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,te){return te?document.createElementNS(yn[te]||te,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,te){(Nn(se)?se.content:se).appendChild(te)}insertBefore(se,te,Se){se&&(Nn(se)?se.content:se).insertBefore(te,Se)}removeChild(se,te){se&&se.removeChild(te)}selectRootElement(se,te){let Se="string"==typeof se?document.querySelector(se):se;if(!Se)throw new Error(`The selector "${se}" did not match any elements`);return te||(Se.textContent=""),Se}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,te,Se,tt){if(tt){te=tt+":"+te;const Mt=yn[tt];Mt?se.setAttributeNS(Mt,te,Se):se.setAttribute(te,Se)}else se.setAttribute(te,Se)}removeAttribute(se,te,Se){if(Se){const tt=yn[Se];tt?se.removeAttributeNS(tt,te):se.removeAttribute(`${Se}:${te}`)}else se.removeAttribute(te)}addClass(se,te){se.classList.add(te)}removeClass(se,te){se.classList.remove(te)}setStyle(se,te,Se,tt){tt&(Z.JOm.DashCase|Z.JOm.Important)?se.style.setProperty(te,Se,tt&Z.JOm.Important?"important":""):se.style[te]=Se}removeStyle(se,te,Se){Se&Z.JOm.DashCase?se.style.removeProperty(te):se.style[te]=""}setProperty(se,te,Se){se[te]=Se}setValue(se,te){se.nodeValue=te}listen(se,te,Se){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,te,Me(Se)):this.eventManager.addEventListener(se,te,Me(Se))}}function Nn(ae){return"TEMPLATE"===ae.tagName&&void 0!==ae.content}class $n extends _t{constructor(se,te,Se,tt){super(se),this.component=Se;const Mt=Ee(tt+"-"+Se.id,Se.styles,[]);te.addStyles(Mt),this.contentAttr=function lt(ae){return"_ngcontent-%COMP%".replace(Ve,ae)}(tt+"-"+Se.id),this.hostAttr=function ft(ae){return"_nghost-%COMP%".replace(Ve,ae)}(tt+"-"+Se.id)}applyToHost(se){super.setAttribute(se,this.hostAttr,"")}createElement(se,te){const Se=super.createElement(se,te);return super.setAttribute(Se,this.contentAttr,""),Se}}class Tt extends _t{constructor(se,te,Se,tt){super(se),this.sharedStylesHost=te,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mt=Ee(tt.id,tt.styles,[]);for(let zt=0;zt<Mt.length;zt++){const nn=document.createElement("style");nn.textContent=Mt[zt],this.shadowRoot.appendChild(nn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(se,te){return super.appendChild(this.nodeOrShadowRoot(se),te)}insertBefore(se,te,Se){return super.insertBefore(this.nodeOrShadowRoot(se),te,Se)}removeChild(se,te){return super.removeChild(this.nodeOrShadowRoot(se),te)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}}let jr=(()=>{class ae extends Nt{constructor(te){super(te)}supports(te){return!0}addEventListener(te,Se,tt){return te.addEventListener(Se,tt,!1),()=>this.removeEventListener(te,Se,tt)}removeEventListener(te,Se,tt){return te.removeEventListener(Se,tt)}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(p.K0))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const xi=["alt","control","meta","shift"],nr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mn={alt:ae=>ae.altKey,control:ae=>ae.ctrlKey,meta:ae=>ae.metaKey,shift:ae=>ae.shiftKey};let Ci=(()=>{class ae extends Nt{constructor(te){super(te)}supports(te){return null!=ae.parseEventName(te)}addEventListener(te,Se,tt){const Mt=ae.parseEventName(Se),zt=ae.eventCallback(Mt.fullKey,tt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(te,Mt.domEventName,zt))}static parseEventName(te){const Se=te.toLowerCase().split("."),tt=Se.shift();if(0===Se.length||"keydown"!==tt&&"keyup"!==tt)return null;const Mt=ae._normalizeKey(Se.pop());let zt="",nn=Se.indexOf("code");if(nn>-1&&(Se.splice(nn,1),zt="code."),xi.forEach(cr=>{const rn=Se.indexOf(cr);rn>-1&&(Se.splice(rn,1),zt+=cr+".")}),zt+=Mt,0!=Se.length||0===Mt.length)return null;const pr={};return pr.domEventName=tt,pr.fullKey=zt,pr}static matchEventFullKeyCode(te,Se){let tt=nr[te.key]||te.key,Mt="";return Se.indexOf("code.")>-1&&(tt=te.code,Mt="code."),!(null==tt||!tt)&&(tt=tt.toLowerCase()," "===tt?tt="space":"."===tt&&(tt="dot"),xi.forEach(zt=>{zt!==tt&&(0,Mn[zt])(te)&&(Mt+=zt+".")}),Mt+=tt,Mt===Se)}static eventCallback(te,Se,tt){return Mt=>{ae.matchEventFullKeyCode(Mt,te)&&tt.runGuarded(()=>Se(Mt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(p.K0))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const br=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:p.bD},{provide:Z.g9A,useValue:function ms(){be.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function un(){return(0,Z.RDi)(document),document},deps:[]}]),Tr=new Z.OlP(""),Pt=[{provide:Z.rWj,useClass:class ke{addToWindow(se){Z.dqk.getAngularTestability=(Se,tt=!0)=>{const Mt=se.findTestabilityInTree(Se,tt);if(null==Mt)throw new Error("Could not find testability for element.");return Mt},Z.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(Se=>{const tt=Z.dqk.getAllAngularTestabilities();let Mt=tt.length,zt=!1;const nn=function(pr){zt=zt||pr,Mt--,0==Mt&&Se(zt)};tt.forEach(function(pr){pr.whenStable(nn)})})}findTestabilityInTree(se,te,Se){return null==te?null:se.getTestability(te)??(Se?(0,p.q)().isShadowRoot(te)?this.findTestabilityInTree(se,te.host,!0):this.findTestabilityInTree(se,te.parentElement,!0):null)}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],xn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function ki(){return new Z.qLn},deps:[]},{provide:ut,useClass:jr,multi:!0,deps:[p.K0,Z.R0b,Z.Lbi]},{provide:ut,useClass:Ci,multi:!0,deps:[p.K0]},{provide:Pe,useClass:Pe,deps:[Ae,mt,Z.AFp]},{provide:Z.FYo,useExisting:Pe},{provide:et,useExisting:mt},{provide:mt,useClass:mt,deps:[p.K0]},{provide:Ae,useClass:Ae,deps:[ut,Z.R0b]},{provide:p.JF,useClass:Dt,deps:[]},[]];let Gn=(()=>{class ae{constructor(te){}static withServerTransition(te){return{ngModule:ae,providers:[{provide:Z.AFp,useValue:te.appId},{provide:Ge,useExisting:Z.AFp},Fe]}}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(Tr,12))},ae.\u0275mod=Z.oAB({type:ae}),ae.\u0275inj=Z.cJS({providers:[...xn,...Pt],imports:[p.ez,Z.hGG]}),ae})(),Je=(()=>{class ae{constructor(te){this._doc=te}getTitle(){return this._doc.title}setTitle(te){this._doc.title=te||""}}return ae.\u0275fac=function(te){return new(te||ae)(Z.LFG(p.K0))},ae.\u0275prov=Z.Yz7({token:ae,factory:function(te){let Se=null;return Se=te?new te:function kr(){return new Je((0,Z.LFG)(p.K0))}(),Se},providedIn:"root"}),ae})();typeof window<"u"&&window},2605:(kt,qe,G)=>{G.d(qe,{F0:()=>Ur,Od:()=>nd,yS:()=>$o,Bz:()=>xy,lC:()=>Rr});var p=G(4650),Z=G(2076),H=G(9646),be=G(1135);const De=(0,G(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"});var Ie=G(9841),xe=G(7272),Ge=G(9770),We=G(9635),Fe=G(2843),ke=G(9751),Dt=G(515),ut=G(727),Ae=G(4482),Nt=G(5403);function et(){return(0,Ae.e)((w,T)=>{let D=null;w._refCount++;const N=(0,Nt.x)(T,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(D=null);const k=w._connection,z=D;D=null,k&&(!z||k===z)&&k.unsubscribe(),T.unsubscribe()});w.subscribe(N),N.closed||(D=w.connect())})}class mt extends ke.y{constructor(T,D){super(),this.source=T,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,Ae.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new ut.w0;const D=this.getSubject();T.add(this.source.subscribe((0,Nt.x)(D,void 0,()=>{this._teardown(),D.complete()},N=>{this._teardown(),D.error(N)},()=>this._teardown()))),T.closed&&(this._connection=null,T=ut.w0.EMPTY)}return T}refCount(){return et()(this)}}var pn=G(7579),yn=G(6895),Ve=G(4004),_e=G(3900),ot=G(5698),qt=G(8675),at=G(9300),lt=G(5577);function ft(w){return(0,Ae.e)((T,D)=>{let N=!1;T.subscribe((0,Nt.x)(D,k=>{N=!0,D.next(k)},()=>{N||D.next(w),D.complete()}))})}function Ee(w=Me){return(0,Ae.e)((T,D)=>{let N=!1;T.subscribe((0,Nt.x)(D,k=>{N=!0,D.next(k)},()=>N?D.complete():D.error(w())))})}function Me(){return new De}var Qe=G(4671);function Pe(w,T){const D=arguments.length>=2;return N=>N.pipe(w?(0,at.h)((k,z)=>w(k,z,N)):Qe.y,(0,ot.q)(1),D?ft(T):Ee(()=>new De))}var _t=G(4351),ht=G(8505),Yt=G(262);function Nn(w,T,D,N,k){return(z,ee)=>{let oe=D,$e=T,Et=0;z.subscribe((0,Nt.x)(ee,vn=>{const Ot=Et++;$e=oe?w($e,vn,Ot):(oe=!0,vn),N&&ee.next($e)},k&&(()=>{oe&&ee.next($e),ee.complete()})))}}function $n(w,T){return(0,Ae.e)(Nn(w,T,arguments.length>=2,!0))}function Tt(w){return w<=0?()=>Dt.E:(0,Ae.e)((T,D)=>{let N=[];T.subscribe((0,Nt.x)(D,k=>{N.push(k),w<N.length&&N.shift()},()=>{for(const k of N)D.next(k);D.complete()},void 0,()=>{N=null}))})}function jr(w,T){const D=arguments.length>=2;return N=>N.pipe(w?(0,at.h)((k,z)=>w(k,z,N)):Qe.y,Tt(1),D?ft(T):Ee(()=>new De))}var nr=G(9718);function Mn(w){return(0,Ae.e)((T,D)=>{try{T.subscribe(D)}finally{D.add(w)}})}var Ci=G(8189),sr=G(1481);const Qt="primary",si=Symbol("RouteTitle");class Yi{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const D=this.params[T];return Array.isArray(D)?D[0]:D}return null}getAll(T){if(this.has(T)){const D=this.params[T];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Dr(w){return new Yi(w)}function ms(w,T,D){const N=D.path.split("/");if(N.length>w.length||"full"===D.pathMatch&&(T.hasChildren()||N.length<w.length))return null;const k={};for(let z=0;z<N.length;z++){const ee=N[z],oe=w[z];if(ee.startsWith(":"))k[ee.substring(1)]=oe;else if(ee!==oe.path)return null}return{consumed:w.slice(0,N.length),posParams:k}}function un(w,T){const D=w?Object.keys(w):void 0,N=T?Object.keys(T):void 0;if(!D||!N||D.length!=N.length)return!1;let k;for(let z=0;z<D.length;z++)if(k=D[z],!or(w[k],T[k]))return!1;return!0}function or(w,T){if(Array.isArray(w)&&Array.isArray(T)){if(w.length!==T.length)return!1;const D=[...w].sort(),N=[...T].sort();return D.every((k,z)=>N[z]===k)}return w===T}function br(w){return Array.prototype.concat.apply([],w)}function Tr(w){return w.length>0?w[w.length-1]:null}function xn(w,T){for(const D in w)w.hasOwnProperty(D)&&T(w[D],D)}function Gn(w){return(0,p.CqO)(w)?w:(0,p.QGY)(w)?(0,Z.D)(Promise.resolve(w)):(0,H.of)(w)}const xa={exact:function re(w,T,D){if(!wr(w.segments,T.segments)||!Xt(w.segments,T.segments,D)||w.numberOfChildren!==T.numberOfChildren)return!1;for(const N in T.children)if(!w.children[N]||!re(w.children[N],T.children[N],D))return!1;return!0},subset:nt},kr={exact:function ce(w,T){return un(w,T)},subset:function He(w,T){return Object.keys(T).length<=Object.keys(w).length&&Object.keys(T).every(D=>or(w[D],T[D]))},ignored:()=>!0};function Je(w,T,D){return xa[D.paths](w.root,T.root,D.matrixParams)&&kr[D.queryParams](w.queryParams,T.queryParams)&&!("exact"===D.fragment&&w.fragment!==T.fragment)}function nt(w,T,D){return Gt(w,T,T.segments,D)}function Gt(w,T,D,N){if(w.segments.length>D.length){const k=w.segments.slice(0,D.length);return!(!wr(k,D)||T.hasChildren()||!Xt(k,D,N))}if(w.segments.length===D.length){if(!wr(w.segments,D)||!Xt(w.segments,D,N))return!1;for(const k in T.children)if(!w.children[k]||!nt(w.children[k],T.children[k],N))return!1;return!0}{const k=D.slice(0,w.segments.length),z=D.slice(w.segments.length);return!!(wr(w.segments,k)&&Xt(w.segments,k,N)&&w.children[Qt])&&Gt(w.children[Qt],T,z,N)}}function Xt(w,T,D){return T.every((N,k)=>kr[D](w[k].parameters,N.parameters))}class bn{constructor(T,D,N){this.root=T,this.queryParams=D,this.fragment=N}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return ar.serialize(this)}}class it{constructor(T,D){this.segments=T,this.children=D,this.parent=null,xn(D,(N,k)=>N.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lr(this)}}class Zn{constructor(T,D){this.path=T,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return li(this)}}function wr(w,T){return w.length===T.length&&w.every((D,N)=>D.path===T[N].path)}let en=(()=>{class w{}return w.\u0275fac=function(D){return new(D||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return new mn},providedIn:"root"}),w})();class mn{parse(T){const D=new te(T);return new bn(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(T){const D=`/${Un(T.root,!0)}`,N=function Fr(w){const T=Object.keys(w).map(D=>{const N=w[D];return Array.isArray(N)?N.map(k=>`${oi(D)}=${oi(k)}`).join("&"):`${oi(D)}=${oi(N)}`}).filter(D=>!!D);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${D}${N}${"string"==typeof T.fragment?`#${function ur(w){return encodeURI(w)}(T.fragment)}`:""}`}}const ar=new mn;function lr(w){return w.segments.map(T=>li(T)).join("/")}function Un(w,T){if(!w.hasChildren())return lr(w);if(T){const D=w.children[Qt]?Un(w.children[Qt],!1):"",N=[];return xn(w.children,(k,z)=>{z!==Qt&&N.push(`${z}:${Un(k,!1)}`)}),N.length>0?`${D}(${N.join("//")})`:D}{const D=function hn(w,T){let D=[];return xn(w.children,(N,k)=>{k===Qt&&(D=D.concat(T(N,k)))}),xn(w.children,(N,k)=>{k!==Qt&&(D=D.concat(T(N,k)))}),D}(w,(N,k)=>k===Qt?[Un(w.children[Qt],!1)]:[`${k}:${Un(N,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Qt]?`${lr(w)}/${D[0]}`:`${lr(w)}/(${D.join("//")})`}}function $r(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(w){return $r(w).replace(/%3B/gi,";")}function Fi(w){return $r(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vi(w){return decodeURIComponent(w)}function ai(w){return Vi(w.replace(/\+/g,"%20"))}function li(w){return`${Fi(w.path)}${function Tn(w){return Object.keys(w).map(T=>`;${Fi(T)}=${Fi(w[T])}`).join("")}(w.parameters)}`}const wn=/^[^\/()?;=#]+/;function Ir(w){const T=w.match(wn);return T?T[0]:""}const zn=/^[^=?&#]+/,ae=/^[^&#]+/;class te{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let N={};return this.peekStartsWith("(")&&(N=this.parseParens(!1)),(T.length>0||Object.keys(D).length>0)&&(N[Qt]=new it(T,D)),N}parseSegment(){const T=Ir(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(T),new Zn(Vi(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const D=Ir(this.remaining);if(!D)return;this.capture(D);let N="";if(this.consumeOptional("=")){const k=Ir(this.remaining);k&&(N=k,this.capture(N))}T[Vi(D)]=Vi(N)}parseQueryParam(T){const D=function Gr(w){const T=w.match(zn);return T?T[0]:""}(this.remaining);if(!D)return;this.capture(D);let N="";if(this.consumeOptional("=")){const ee=function se(w){const T=w.match(ae);return T?T[0]:""}(this.remaining);ee&&(N=ee,this.capture(N))}const k=ai(D),z=ai(N);if(T.hasOwnProperty(k)){let ee=T[k];Array.isArray(ee)||(ee=[ee],T[k]=ee),ee.push(z)}else T[k]=z}parseParens(T){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const N=Ir(this.remaining),k=this.remaining[N.length];if("/"!==k&&")"!==k&&";"!==k)throw new p.vHH(4010,!1);let z;N.indexOf(":")>-1?(z=N.slice(0,N.indexOf(":")),this.capture(z),this.capture(":")):T&&(z=Qt);const ee=this.parseChildren();D[z]=1===Object.keys(ee).length?ee[Qt]:new it([],ee),this.consumeOptional("//")}return D}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new p.vHH(4011,!1)}}function Se(w){return w.segments.length>0?new it([],{[Qt]:w}):w}function tt(w){const T={};for(const N of Object.keys(w.children)){const z=tt(w.children[N]);(z.segments.length>0||z.hasChildren())&&(T[N]=z)}return function Mt(w){if(1===w.numberOfChildren&&w.children[Qt]){const T=w.children[Qt];return new it(w.segments.concat(T.segments),T.children)}return w}(new it(w.segments,T))}function zt(w){return w instanceof bn}function Qi(w,T,D,N,k){if(0===D.length)return vi(T.root,T.root,T.root,N,k);const z=function _s(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new xs(!0,0,w);let T=0,D=!1;const N=w.reduce((k,z,ee)=>{if("object"==typeof z&&null!=z){if(z.outlets){const oe={};return xn(z.outlets,($e,Et)=>{oe[Et]="string"==typeof $e?$e.split("/"):$e}),[...k,{outlets:oe}]}if(z.segmentPath)return[...k,z.segmentPath]}return"string"!=typeof z?[...k,z]:0===ee?(z.split("/").forEach((oe,$e)=>{0==$e&&"."===oe||(0==$e&&""===oe?D=!0:".."===oe?T++:""!=oe&&k.push(oe))}),k):[...k,z]},[]);return new xs(D,T,N)}(D);return z.toRoot()?vi(T.root,T.root,new it([],{}),N,k):function ee($e){const Et=function ol(w,T,D,N){if(w.isAbsolute)return new Cr(T.root,!0,0);if(-1===N)return new Cr(D,D===T.root,0);return function Wn(w,T,D){let N=w,k=T,z=D;for(;z>k;){if(z-=k,N=N.parent,!N)throw new p.vHH(4005,!1);k=N.segments.length}return new Cr(N,!1,k-z)}(D,N+(Xr(w.commands[0])?0:1),w.numberOfDoubleDots)}(z,T,w.snapshot?._urlSegment,$e),vn=Et.processChildren?is(Et.segmentGroup,Et.index,z.commands):ys(Et.segmentGroup,Et.index,z.commands);return vi(T.root,Et.segmentGroup,vn,N,k)}(w.snapshot?._lastPathIndex)}function Xr(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Li(w){return"object"==typeof w&&null!=w&&w.outlets}function vi(w,T,D,N,k){let ee,z={};N&&xn(N,($e,Et)=>{z[Et]=Array.isArray($e)?$e.map(vn=>`${vn}`):`${$e}`}),ee=w===T?D:Er(w,T,D);const oe=Se(tt(ee));return new bn(oe,z,k)}function Er(w,T,D){const N={};return xn(w.children,(k,z)=>{N[z]=k===T?D:Er(k,T,D)}),new it(w.segments,N)}class xs{constructor(T,D,N){if(this.isAbsolute=T,this.numberOfDoubleDots=D,this.commands=N,T&&N.length>0&&Xr(N[0]))throw new p.vHH(4003,!1);const k=N.find(Li);if(k&&k!==Tr(N))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(T,D,N){this.segmentGroup=T,this.processChildren=D,this.index=N}}function ys(w,T,D){if(w||(w=new it([],{})),0===w.segments.length&&w.hasChildren())return is(w,T,D);const N=function vs(w,T,D){let N=0,k=T;const z={match:!1,pathIndex:0,commandIndex:0};for(;k<w.segments.length;){if(N>=D.length)return z;const ee=w.segments[k],oe=D[N];if(Li(oe))break;const $e=`${oe}`,Et=N<D.length-1?D[N+1]:null;if(k>0&&void 0===$e)break;if($e&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!zr($e,Et,ee))return z;N+=2}else{if(!zr($e,{},ee))return z;N++}k++}return{match:!0,pathIndex:k,commandIndex:N}}(w,T,D),k=D.slice(N.commandIndex);if(N.match&&N.pathIndex<w.segments.length){const z=new it(w.segments.slice(0,N.pathIndex),{});return z.children[Qt]=new it(w.segments.slice(N.pathIndex),w.children),is(z,0,k)}return N.match&&0===k.length?new it(w.segments,{}):N.match&&!w.hasChildren()?ss(w,T,D):N.match?is(w,0,k):ss(w,T,D)}function is(w,T,D){if(0===D.length)return new it(w.segments,{});{const N=function ka(w){return Li(w[0])?w[0].outlets:{[Qt]:w}}(D),k={};return xn(N,(z,ee)=>{"string"==typeof z&&(z=[z]),null!==z&&(k[ee]=ys(w.children[ee],T,z))}),xn(w.children,(z,ee)=>{void 0===N[ee]&&(k[ee]=z)}),new it(w.segments,k)}}function ss(w,T,D){const N=w.segments.slice(0,T);let k=0;for(;k<D.length;){const z=D[k];if(Li(z)){const $e=bs(z.outlets);return new it(N,$e)}if(0===k&&Xr(D[0])){N.push(new Zn(w.segments[T].path,ks(D[0]))),k++;continue}const ee=Li(z)?z.outlets[Qt]:`${z}`,oe=k<D.length-1?D[k+1]:null;ee&&oe&&Xr(oe)?(N.push(new Zn(ee,ks(oe))),k+=2):(N.push(new Zn(ee,{})),k++)}return new it(N,{})}function bs(w){const T={};return xn(w,(D,N)=>{"string"==typeof D&&(D=[D]),null!==D&&(T[N]=ss(new it([],{}),0,D))}),T}function ks(w){const T={};return xn(w,(D,N)=>T[N]=`${D}`),T}function zr(w,T,D){return w==D.path&&un(T,D.parameters)}class Si{constructor(T,D){this.id=T,this.url=D}}class Ar extends Si{constructor(T,D,N="imperative",k=null){super(T,D),this.type=0,this.navigationTrigger=N,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sr extends Si{constructor(T,D,N){super(T,D),this.urlAfterRedirects=N,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Es extends Si{constructor(T,D,N,k){super(T,D),this.reason=N,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Si{constructor(T,D,N,k){super(T,D),this.error=N,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ds extends Si{constructor(T,D,N,k){super(T,D),this.urlAfterRedirects=N,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends Si{constructor(T,D,N,k){super(T,D),this.urlAfterRedirects=N,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo extends Si{constructor(T,D,N,k,z){super(T,D),this.urlAfterRedirects=N,this.state=k,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class al extends Si{constructor(T,D,N,k){super(T,D),this.urlAfterRedirects=N,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ju extends Si{constructor(T,D,N,k){super(T,D),this.urlAfterRedirects=N,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nh{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ji{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ll{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zu{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(T,D,N){this.routerEvent=T,this.position=D,this.anchor=N,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sa{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const D=this.pathFromRoot(T);return D.length>1?D[D.length-2]:null}children(T){const D=Va(T,this._root);return D?D.children.map(N=>N.value):[]}firstChild(T){const D=Va(T,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(T){const D=La(T,this._root);return D.length<2?[]:D[D.length-2].children.map(k=>k.value).filter(k=>k!==T)}pathFromRoot(T){return La(T,this._root).map(D=>D.value)}}function Va(w,T){if(w===T.value)return T;for(const D of T.children){const N=Va(w,D);if(N)return N}return null}function La(w,T){if(w===T.value)return[T];for(const D of T.children){const N=La(w,D);if(N.length)return N.unshift(T),N}return[]}class qs{constructor(T,D){this.value=T,this.children=D}toString(){return`TreeNode(${this.value})`}}function ko(w){const T={};return w&&w.children.forEach(D=>T[D.value.outlet]=D),T}class oa extends sa{constructor(T,D){super(T),this.snapshot=D,Vo(this,T)}toString(){return this.snapshot.toString()}}function iu(w,T){const D=function cl(w,T){const ee=new Fo([],{},{},"",{},Qt,T,null,w.root,-1,{});return new Fs("",new qs(ee,[]))}(w,T),N=new be.X([new Zn("",{})]),k=new be.X({}),z=new be.X({}),ee=new be.X({}),oe=new be.X(""),$e=new os(N,k,ee,oe,z,Qt,T,D.root);return $e.snapshot=D.root,new oa(new qs($e,[]),D)}class os{constructor(T,D,N,k,z,ee,oe,$e){this.url=T,this.params=D,this.queryParams=N,this.fragment=k,this.data=z,this.outlet=ee,this.component=oe,this.title=this.data?.pipe((0,Ve.U)(Et=>Et[si]))??(0,H.of)(void 0),this._futureSnapshot=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(T=>Dr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(T=>Dr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ba(w,T="emptyOnly"){const D=w.pathFromRoot;let N=0;if("always"!==T)for(N=D.length-1;N>=1;){const k=D[N],z=D[N-1];if(k.routeConfig&&""===k.routeConfig.path)N--;else{if(z.component)break;N--}}return function su(w){return w.reduce((T,D)=>({params:{...T.params,...D.params},data:{...T.data,...D.data},resolve:{...D.data,...T.resolve,...D.routeConfig?.data,...D._resolvedData}}),{params:{},data:{},resolve:{}})}(D.slice(N))}class Fo{constructor(T,D,N,k,z,ee,oe,$e,Et,vn,Ot,Lt){this.url=T,this.params=D,this.queryParams=N,this.fragment=k,this.data=z,this.outlet=ee,this.component=oe,this.title=this.data?.[si],this.routeConfig=$e,this._urlSegment=Et,this._lastPathIndex=vn,this._correctedLastPathIndex=Lt??vn,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(N=>N.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fs extends sa{constructor(T,D){super(D),this.url=T,Vo(this,D)}toString(){return aa(this._root)}}function Vo(w,T){T.value._routerState=w,T.children.forEach(D=>Vo(w,D))}function aa(w){const T=w.children.length>0?` { ${w.children.map(aa).join(", ")} } `:"";return`${w.value}${T}`}function ho(w){if(w.snapshot){const T=w.snapshot,D=w._futureSnapshot;w.snapshot=D,un(T.queryParams,D.queryParams)||w.queryParams.next(D.queryParams),T.fragment!==D.fragment&&w.fragment.next(D.fragment),un(T.params,D.params)||w.params.next(D.params),function ki(w,T){if(w.length!==T.length)return!1;for(let D=0;D<w.length;++D)if(!un(w[D],T[D]))return!1;return!0}(T.url,D.url)||w.url.next(D.url),un(T.data,D.data)||w.data.next(D.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Lo(w,T){const D=un(w.params,T.params)&&function kn(w,T){return wr(w,T)&&w.every((D,N)=>un(D.parameters,T[N].parameters))}(w.url,T.url);return D&&!(!w.parent!=!T.parent)&&(!w.parent||Lo(w.parent,T.parent))}function Ks(w,T,D){if(D&&w.shouldReuseRoute(T.value,D.value.snapshot)){const N=D.value;N._futureSnapshot=T.value;const k=function dl(w,T,D){return T.children.map(N=>{for(const k of D.children)if(w.shouldReuseRoute(N.value,k.value.snapshot))return Ks(w,N,k);return Ks(w,N)})}(w,T,D);return new qs(N,k)}{if(w.shouldAttach(T.value)){const z=w.retrieve(T.value);if(null!==z){const ee=z.route;return ee.value._futureSnapshot=T.value,ee.children=T.children.map(oe=>Ks(w,oe)),ee}}const N=function ou(w){return new os(new be.X(w.url),new be.X(w.params),new be.X(w.queryParams),new be.X(w.fragment),new be.X(w.data),w.outlet,w.component,w)}(T.value),k=T.children.map(z=>Ks(w,z));return new qs(N,k)}}const Ys="ngNavigationCancelingError";function la(w,T){const{redirectTo:D,navigationBehaviorOptions:N}=zt(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,k=Ri(!1,0,T);return k.url=D,k.navigationBehaviorOptions=N,k}function Ri(w,T,D){const N=new Error("NavigationCancelingError: "+(w||""));return N[Ys]=!0,N.cancellationCode=T,D&&(N.url=D),N}function Vs(w){return hl(w)&&zt(w.url)}function hl(w){return w&&w[Ys]}class fl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ua,this.attachRef=null}}let ua=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(D,N){const k=this.getOrCreateContext(D);k.outlet=N,this.contexts.set(D,k)}onChildOutletDestroyed(D){const N=this.getContext(D);N&&(N.outlet=null,N.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let N=this.getContext(D);return N||(N=new fl,this.contexts.set(D,N)),N}getContext(D){return this.contexts.get(D)||null}}return w.\u0275fac=function(D){return new(D||w)},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const au=!1;let Rr=(()=>{class w{constructor(D,N,k,z,ee){this.parentContexts=D,this.location=N,this.changeDetector=z,this.environmentInjector=ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=k||Qt,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,au);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,au);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,au);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,N){this.activated=D,this._activatedRoute=N,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,N){if(this.isActivated)throw new p.vHH(4013,au);this._activatedRoute=D;const k=this.location,ee=D._futureSnapshot.component,oe=this.parentContexts.getOrCreateContext(this.name).children,$e=new pl(D,oe,k.injector);if(N&&function as(w){return!!w.resolveComponentFactory}(N)){const Et=N.resolveComponentFactory(ee);this.activated=k.createComponent(Et,k.length,$e)}else this.activated=k.createComponent(ee,{index:k.length,injector:$e,environmentInjector:N??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(D){return new(D||w)(p.Y36(ua),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},w.\u0275dir=p.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class pl{constructor(T,D,N){this.route=T,this.childContexts=D,this.parent=N}get(T,D){return T===os?this.route:T===ua?this.childContexts:this.parent.get(T,D)}}let ws=(()=>{class w{}return w.\u0275fac=function(D){return new(D||w)},w.\u0275cmp=p.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(D,N){1&D&&p._UZ(0,"router-outlet")},dependencies:[Rr],encapsulation:2}),w})();function Vr(w,T){return w.providers&&!w._injector&&(w._injector=(0,p.MMx)(w.providers,T,`Route: ${w.path}`)),w._injector??T}function Ls(w){const T=w.children&&w.children.map(Ls),D=T?{...w,children:T}:{...w};return!D.component&&!D.loadComponent&&(T||D.loadChildren)&&D.outlet&&D.outlet!==Qt&&(D.component=ws),D}function bi(w){return w.outlet||Qt}function Jt(w,T){const D=w.filter(N=>bi(N)===T);return D.push(...w.filter(N=>bi(N)!==T)),D}function ei(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let T=w.parent;T;T=T.parent){const D=T.routeConfig;if(D?._loadedInjector)return D._loadedInjector;if(D?._injector)return D._injector}return null}class Xu{constructor(T,D,N,k){this.routeReuseStrategy=T,this.futureState=D,this.currState=N,this.forwardEvent=k}activate(T){const D=this.futureState._root,N=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,N,T),ho(this.futureState.root),this.activateChildRoutes(D,N,T)}deactivateChildRoutes(T,D,N){const k=ko(D);T.children.forEach(z=>{const ee=z.value.outlet;this.deactivateRoutes(z,k[ee],N),delete k[ee]}),xn(k,(z,ee)=>{this.deactivateRouteAndItsChildren(z,N)})}deactivateRoutes(T,D,N){const k=T.value,z=D?D.value:null;if(k===z)if(k.component){const ee=N.getContext(k.outlet);ee&&this.deactivateChildRoutes(T,D,ee.children)}else this.deactivateChildRoutes(T,D,N);else z&&this.deactivateRouteAndItsChildren(D,N)}deactivateRouteAndItsChildren(T,D){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,D):this.deactivateRouteAndOutlet(T,D)}detachAndStoreRouteSubtree(T,D){const N=D.getContext(T.value.outlet),k=N&&T.value.component?N.children:D,z=ko(T);for(const ee of Object.keys(z))this.deactivateRouteAndItsChildren(z[ee],k);if(N&&N.outlet){const ee=N.outlet.detach(),oe=N.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ee,route:T,contexts:oe})}}deactivateRouteAndOutlet(T,D){const N=D.getContext(T.value.outlet),k=N&&T.value.component?N.children:D,z=ko(T);for(const ee of Object.keys(z))this.deactivateRouteAndItsChildren(z[ee],k);N&&N.outlet&&(N.outlet.deactivate(),N.children.onOutletDeactivated(),N.attachRef=null,N.resolver=null,N.route=null)}activateChildRoutes(T,D,N){const k=ko(D);T.children.forEach(z=>{this.activateRoutes(z,k[z.value.outlet],N),this.forwardEvent(new Zu(z.value.snapshot))}),T.children.length&&this.forwardEvent(new ll(T.value.snapshot))}activateRoutes(T,D,N){const k=T.value,z=D?D.value:null;if(ho(k),k===z)if(k.component){const ee=N.getOrCreateContext(k.outlet);this.activateChildRoutes(T,D,ee.children)}else this.activateChildRoutes(T,D,N);else if(k.component){const ee=N.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const oe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),ee.children.onOutletReAttached(oe.contexts),ee.attachRef=oe.componentRef,ee.route=oe.route.value,ee.outlet&&ee.outlet.attach(oe.componentRef,oe.route.value),ho(oe.route.value),this.activateChildRoutes(T,null,ee.children)}else{const oe=ei(k.snapshot),$e=oe?.get(p._Vd)??null;ee.attachRef=null,ee.route=k,ee.resolver=$e,ee.injector=oe,ee.outlet&&ee.outlet.activateWith(k,ee.injector),this.activateChildRoutes(T,null,ee.children)}}else this.activateChildRoutes(T,null,N)}}class _l{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Uo{constructor(T,D){this.component=T,this.route=D}}function Ha(w,T,D){const N=w._root;return st(N,T?T._root:null,D,[N.value])}function Js(w,T){const D=Symbol(),N=T.get(w,D);return N===D?"function"!=typeof w||(0,p.Z0I)(w)?T.get(w):w:N}function st(w,T,D,N,k={canDeactivateChecks:[],canActivateChecks:[]}){const z=ko(T);return w.children.forEach(ee=>{(function Pn(w,T,D,N,k={canDeactivateChecks:[],canActivateChecks:[]}){const z=w.value,ee=T?T.value:null,oe=D?D.getContext(w.value.outlet):null;if(ee&&z.routeConfig===ee.routeConfig){const $e=function ha(w,T,D){if("function"==typeof D)return D(w,T);switch(D){case"pathParamsChange":return!wr(w.url,T.url);case"pathParamsOrQueryParamsChange":return!wr(w.url,T.url)||!un(w.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lo(w,T)||!un(w.queryParams,T.queryParams);default:return!Lo(w,T)}}(ee,z,z.routeConfig.runGuardsAndResolvers);$e?k.canActivateChecks.push(new _l(N)):(z.data=ee.data,z._resolvedData=ee._resolvedData),st(w,T,z.component?oe?oe.children:null:D,N,k),$e&&oe&&oe.outlet&&oe.outlet.isActivated&&k.canDeactivateChecks.push(new Uo(oe.outlet.component,ee))}else ee&&Ho(T,oe,k),k.canActivateChecks.push(new _l(N)),st(w,null,z.component?oe?oe.children:null:D,N,k)})(ee,z[ee.value.outlet],D,N.concat([ee.value]),k),delete z[ee.value.outlet]}),xn(z,(ee,oe)=>Ho(ee,D.getContext(oe),k)),k}function Ho(w,T,D){const N=ko(w),k=w.value;xn(N,(z,ee)=>{Ho(z,k.component?T?T.children.getContext(ee):null:T,D)}),D.canDeactivateChecks.push(new Uo(k.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,k))}function dr(w){return"function"==typeof w}function x(w){return w instanceof De||"EmptyError"===w?.name}const P=Symbol("INITIAL_VALUE");function Y(){return(0,_e.w)(w=>(0,Ie.a)(w.map(T=>T.pipe((0,ot.q)(1),(0,qt.O)(P)))).pipe((0,Ve.U)(T=>{for(const D of T)if(!0!==D){if(D===P)return P;if(!1===D||D instanceof bn)return D}return!0}),(0,at.h)(T=>T!==P),(0,ot.q)(1)))}function vl(w){return(0,We.z)((0,ht.b)(T=>{if(zt(T))throw la(0,T)}),(0,Ve.U)(T=>!0===T))}const Yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tc(w,T,D,N,k){const z=eo(w,T,D);return z.matched?function fa(w,T,D,N){const k=T.canMatch;if(!k||0===k.length)return(0,H.of)(!0);const z=k.map(ee=>{const oe=Js(ee,w);return Gn(function ec(w){return w&&dr(w.canMatch)}(oe)?oe.canMatch(T,D):w.runInContext(()=>oe(T,D)))});return(0,H.of)(z).pipe(Y(),vl())}(N=Vr(T,N),T,D).pipe((0,Ve.U)(ee=>!0===ee?z:{...Yc})):(0,H.of)(z)}function eo(w,T,D){if(""===T.path)return"full"===T.pathMatch&&(w.hasChildren()||D.length>0)?{...Yc}:{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const k=(T.matcher||ms)(D,w,T);if(!k)return{...Yc};const z={};xn(k.posParams,(oe,$e)=>{z[$e]=oe.path});const ee=k.consumed.length>0?{...z,...k.consumed[k.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:k.consumed,remainingSegments:D.slice(k.consumed.length),parameters:ee,positionalParamSegments:k.posParams??{}}}function Lr(w,T,D,N,k="corrected"){if(D.length>0&&function nc(w,T,D){return D.some(N=>du(w,T,N)&&bi(N)!==Qt)}(w,D,N)){const ee=new it(T,function Xi(w,T,D,N){const k={};k[Qt]=N,N._sourceSegment=w,N._segmentIndexShift=T.length;for(const z of D)if(""===z.path&&bi(z)!==Qt){const ee=new it([],{});ee._sourceSegment=w,ee._segmentIndexShift=T.length,k[bi(z)]=ee}return k}(w,T,N,new it(D,w.children)));return ee._sourceSegment=w,ee._segmentIndexShift=T.length,{segmentGroup:ee,slicedSegments:[]}}if(0===D.length&&function bl(w,T,D){return D.some(N=>du(w,T,N))}(w,D,N)){const ee=new it(w.segments,function Qc(w,T,D,N,k,z){const ee={};for(const oe of N)if(du(w,D,oe)&&!k[bi(oe)]){const $e=new it([],{});$e._sourceSegment=w,$e._segmentIndexShift="legacy"===z?w.segments.length:T.length,ee[bi(oe)]=$e}return{...k,...ee}}(w,T,D,N,w.children,k));return ee._sourceSegment=w,ee._segmentIndexShift=T.length,{segmentGroup:ee,slicedSegments:D}}const z=new it(w.segments,w.children);return z._sourceSegment=w,z._segmentIndexShift=T.length,{segmentGroup:z,slicedSegments:D}}function du(w,T,D){return(!(w.hasChildren()||T.length>0)||"full"!==D.pathMatch)&&""===D.path}function rc(w,T,D,N){return!!(bi(w)===N||N!==Qt&&du(T,D,w))&&("**"===w.path||eo(T,w,D).matched)}function ci(w,T,D){return 0===T.length&&!w.children[D]}const Bs=!1;class mr{constructor(T){this.segmentGroup=T||null}}class ic{constructor(T){this.urlTree=T}}function hu(w){return(0,Fe._)(new mr(w))}function El(w){return(0,Fe._)(new ic(w))}class sc{constructor(T,D,N,k,z){this.injector=T,this.configLoader=D,this.urlSerializer=N,this.urlTree=k,this.config=z,this.allowRedirects=!0}apply(){const T=Lr(this.urlTree.root,[],[],this.config).segmentGroup,D=new it(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,D,Qt).pipe((0,Ve.U)(z=>this.createUrlTree(tt(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Yt.K)(z=>{if(z instanceof ic)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof mr?this.noMatchError(z):z}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,Qt).pipe((0,Ve.U)(k=>this.createUrlTree(tt(k),T.queryParams,T.fragment))).pipe((0,Yt.K)(k=>{throw k instanceof mr?this.noMatchError(k):k}))}noMatchError(T){return new p.vHH(4002,Bs)}createUrlTree(T,D,N){const k=Se(T);return new bn(k,D,N)}expandSegmentGroup(T,D,N,k){return 0===N.segments.length&&N.hasChildren()?this.expandChildren(T,D,N).pipe((0,Ve.U)(z=>new it([],z))):this.expandSegment(T,N,D,N.segments,k,!0)}expandChildren(T,D,N){const k=[];for(const z of Object.keys(N.children))"primary"===z?k.unshift(z):k.push(z);return(0,Z.D)(k).pipe((0,_t.b)(z=>{const ee=N.children[z],oe=Jt(D,z);return this.expandSegmentGroup(T,oe,ee,z).pipe((0,Ve.U)($e=>({segment:$e,outlet:z})))}),$n((z,ee)=>(z[ee.outlet]=ee.segment,z),{}),jr())}expandSegment(T,D,N,k,z,ee){return(0,Z.D)(N).pipe((0,_t.b)(oe=>this.expandSegmentAgainstRoute(T,D,N,oe,k,z,ee).pipe((0,Yt.K)(Et=>{if(Et instanceof mr)return(0,H.of)(null);throw Et}))),Pe(oe=>!!oe),(0,Yt.K)((oe,$e)=>{if(x(oe))return ci(D,k,z)?(0,H.of)(new it([],{})):hu(D);throw oe}))}expandSegmentAgainstRoute(T,D,N,k,z,ee,oe){return rc(k,D,z,ee)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(T,D,k,z,ee):oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,D,N,k,z,ee):hu(D):hu(D)}expandSegmentAgainstRouteUsingRedirect(T,D,N,k,z,ee){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,N,k,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(T,D,N,k,z,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,D,N,k){const z=this.applyRedirectCommands([],N.redirectTo,{});return N.redirectTo.startsWith("/")?El(z):this.lineralizeSegments(N,z).pipe((0,lt.z)(ee=>{const oe=new it(ee,{});return this.expandSegment(T,oe,D,ee,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,D,N,k,z,ee){const{matched:oe,consumedSegments:$e,remainingSegments:Et,positionalParamSegments:vn}=eo(D,k,z);if(!oe)return hu(D);const Ot=this.applyRedirectCommands($e,k.redirectTo,vn);return k.redirectTo.startsWith("/")?El(Ot):this.lineralizeSegments(k,Ot).pipe((0,lt.z)(Lt=>this.expandSegment(T,D,N,Lt.concat(Et),ee,!1)))}matchSegmentAgainstRoute(T,D,N,k,z){return"**"===N.path?(T=Vr(N,T),N.loadChildren?(N._loadedRoutes?(0,H.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):this.configLoader.loadChildren(T,N)).pipe((0,Ve.U)(oe=>(N._loadedRoutes=oe.routes,N._loadedInjector=oe.injector,new it(k,{})))):(0,H.of)(new it(k,{}))):tc(D,N,k,T).pipe((0,_e.w)(({matched:ee,consumedSegments:oe,remainingSegments:$e})=>ee?this.getChildConfig(T=N._injector??T,N,k).pipe((0,lt.z)(vn=>{const Ot=vn.injector??T,Lt=vn.routes,{segmentGroup:cs,slicedSegments:ya}=Lr(D,oe,$e,Lt),Go=new it(cs.segments,cs.children);if(0===ya.length&&Go.hasChildren())return this.expandChildren(Ot,Lt,Go).pipe((0,Ve.U)(ah=>new it(oe,ah)));if(0===Lt.length&&0===ya.length)return(0,H.of)(new it(oe,{}));const Rs=bi(N)===z;return this.expandSegment(Ot,Go,Lt,ya,Rs?Qt:z,!0).pipe((0,Ve.U)(va=>new it(oe.concat(va.segments),va.children)))})):hu(D)))}getChildConfig(T,D,N){return D.children?(0,H.of)({routes:D.children,injector:T}):D.loadChildren?void 0!==D._loadedRoutes?(0,H.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):function jo(w,T,D,N){const k=T.canLoad;if(void 0===k||0===k.length)return(0,H.of)(!0);const z=k.map(ee=>{const oe=Js(ee,w);return Gn(function ls(w){return w&&dr(w.canLoad)}(oe)?oe.canLoad(T,D):w.runInContext(()=>oe(T,D)))});return(0,H.of)(z).pipe(Y(),vl())}(T,D,N).pipe((0,lt.z)(k=>k?this.configLoader.loadChildren(T,D).pipe((0,ht.b)(z=>{D._loadedRoutes=z.routes,D._loadedInjector=z.injector})):function Zf(w){return(0,Fe._)(Ri(Bs,3))}())):(0,H.of)({routes:[],injector:T})}lineralizeSegments(T,D){let N=[],k=D.root;for(;;){if(N=N.concat(k.segments),0===k.numberOfChildren)return(0,H.of)(N);if(k.numberOfChildren>1||!k.children[Qt])return(0,Fe._)(new p.vHH(4e3,Bs));k=k.children[Qt]}}applyRedirectCommands(T,D,N){return this.applyRedirectCreateUrlTree(D,this.urlSerializer.parse(D),T,N)}applyRedirectCreateUrlTree(T,D,N,k){const z=this.createSegmentGroup(T,D.root,N,k);return new bn(z,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(T,D){const N={};return xn(T,(k,z)=>{if("string"==typeof k&&k.startsWith(":")){const oe=k.substring(1);N[z]=D[oe]}else N[z]=k}),N}createSegmentGroup(T,D,N,k){const z=this.createSegments(T,D.segments,N,k);let ee={};return xn(D.children,(oe,$e)=>{ee[$e]=this.createSegmentGroup(T,oe,N,k)}),new it(z,ee)}createSegments(T,D,N,k){return D.map(z=>z.path.startsWith(":")?this.findPosParam(T,z,k):this.findOrReturn(z,N))}findPosParam(T,D,N){const k=N[D.path.substring(1)];if(!k)throw new p.vHH(4001,Bs);return k}findOrReturn(T,D){let N=0;for(const k of D){if(k.path===T.path)return D.splice(N),k;N++}return T}}class oc{}class to{constructor(T,D,N,k,z,ee,oe,$e){this.injector=T,this.rootComponentType=D,this.config=N,this.urlTree=k,this.url=z,this.paramsInheritanceStrategy=ee,this.relativeLinkResolution=oe,this.urlSerializer=$e}recognize(){const T=Lr(this.urlTree.root,[],[],this.config.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,Qt).pipe((0,Ve.U)(D=>{if(null===D)return null;const N=new Fo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new qs(N,D),z=new Fs(this.url,k);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(T){const D=T.value,N=Ba(D,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data),T.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(T,D,N,k){return 0===N.segments.length&&N.hasChildren()?this.processChildren(T,D,N):this.processSegment(T,D,N,N.segments,k)}processChildren(T,D,N){return(0,Z.D)(Object.keys(N.children)).pipe((0,_t.b)(k=>{const z=N.children[k],ee=Jt(D,k);return this.processSegmentGroup(T,ee,z,k)}),$n((k,z)=>k&&z?(k.push(...z),k):null),function xi(w,T=!1){return(0,Ae.e)((D,N)=>{let k=0;D.subscribe((0,Nt.x)(N,z=>{const ee=w(z,k++);(ee||T)&&N.next(z),!ee&&N.complete()}))})}(k=>null!==k),ft(null),jr(),(0,Ve.U)(k=>{if(null===k)return null;const z=Dl(k);return function fu(w){w.sort((T,D)=>T.value.outlet===Qt?-1:D.value.outlet===Qt?1:T.value.outlet.localeCompare(D.value.outlet))}(z),z}))}processSegment(T,D,N,k,z){return(0,Z.D)(D).pipe((0,_t.b)(ee=>this.processSegmentAgainstRoute(ee._injector??T,ee,N,k,z)),Pe(ee=>!!ee),(0,Yt.K)(ee=>{if(x(ee))return ci(N,k,z)?(0,H.of)([]):(0,H.of)(null);throw ee}))}processSegmentAgainstRoute(T,D,N,k,z){if(D.redirectTo||!rc(D,N,k,z))return(0,H.of)(null);let ee;if("**"===D.path){const oe=k.length>0?Tr(k).parameters:{},$e=S(N)+k.length,Et=new Fo(k,oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(D),bi(D),D.component??D._loadedComponent??null,D,Xc(N),$e,W(D),$e);ee=(0,H.of)({snapshot:Et,consumedSegments:[],remainingSegments:[]})}else ee=tc(N,D,k,T).pipe((0,Ve.U)(({matched:oe,consumedSegments:$e,remainingSegments:Et,parameters:vn})=>{if(!oe)return null;const Ot=S(N)+$e.length;return{snapshot:new Fo($e,vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(D),bi(D),D.component??D._loadedComponent??null,D,Xc(N),Ot,W(D),Ot),consumedSegments:$e,remainingSegments:Et}}));return ee.pipe((0,_e.w)(oe=>{if(null===oe)return(0,H.of)(null);const{snapshot:$e,consumedSegments:Et,remainingSegments:vn}=oe;T=D._injector??T;const Ot=D._loadedInjector??T,Lt=function Xf(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(D),{segmentGroup:cs,slicedSegments:ya}=Lr(N,Et,vn,Lt.filter(Rs=>void 0===Rs.redirectTo),this.relativeLinkResolution);if(0===ya.length&&cs.hasChildren())return this.processChildren(Ot,Lt,cs).pipe((0,Ve.U)(Rs=>null===Rs?null:[new qs($e,Rs)]));if(0===Lt.length&&0===ya.length)return(0,H.of)([new qs($e,[])]);const Go=bi(D)===z;return this.processSegment(Ot,Lt,cs,ya,Go?Qt:z).pipe((0,Ve.U)(Rs=>null===Rs?null:[new qs($e,Rs)]))}))}}function Zc(w){const T=w.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Dl(w){const T=[],D=new Set;for(const N of w){if(!Zc(N)){T.push(N);continue}const k=T.find(z=>N.value.routeConfig===z.value.routeConfig);void 0!==k?(k.children.push(...N.children),D.add(k)):T.push(N)}for(const N of D){const k=Dl(N.children);T.push(new qs(N.value,k))}return T.filter(N=>!D.has(N))}function Xc(w){let T=w;for(;T._sourceSegment;)T=T._sourceSegment;return T}function S(w){let T=w,D=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,D+=T._segmentIndexShift??0;return D-1}function M(w){return w.data||{}}function W(w){return w.resolve||{}}function On(w){return"string"==typeof w.title||null===w.title}function sn(w){return(0,_e.w)(T=>{const D=w(T);return D?(0,Z.D)(D).pipe((0,Ve.U)(()=>T)):(0,H.of)(T)})}let Br=(()=>{class w{buildTitle(D){let N,k=D.root;for(;void 0!==k;)N=this.getResolvedTitleForRoute(k)??N,k=k.children.find(z=>z.outlet===Qt);return N}getResolvedTitleForRoute(D){return D.data[si]}}return w.\u0275fac=function(D){return new(D||w)},w.\u0275prov=p.Yz7({token:w,factory:function(){return(0,p.f3M)(Kn)},providedIn:"root"}),w})(),Kn=(()=>{class w extends Br{constructor(D){super(),this.title=D}updateTitle(D){const N=this.buildTitle(D);void 0!==N&&this.title.setTitle(N)}}return w.\u0275fac=function(D){return new(D||w)(p.LFG(sr.Dx))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class _o{}class In extends class Cs{shouldDetach(T){return!1}store(T,D){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,D){return T.routeConfig===D.routeConfig}}{}const yo=new p.OlP("",{providedIn:"root",factory:()=>({})}),bo=new p.OlP("ROUTES");let gu=(()=>{class w{constructor(D,N){this.injector=D,this.compiler=N,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,H.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const N=Gn(D.loadComponent()).pipe((0,ht.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=z}),Mn(()=>{this.componentLoaders.delete(D)})),k=new mt(N,()=>new pn.x).pipe(et());return this.componentLoaders.set(D,k),k}loadChildren(D,N){if(this.childrenLoaders.get(N))return this.childrenLoaders.get(N);if(N._loadedRoutes)return(0,H.of)({routes:N._loadedRoutes,injector:N._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(N);const z=this.loadModuleFactoryOrRoutes(N.loadChildren).pipe((0,Ve.U)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(N);let $e,Et,vn=!1;Array.isArray(oe)?Et=oe:($e=oe.create(D).injector,Et=br($e.get(bo,[],p.XFs.Self|p.XFs.Optional)));return{routes:Et.map(Ls),injector:$e}}),Mn(()=>{this.childrenLoaders.delete(N)})),ee=new mt(z,()=>new pn.x).pipe(et());return this.childrenLoaders.set(N,ee),ee}loadModuleFactoryOrRoutes(D){return Gn(D()).pipe((0,lt.z)(N=>N instanceof p.YKP||Array.isArray(N)?(0,H.of)(N):(0,Z.D)(this.compiler.compileModuleAsync(N))))}}return w.\u0275fac=function(D){return new(D||w)(p.LFG(p.zs3),p.LFG(p.Sil))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class mu{}class Eo{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,D){return T}}function ed(w){throw w}function ep(w,T,D){return T.parse("/")}const td={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function yu(){const w=(0,p.f3M)(en),T=(0,p.f3M)(ua),D=(0,p.f3M)(yn.Ye),N=(0,p.f3M)(p.zs3),k=(0,p.f3M)(p.Sil),z=(0,p.f3M)(bo,{optional:!0})??[],ee=(0,p.f3M)(yo,{optional:!0})??{},oe=(0,p.f3M)(Kn),$e=(0,p.f3M)(Br,{optional:!0}),Et=(0,p.f3M)(mu,{optional:!0}),vn=(0,p.f3M)(_o,{optional:!0}),Ot=new Ur(null,w,T,D,N,k,br(z));return Et&&(Ot.urlHandlingStrategy=Et),vn&&(Ot.routeReuseStrategy=vn),Ot.titleStrategy=$e??oe,function _u(w,T){w.errorHandler&&(T.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(T.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(T.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(T.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(T.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(T.canceledNavigationResolution=w.canceledNavigationResolution)}(ee,Ot),Ot}let Ur=(()=>{class w{constructor(D,N,k,z,ee,oe,$e){this.rootComponentType=D,this.urlSerializer=N,this.rootContexts=k,this.location=z,this.config=$e,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pn.x,this.errorHandler=ed,this.malformedUriErrorHandler=ep,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,H.of)(void 0),this.urlHandlingStrategy=new Eo,this.routeReuseStrategy=new In,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ee.get(gu),this.configLoader.onLoadEndListener=Lt=>this.triggerEvent(new nh(Lt)),this.configLoader.onLoadStartListener=Lt=>this.triggerEvent(new ru(Lt)),this.ngModule=ee.get(p.h0i),this.console=ee.get(p.c2e);const Ot=ee.get(p.R0b);this.isNgZoneEnabled=Ot instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig($e),this.currentUrlTree=function Ai(){return new bn(new it([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iu(this.currentUrlTree,this.rootComponentType),this.transitions=new be.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(D){const N=this.events;return D.pipe((0,at.h)(k=>0!==k.id),(0,Ve.U)(k=>({...k,extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,_e.w)(k=>{let z=!1,ee=!1;return(0,H.of)(k).pipe((0,ht.b)(oe=>{this.currentNavigation={id:oe.id,initialUrl:oe.rawUrl,extractedUrl:oe.extractedUrl,trigger:oe.source,extras:oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_e.w)(oe=>{const $e=this.browserUrlTree.toString(),Et=!this.navigated||oe.extractedUrl.toString()!==$e||$e!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Et)&&this.urlHandlingStrategy.shouldProcessUrl(oe.rawUrl))return Di(oe.source)&&(this.browserUrlTree=oe.extractedUrl),(0,H.of)(oe).pipe((0,_e.w)(Ot=>{const Lt=this.transitions.getValue();return N.next(new Ar(Ot.id,this.serializeUrl(Ot.extractedUrl),Ot.source,Ot.restoredState)),Lt!==this.transitions.getValue()?Dt.E:Promise.resolve(Ot)}),function ja(w,T,D,N){return(0,_e.w)(k=>function Jc(w,T,D,N,k){return new sc(w,T,D,N,k).apply()}(w,T,D,k.extractedUrl,N).pipe((0,Ve.U)(z=>({...k,urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ht.b)(Ot=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects},k.urlAfterRedirects=Ot.urlAfterRedirects}),function le(w,T,D,N,k,z){return(0,lt.z)(ee=>function rh(w,T,D,N,k,z,ee="emptyOnly",oe="legacy"){return new to(w,T,D,N,k,ee,oe,z).recognize().pipe((0,_e.w)($e=>null===$e?function K(w){return new ke.y(T=>T.error(w))}(new oc):(0,H.of)($e)))}(w,T,D,ee.urlAfterRedirects,N.serialize(ee.urlAfterRedirects),N,k,z).pipe((0,Ve.U)(oe=>({...ee,targetSnapshot:oe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ht.b)(Ot=>{if(k.targetSnapshot=Ot.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const cs=this.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);this.setBrowserUrl(cs,Ot)}this.browserUrlTree=Ot.urlAfterRedirects}const Lt=new Ds(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);N.next(Lt)}));if(Et&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Lt,extractedUrl:cs,source:ya,restoredState:Go,extras:Rs}=oe,id=new Ar(Lt,this.serializeUrl(cs),ya,Go);N.next(id);const va=iu(cs,this.rootComponentType).snapshot;return k={...oe,targetSnapshot:va,urlAfterRedirects:cs,extras:{...Rs,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(k)}return this.rawUrlTree=oe.rawUrl,oe.resolve(null),Dt.E}),(0,ht.b)(oe=>{const $e=new Bi(oe.id,this.serializeUrl(oe.extractedUrl),this.serializeUrl(oe.urlAfterRedirects),oe.targetSnapshot);this.triggerEvent($e)}),(0,Ve.U)(oe=>k={...oe,guards:Ha(oe.targetSnapshot,oe.currentSnapshot,this.rootContexts)}),function ze(w,T){return(0,lt.z)(D=>{const{targetSnapshot:N,currentSnapshot:k,guards:{canActivateChecks:z,canDeactivateChecks:ee}}=D;return 0===ee.length&&0===z.length?(0,H.of)({...D,guardsResult:!0}):function Vt(w,T,D,N){return(0,Z.D)(w).pipe((0,lt.z)(k=>function go(w,T,D,N,k){const z=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,H.of)(!0);const ee=z.map(oe=>{const $e=ei(T)??k,Et=Js(oe,$e);return Gn(function cu(w){return w&&dr(w.canDeactivate)}(Et)?Et.canDeactivate(w,T,D,N):$e.runInContext(()=>Et(w,T,D,N))).pipe(Pe())});return(0,H.of)(ee).pipe(Y())}(k.component,k.route,D,T,N)),Pe(k=>!0!==k,!0))}(ee,N,k,w).pipe((0,lt.z)(oe=>oe&&function uu(w){return"boolean"==typeof w}(oe)?function Hn(w,T,D,N){return(0,Z.D)(T).pipe((0,_t.b)(k=>(0,xe.z)(function Zs(w,T){return null!==w&&T&&T(new Ji(w)),(0,H.of)(!0)}(k.route.parent,N),function us(w,T){return null!==w&&T&&T(new ul(w)),(0,H.of)(!0)}(k.route,N),function Xs(w,T,D){const N=T[T.length-1],z=T.slice(0,T.length-1).reverse().map(ee=>function lu(w){const T=w.routeConfig?w.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:w,guards:T}:null}(ee)).filter(ee=>null!==ee).map(ee=>(0,Ge.P)(()=>{const oe=ee.guards.map($e=>{const Et=ei(ee.node)??D,vn=Js($e,Et);return Gn(function yl(w){return w&&dr(w.canActivateChild)}(vn)?vn.canActivateChild(N,w):Et.runInContext(()=>vn(N,w))).pipe(Pe())});return(0,H.of)(oe).pipe(Y())}));return(0,H.of)(z).pipe(Y())}(w,k.path,D),function po(w,T,D){const N=T.routeConfig?T.routeConfig.canActivate:null;if(!N||0===N.length)return(0,H.of)(!0);const k=N.map(z=>(0,Ge.P)(()=>{const ee=ei(T)??D,oe=Js(z,ee);return Gn(function Is(w){return w&&dr(w.canActivate)}(oe)?oe.canActivate(T,w):ee.runInContext(()=>oe(T,w))).pipe(Pe())}));return(0,H.of)(k).pipe(Y())}(w,k.route,D))),Pe(k=>!0!==k,!0))}(N,z,w,T):(0,H.of)(oe)),(0,Ve.U)(oe=>({...D,guardsResult:oe})))})}(this.ngModule.injector,oe=>this.triggerEvent(oe)),(0,ht.b)(oe=>{if(k.guardsResult=oe.guardsResult,zt(oe.guardsResult))throw la(0,oe.guardsResult);const $e=new xo(oe.id,this.serializeUrl(oe.extractedUrl),this.serializeUrl(oe.urlAfterRedirects),oe.targetSnapshot,!!oe.guardsResult);this.triggerEvent($e)}),(0,at.h)(oe=>!!oe.guardsResult||(this.restoreHistory(oe),this.cancelNavigationTransition(oe,"",3),!1)),sn(oe=>{if(oe.guards.canActivateChecks.length)return(0,H.of)(oe).pipe((0,ht.b)($e=>{const Et=new al($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Et)}),(0,_e.w)($e=>{let Et=!1;return(0,H.of)($e).pipe(function Le(w,T){return(0,lt.z)(D=>{const{targetSnapshot:N,guards:{canActivateChecks:k}}=D;if(!k.length)return(0,H.of)(D);let z=0;return(0,Z.D)(k).pipe((0,_t.b)(ee=>function rt(w,T,D,N){const k=w.routeConfig,z=w._resolve;return void 0!==k?.title&&!On(k)&&(z[si]=k.title),function Ut(w,T,D,N){const k=function jn(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===k.length)return(0,H.of)({});const z={};return(0,Z.D)(k).pipe((0,lt.z)(ee=>function gn(w,T,D,N){const k=ei(T)??N,z=Js(w,k);return Gn(z.resolve?z.resolve(T,D):k.runInContext(()=>z(T,D)))}(w[ee],T,D,N).pipe(Pe(),(0,ht.b)(oe=>{z[ee]=oe}))),Tt(1),(0,nr.h)(z),(0,Yt.K)(ee=>x(ee)?Dt.E:(0,Fe._)(ee)))}(z,w,T,N).pipe((0,Ve.U)(ee=>(w._resolvedData=ee,w.data=Ba(w,D).resolve,k&&On(k)&&(w.data[si]=k.title),null)))}(ee.route,N,w,T)),(0,ht.b)(()=>z++),Tt(1),(0,lt.z)(ee=>z===k.length?(0,H.of)(D):Dt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ht.b)({next:()=>Et=!0,complete:()=>{Et||(this.restoreHistory($e),this.cancelNavigationTransition($e,"",2))}}))}),(0,ht.b)($e=>{const Et=new Ju($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Et)}))}),sn(oe=>{const $e=Et=>{const vn=[];Et.routeConfig?.loadComponent&&!Et.routeConfig._loadedComponent&&vn.push(this.configLoader.loadComponent(Et.routeConfig).pipe((0,ht.b)(Ot=>{Et.component=Ot}),(0,Ve.U)(()=>{})));for(const Ot of Et.children)vn.push(...$e(Ot));return vn};return(0,Ie.a)($e(oe.targetSnapshot.root)).pipe(ft(),(0,ot.q)(1))}),sn(()=>this.afterPreactivation()),(0,Ve.U)(oe=>{const $e=function Bo(w,T,D){const N=Ks(w,T._root,D?D._root:void 0);return new oa(N,T)}(this.routeReuseStrategy,oe.targetSnapshot,oe.currentRouterState);return k={...oe,targetRouterState:$e}}),(0,ht.b)(oe=>{this.currentUrlTree=oe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(oe.urlAfterRedirects,oe.rawUrl),this.routerState=oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,oe),this.browserUrlTree=oe.urlAfterRedirects)}),((w,T,D)=>(0,Ve.U)(N=>(new Xu(T,N.targetRouterState,N.currentRouterState,D).activate(w),N)))(this.rootContexts,this.routeReuseStrategy,oe=>this.triggerEvent(oe)),(0,ht.b)({next(){z=!0},complete(){z=!0}}),Mn(()=>{z||ee||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),(0,Yt.K)(oe=>{if(ee=!0,hl(oe)){Vs(oe)||(this.navigated=!0,this.restoreHistory(k,!0));const $e=new Es(k.id,this.serializeUrl(k.extractedUrl),oe.message,oe.cancellationCode);if(N.next($e),Vs(oe)){const Et=this.urlHandlingStrategy.merge(oe.url,this.rawUrlTree),vn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Di(k.source)};this.scheduleNavigation(Et,"imperative",null,vn,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{this.restoreHistory(k,!0);const $e=new co(k.id,this.serializeUrl(k.extractedUrl),oe,k.targetSnapshot??void 0);N.next($e);try{k.resolve(this.errorHandler(oe))}catch(Et){k.reject(Et)}}return Dt.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next({...this.transitions.value,...D})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const N="popstate"===D.type?"popstate":"hashchange";"popstate"===N&&setTimeout(()=>{const k={replaceUrl:!0},z=D.state?.navigationId?D.state:null;if(z){const oe={...z};delete oe.navigationId,delete oe.\u0275routerPageId,0!==Object.keys(oe).length&&(k.state=oe)}const ee=this.parseUrl(D.url);this.scheduleNavigation(ee,N,z,k)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){this.config=D.map(Ls),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,N={}){const{relativeTo:k,queryParams:z,fragment:ee,queryParamsHandling:oe,preserveFragment:$e}=N,Et=k||this.routerState.root,vn=$e?this.currentUrlTree.fragment:ee;let Ot=null;switch(oe){case"merge":Ot={...this.currentUrlTree.queryParams,...z};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=z||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),Qi(Et,this.currentUrlTree,D,Ot,vn??null)}navigateByUrl(D,N={skipLocationChange:!1}){const k=zt(D)?D:this.parseUrl(D),z=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,N)}navigate(D,N={skipLocationChange:!1}){return function ih(w){for(let T=0;T<w.length;T++){if(null==w[T])throw new p.vHH(4008,false)}}(D),this.navigateByUrl(this.createUrlTree(D,N),N)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let N;try{N=this.urlSerializer.parse(D)}catch(k){N=this.malformedUriErrorHandler(k,this.urlSerializer,D)}return N}isActive(D,N){let k;if(k=!0===N?{...td}:!1===N?{...pa}:N,zt(D))return Je(this.currentUrlTree,D,k);const z=this.parseUrl(D);return Je(this.currentUrlTree,z,k)}removeEmptyProps(D){return Object.keys(D).reduce((N,k)=>{const z=D[k];return null!=z&&(N[k]=z),N},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Sr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,N,k,z,ee){if(this.disposed)return Promise.resolve(!1);let oe,$e,Et;ee?(oe=ee.resolve,$e=ee.reject,Et=ee.promise):Et=new Promise((Lt,cs)=>{oe=Lt,$e=cs});const vn=++this.navigationId;let Ot;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),Ot=k&&k.\u0275routerPageId?k.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Ot=0,this.setTransition({id:vn,targetPageId:Ot,source:N,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:z,resolve:oe,reject:$e,promise:Et,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Et.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(D,N){const k=this.urlSerializer.serialize(D),z={...N.extras.state,...this.generateNgRouterState(N.id,N.targetPageId)};this.location.isCurrentPathEqualTo(k)||N.extras.replaceUrl?this.location.replaceState(k,"",z):this.location.go(k,"",z)}restoreHistory(D,N=!1){if("computed"===this.canceledNavigationResolution){const k=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===k?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===k&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(k)}else"replace"===this.canceledNavigationResolution&&(N&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,N,k){const z=new Es(D.id,this.serializeUrl(D.extractedUrl),N,k);this.triggerEvent(z),D.resolve(!1)}generateNgRouterState(D,N){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:N}:{navigationId:D}}}return w.\u0275fac=function(D){p.$Z()},w.\u0275prov=p.Yz7({token:w,factory:function(){return yu()},providedIn:"root"}),w})();function Di(w){return"imperative"!==w}let Us=(()=>{class w{constructor(D,N,k,z,ee){this.router=D,this.route=N,this.tabIndexAttribute=k,this.renderer=z,this.el=ee,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new pn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(D){this._preserveFragment=(0,p.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,p.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,p.D6c)(D)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const N=this.renderer,k=this.el.nativeElement;null!==D?N.setAttribute(k,"tabindex",D):N.removeAttribute(k,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(D){return new(D||w)(p.Y36(Ur),p.Y36(os),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},w.\u0275dir=p.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,N){1&D&&p.NdJ("click",function(){return N.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),w})(),$o=(()=>{class w{constructor(D,N,k){this.router=D,this.route=N,this.locationStrategy=k,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new pn.x,this.subscription=D.events.subscribe(z=>{z instanceof Sr&&this.updateTargetUrlAndHref()})}set preserveFragment(D){this._preserveFragment=(0,p.D6c)(D)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(D){this._skipLocationChange=(0,p.D6c)(D)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(D){this._replaceUrl=(0,p.D6c)(D)}get replaceUrl(){return this._replaceUrl}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,N,k,z,ee){return!!(0!==D||N||k||z||ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return w.\u0275fac=function(D){return new(D||w)(p.Y36(Ur),p.Y36(os),p.Y36(yn.S$))},w.\u0275dir=p.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,N){1&D&&p.NdJ("click",function(z){return N.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&D&&p.uIk("target",N.target)("href",N.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),w})(),nd=(()=>{class w{constructor(D,N,k,z,ee,oe){this.router=D,this.element=N,this.renderer=k,this.cdr=z,this.link=ee,this.linkWithHref=oe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=D.events.subscribe($e=>{$e instanceof Sr&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,this.linksWithHrefs.changes,(0,H.of)(null)).pipe((0,Ci.J)()).subscribe(D=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const D=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(N=>!!N).map(N=>N.onChanges);this.linkInputChangesSubscription=(0,Z.D)(D).pipe((0,Ci.J)()).subscribe(N=>{this.isActive!==this.isLinkActive(this.router)(N)&&this.update()})}set routerLinkActive(D){const N=Array.isArray(D)?D:D.split(" ");this.classes=N.filter(k=>!!k)}ngOnChanges(D){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const D=this.hasActiveLinks();this.isActive!==D&&(this.isActive=D,this.cdr.markForCheck(),this.classes.forEach(N=>{D?this.renderer.addClass(this.element.nativeElement,N):this.renderer.removeClass(this.element.nativeElement,N)}),D&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(D))})}isLinkActive(D){const N=function ac(w){return!!w.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&D.isActive(k.urlTree,N)}hasActiveLinks(){const D=this.isLinkActive(this.router);return this.link&&D(this.link)||this.linkWithHref&&D(this.linkWithHref)||this.links.some(D)||this.linksWithHrefs.some(D)}}return w.\u0275fac=function(D){return new(D||w)(p.Y36(Ur),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Us,8),p.Y36($o,8))},w.\u0275dir=p.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(D,N,k){if(1&D&&(p.Suo(k,Us,5),p.Suo(k,$o,5)),2&D){let z;p.iGM(z=p.CRH())&&(N.links=z),p.iGM(z=p.CRH())&&(N.linksWithHrefs=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.TTD]}),w})();class sh{}let tp=(()=>{class w{constructor(D,N,k,z,ee){this.router=D,this.injector=k,this.preloadingStrategy=z,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(D=>D instanceof Sr),(0,_t.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,N){const k=[];for(const z of N){z.providers&&!z._injector&&(z._injector=(0,p.MMx)(z.providers,D,`Route: ${z.path}`));const ee=z._injector??D,oe=z._loadedInjector??ee;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?k.push(this.preloadConfig(ee,z)):(z.children||z._loadedRoutes)&&k.push(this.processRoutes(oe,z.children??z._loadedRoutes))}return(0,Z.D)(k).pipe((0,Ci.J)())}preloadConfig(D,N){return this.preloadingStrategy.preload(N,()=>{let k;k=N.loadChildren&&void 0===N.canLoad?this.loader.loadChildren(D,N):(0,H.of)(null);const z=k.pipe((0,lt.z)(ee=>null===ee?(0,H.of)(void 0):(N._loadedRoutes=ee.routes,N._loadedInjector=ee.injector,this.processRoutes(ee.injector??D,ee.routes))));if(N.loadComponent&&!N._loadedComponent){const ee=this.loader.loadComponent(N);return(0,Z.D)([z,ee]).pipe((0,Ci.J)())}return z})}}return w.\u0275fac=function(D){return new(D||w)(p.LFG(Ur),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(sh),p.LFG(gu))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Tl=new p.OlP("");let $a=(()=>{class w{constructor(D,N,k={}){this.router=D,this.viewportScroller=N,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Ar?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Sr&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Ts&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,N){this.router.triggerEvent(new Ts(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,N))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(D){p.$Z()},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac}),w})();function no(w,T){return{\u0275kind:w,\u0275providers:T}}function ga(w){return[{provide:bo,multi:!0,useValue:w}]}function rr(){const w=(0,p.f3M)(p.zs3);return T=>{const D=w.get(p.z2F);if(T!==D.components[0])return;const N=w.get(Ur),k=w.get(As);1===w.get(ma)&&N.initialNavigation(),w.get(rp,null,p.XFs.Optional)?.setUpPreloading(),w.get(Tl,null,p.XFs.Optional)?.init(),N.resetRootComponentType(D.componentTypes[0]),k.closed||(k.next(),k.unsubscribe())}}const As=new p.OlP("",{factory:()=>new pn.x}),ma=new p.OlP("",{providedIn:"root",factory:()=>1});const rp=new p.OlP("");function Oy(w){return no(0,[{provide:rp,useExisting:tp},{provide:sh,useExisting:w}])}const ir=new p.OlP("ROUTER_FORROOT_GUARD"),ip=[yn.Ye,{provide:en,useClass:mn},{provide:Ur,useFactory:yu},ua,{provide:os,useFactory:function uc(w){return w.routerState.root},deps:[Ur]},gu];function vu(){return new p.PXZ("Router",Ur)}let xy=(()=>{class w{constructor(D){}static forRoot(D,N){return{ngModule:w,providers:[ip,[],ga(D),{provide:ir,useFactory:sp,deps:[[Ur,new p.FiY,new p.tp0]]},{provide:yo,useValue:N||{}},N?.useHash?{provide:yn.S$,useClass:yn.Do}:{provide:yn.S$,useClass:yn.b0},{provide:Tl,useFactory:()=>{const w=(0,p.f3M)(Ur),T=(0,p.f3M)(yn.EM),D=(0,p.f3M)(yo);return D.scrollOffset&&T.setOffset(D.scrollOffset),new $a(w,T,D)}},N?.preloadingStrategy?Oy(N.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:vu},N?.initialNavigation?rd(N):[],[{provide:Il,useFactory:rr},{provide:p.tb,multi:!0,useExisting:Il}]]}}static forChild(D){return{ngModule:w,providers:[ga(D)]}}}return w.\u0275fac=function(D){return new(D||w)(p.LFG(ir,8))},w.\u0275mod=p.oAB({type:w}),w.\u0275inj=p.cJS({imports:[ws]}),w})();function sp(w){return"guarded"}function rd(w){return["disabled"===w.initialNavigation?no(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const T=(0,p.f3M)(Ur);return()=>{T.setUpLocationChangeListener()}}},{provide:ma,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?no(2,[{provide:ma,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:T=>{const D=T.get(yn.V_,Promise.resolve());let N=!1;return()=>D.then(()=>new Promise(z=>{const ee=T.get(Ur),oe=T.get(As);(function k(z){T.get(Ur).events.pipe((0,at.h)(oe=>oe instanceof Sr||oe instanceof Es||oe instanceof co),(0,Ve.U)(oe=>oe instanceof Sr||oe instanceof Es&&(0===oe.code||1===oe.code)&&null),(0,at.h)(oe=>null!==oe),(0,ot.q)(1)).subscribe(()=>{z()})})(()=>{z(!0),N=!0}),ee.afterPreactivation=()=>(z(!0),N||oe.closed?(0,H.of)(void 0):oe),ee.initialNavigation()}))}}]).\u0275providers:[]]}const Il=new p.OlP("")},383:(kt,qe,G)=>{G.d(qe,{_D:()=>em,jt:()=>cd,Vi:()=>vh,iD:()=>ud,IJ:()=>Nh,M2:()=>Rl,_L:()=>Ah});var p=G(4650),Z=G(6895),H=G(9751),be=G(515),Te=G(9646),De=G(7579),Ie=G(4968),xe=G(5963),Ge=G(8421);const{isArray:We}=Array;function Fe(f){return 1===f.length&&We(f[0])?f[0]:f}var ke=G(5403);function Dt(...f){return 1===(f=Fe(f)).length?(0,Ge.Xf)(f[0]):new H.y(function ut(f){return y=>{let c=[];for(let b=0;c&&!y.closed&&b<f.length;b++)c.push((0,Ge.Xf)(f[b]).subscribe((0,ke.x)(y,A=>{if(c){for(let V=0;V<c.length;V++)V!==b&&c[V].unsubscribe();c=null}y.next(A)})))}}(f))}G(1135),G(9841);var et=G(5032);new H.y(et.Z);var yn=G(3269);function Ve(...f){const y=(0,yn.jO)(f),c=Fe(f);return c.length?new H.y(b=>{let A=c.map(()=>[]),V=c.map(()=>!1);b.add(()=>{A=V=null});for(let ne=0;!b.closed&&ne<c.length;ne++)(0,Ge.Xf)(c[ne]).subscribe((0,ke.x)(b,ge=>{if(A[ne].push(ge),A.every(fe=>fe.length)){const fe=A.map(Ue=>Ue.shift());b.next(y?y(...fe):fe),A.some((Ue,Xe)=>!Ue.length&&V[Xe])&&b.complete()}},()=>{V[ne]=!0,!A[ne].length&&b.complete()}));return()=>{A=V=null}}):be.E}var _e=G(6451),ot=G(7272),at=G(2722),lt=G(9300),ft=G(5698),Ee=G(4004),Pe=(G(8675),G(1884),G(3900)),_t=G(8505),ht=G(4482),Yt=G(4671);function Nn(...f){const y=(0,yn.jO)(f);return(0,ht.e)((c,b)=>{const A=f.length,V=new Array(A);let ne=f.map(()=>!1),ge=!1;for(let fe=0;fe<A;fe++)(0,Ge.Xf)(f[fe]).subscribe((0,ke.x)(b,Ue=>{V[fe]=Ue,!ge&&!ne[fe]&&(ne[fe]=!0,(ge=ne.every(Yt.y))&&(ne=null))},et.Z));c.subscribe((0,ke.x)(b,fe=>{if(ge){const Ue=[fe,...V];b.next(y?y(...Ue):Ue)}}))})}var $n=G(4986),jr=G(9718),xi=G(5577);function nr(f,y){return y?c=>(0,ot.z)(y.pipe((0,ft.q)(1),function Tt(){return(0,ht.e)((f,y)=>{f.subscribe((0,ke.x)(y,et.Z))})}()),c.pipe(nr(f))):(0,xi.z)((c,b)=>f(c,b).pipe((0,ft.q)(1),(0,jr.h)(c)))}function Mn(f,y=$n.z){const c=(0,xe.H)(f,y);return nr(()=>c)}G(5684);var sr=G(3099),Qt=G(433),si={left:"right",right:"left",bottom:"top",top:"bottom"};function Yi(f){return f.replace(/left|right|bottom|top/g,function(y){return si[y]})}function Dr(f){return f.split("-")[0]}var ms={start:"end",end:"start"};function ki(f){return f.replace(/start|end/g,function(y){return ms[y]})}var un="top",or="bottom",br="right",Tr="left",Pt="auto",xn=[un,or,br,Tr],Gn="start",qn="end",xa="viewport",kr="popper",ce=xn.reduce(function(f,y){return f.concat([y+"-"+Gn,y+"-"+qn])},[]),re=[].concat(xn,[Pt]).reduce(function(f,y){return f.concat([y,y+"-"+Gn,y+"-"+qn])},[]),hn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function en(f){if(null==f)return window;if("[object Window]"!==f.toString()){var y=f.ownerDocument;return y&&y.defaultView||window}return f}function mn(f){return f instanceof en(f).Element||f instanceof Element}function ar(f){return f instanceof en(f).HTMLElement||f instanceof HTMLElement}function lr(f){return!(typeof ShadowRoot>"u")&&(f instanceof en(f).ShadowRoot||f instanceof ShadowRoot)}function Un(f){return((mn(f)?f.ownerDocument:f.document)||window.document).documentElement}var $r=Math.max,oi=Math.min,ur=Math.round;function Fi(){var f=navigator.userAgentData;return null!=f&&f.brands&&Array.isArray(f.brands)?f.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function Vi(){return!/^((?!chrome|android).)*safari/i.test(Fi())}function ai(f,y,c){void 0===y&&(y=!1),void 0===c&&(c=!1);var b=f.getBoundingClientRect(),A=1,V=1;y&&ar(f)&&(A=f.offsetWidth>0&&ur(b.width)/f.offsetWidth||1,V=f.offsetHeight>0&&ur(b.height)/f.offsetHeight||1);var ge=(mn(f)?en(f):window).visualViewport,fe=!Vi()&&c,Ue=(b.left+(fe&&ge?ge.offsetLeft:0))/A,Xe=(b.top+(fe&&ge?ge.offsetTop:0))/V,Ht=b.width/A,At=b.height/V;return{width:Ht,height:At,top:Xe,right:Ue+Ht,bottom:Xe+At,left:Ue,x:Ue,y:Xe}}function li(f){var y=en(f);return{scrollLeft:y.pageXOffset,scrollTop:y.pageYOffset}}function Tn(f){return ai(Un(f)).left+li(f).scrollLeft}function wn(f){return en(f).getComputedStyle(f)}function zn(f){return f?(f.nodeName||"").toLowerCase():null}function Gr(f){return"html"===zn(f)?f:f.assignedSlot||f.parentNode||(lr(f)?f.host:null)||Un(f)}function ae(f){var y=wn(f);return/auto|scroll|overlay|hidden/.test(y.overflow+y.overflowY+y.overflowX)}function se(f){return["html","body","#document"].indexOf(zn(f))>=0?f.ownerDocument.body:ar(f)&&ae(f)?f:se(Gr(f))}function te(f,y){var c;void 0===y&&(y=[]);var b=se(f),A=b===(null==(c=f.ownerDocument)?void 0:c.body),V=en(b),ne=A?[V].concat(V.visualViewport||[],ae(b)?b:[]):b,ge=y.concat(ne);return A?ge:ge.concat(te(Gr(ne)))}function Se(f){return["table","td","th"].indexOf(zn(f))>=0}function tt(f){return ar(f)&&"fixed"!==wn(f).position?f.offsetParent:null}function zt(f){for(var y=en(f),c=tt(f);c&&Se(c)&&"static"===wn(c).position;)c=tt(c);return c&&("html"===zn(c)||"body"===zn(c)&&"static"===wn(c).position)?y:c||function Mt(f){var y=/firefox/i.test(Fi());if(/Trident/i.test(Fi())&&ar(f)&&"fixed"===wn(f).position)return null;var A=Gr(f);for(lr(A)&&(A=A.host);ar(A)&&["html","body"].indexOf(zn(A))<0;){var V=wn(A);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||y&&"filter"===V.willChange||y&&V.filter&&"none"!==V.filter)return A;A=A.parentNode}return null}(f)||y}function nn(f,y){var c=y.getRootNode&&y.getRootNode();if(f.contains(y))return!0;if(c&&lr(c)){var b=y;do{if(b&&f.isSameNode(b))return!0;b=b.parentNode||b.host}while(b)}return!1}function pr(f){return Object.assign({},f,{left:f.x,top:f.y,right:f.x+f.width,bottom:f.y+f.height})}function rn(f,y,c){return y===xa?pr(function Fr(f,y){var c=en(f),b=Un(f),A=c.visualViewport,V=b.clientWidth,ne=b.clientHeight,ge=0,fe=0;if(A){V=A.width,ne=A.height;var Ue=Vi();(Ue||!Ue&&"fixed"===y)&&(ge=A.offsetLeft,fe=A.offsetTop)}return{width:V,height:ne,x:ge+Tn(f),y:fe}}(f,c)):mn(y)?function cr(f,y){var c=ai(f,!1,"fixed"===y);return c.top=c.top+f.clientTop,c.left=c.left+f.clientLeft,c.bottom=c.top+f.clientHeight,c.right=c.left+f.clientWidth,c.width=f.clientWidth,c.height=f.clientHeight,c.x=c.left,c.y=c.top,c}(y,c):pr(function Ir(f){var y,c=Un(f),b=li(f),A=null==(y=f.ownerDocument)?void 0:y.body,V=$r(c.scrollWidth,c.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),ne=$r(c.scrollHeight,c.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),ge=-b.scrollLeft+Tn(f),fe=-b.scrollTop;return"rtl"===wn(A||c).direction&&(ge+=$r(c.clientWidth,A?A.clientWidth:0)-V),{width:V,height:ne,x:ge,y:fe}}(Un(f)))}function Li(f){return f.split("-")[1]}function vi(f){return["top","bottom"].indexOf(f)>=0?"x":"y"}function Er(f){var fe,y=f.reference,c=f.element,b=f.placement,A=b?Dr(b):null,V=b?Li(b):null,ne=y.x+y.width/2-c.width/2,ge=y.y+y.height/2-c.height/2;switch(A){case un:fe={x:ne,y:y.y-c.height};break;case or:fe={x:ne,y:y.y+y.height};break;case br:fe={x:y.x+y.width,y:ge};break;case Tr:fe={x:y.x-c.width,y:ge};break;default:fe={x:y.x,y:y.y}}var Ue=A?vi(A):null;if(null!=Ue){var Xe="y"===Ue?"height":"width";switch(V){case Gn:fe[Ue]=fe[Ue]-(y[Xe]/2-c[Xe]/2);break;case qn:fe[Ue]=fe[Ue]+(y[Xe]/2-c[Xe]/2)}}return fe}function _s(f){return Object.assign({},{top:0,right:0,bottom:0,left:0},f)}function Cr(f,y){return y.reduce(function(c,b){return c[b]=f,c},{})}function uo(f,y){void 0===y&&(y={});var b=y.placement,A=void 0===b?f.placement:b,V=y.strategy,ne=void 0===V?f.strategy:V,ge=y.boundary,fe=void 0===ge?"clippingParents":ge,Ue=y.rootBoundary,Xe=void 0===Ue?xa:Ue,Ht=y.elementContext,At=void 0===Ht?kr:Ht,Ft=y.altBoundary,Cn=void 0!==Ft&&Ft,tn=y.padding,_n=void 0===tn?0:tn,En=_s("number"!=typeof _n?_n:Cr(_n,xn)),Pr=f.rects.popper,An=f.elements[Cn?At===kr?"reference":kr:At],Yn=function Xr(f,y,c,b){var A="clippingParents"===y?function Qi(f){var y=te(Gr(f)),b=["absolute","fixed"].indexOf(wn(f).position)>=0&&ar(f)?zt(f):f;return mn(b)?y.filter(function(A){return mn(A)&&nn(A,b)&&"body"!==zn(A)}):[]}(f):[].concat(y),V=[].concat(A,[c]),ge=V.reduce(function(fe,Ue){var Xe=rn(f,Ue,b);return fe.top=$r(Xe.top,fe.top),fe.right=oi(Xe.right,fe.right),fe.bottom=oi(Xe.bottom,fe.bottom),fe.left=$r(Xe.left,fe.left),fe},rn(f,V[0],b));return ge.width=ge.right-ge.left,ge.height=ge.bottom-ge.top,ge.x=ge.left,ge.y=ge.top,ge}(mn(An)?An:An.contextElement||Un(f.elements.popper),fe,Xe,ne),Xn=ai(f.elements.reference),Or=Er({reference:Xn,element:Pr,strategy:"absolute",placement:A}),_r=pr(Object.assign({},Pr,Or)),Mi=At===kr?_r:Xn,Pi={top:Yn.top-Mi.top+En.top,bottom:Mi.bottom-Yn.bottom+En.bottom,left:Yn.left-Mi.left+En.left,right:Mi.right-Yn.right+En.right},ji=f.modifiersData.offset;if(At===kr&&ji){var wo=ji[A];Object.keys(Pi).forEach(function(Sn){var $s=[br,or].indexOf(Sn)>=0?1:-1,Wo=[un,or].indexOf(Sn)>=0?"y":"x";Pi[Sn]+=wo[Wo]*$s})}return Pi}const ys={name:"flip",enabled:!0,phase:"main",fn:function ka(f){var y=f.state,c=f.options,b=f.name;if(!y.modifiersData[b]._skip){for(var A=c.mainAxis,V=void 0===A||A,ne=c.altAxis,ge=void 0===ne||ne,fe=c.fallbackPlacements,Ue=c.padding,Xe=c.boundary,Ht=c.rootBoundary,At=c.altBoundary,Ft=c.flipVariations,Cn=void 0===Ft||Ft,tn=c.allowedAutoPlacements,_n=y.options.placement,En=Dr(_n),Pr=fe||(En!==_n&&Cn?function Wn(f){if(Dr(f)===Pt)return[];var y=Yi(f);return[ki(f),y,ki(y)]}(_n):[Yi(_n)]),An=[_n].concat(Pr).reduce(function(Ya,kl){return Ya.concat(Dr(kl)===Pt?function ol(f,y){void 0===y&&(y={});var A=y.boundary,V=y.rootBoundary,ne=y.padding,ge=y.flipVariations,fe=y.allowedAutoPlacements,Ue=void 0===fe?re:fe,Xe=Li(y.placement),Ht=Xe?ge?ce:ce.filter(function(Cn){return Li(Cn)===Xe}):xn,At=Ht.filter(function(Cn){return Ue.indexOf(Cn)>=0});0===At.length&&(At=Ht);var Ft=At.reduce(function(Cn,tn){return Cn[tn]=uo(f,{placement:tn,boundary:A,rootBoundary:V,padding:ne})[Dr(tn)],Cn},{});return Object.keys(Ft).sort(function(Cn,tn){return Ft[Cn]-Ft[tn]})}(y,{placement:kl,boundary:Xe,rootBoundary:Ht,padding:Ue,flipVariations:Cn,allowedAutoPlacements:tn}):kl)},[]),Yn=y.rects.reference,Xn=y.rects.popper,Or=new Map,_r=!0,Mi=An[0],Pi=0;Pi<An.length;Pi++){var ji=An[Pi],wo=Dr(ji),Sn=Li(ji)===Gn,$s=[un,or].indexOf(wo)>=0,Wo=$s?"width":"height",Ps=uo(y,{placement:ji,boundary:Xe,rootBoundary:Ht,altBoundary:At,padding:Ue}),hs=$s?Sn?br:Tr:Sn?or:un;Yn[Wo]>Xn[Wo]&&(hs=Yi(hs));var Mh=Yi(hs),Ka=[];if(V&&Ka.push(Ps[wo]<=0),ge&&Ka.push(Ps[hs]<=0,Ps[Mh]<=0),Ka.every(function(Ya){return Ya})){Mi=ji,_r=!1;break}Or.set(ji,Ka)}if(_r)for(var wa=function(kl){var Ec=An.find(function(Qa){var Pu=Or.get(Qa);if(Pu)return Pu.slice(0,kl).every(function(Tp){return Tp})});if(Ec)return Mi=Ec,"break"},vc=Cn?3:1;vc>0&&"break"!==wa(vc);vc--);y.placement!==Mi&&(y.modifiersData[b]._skip=!0,y.placement=Mi,y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vs(f,y,c){return $r(f,oi(y,c))}function bs(f){var y=ai(f),c=f.offsetWidth,b=f.offsetHeight;return Math.abs(y.width-c)<=1&&(c=y.width),Math.abs(y.height-b)<=1&&(b=y.height),{x:f.offsetLeft,y:f.offsetTop,width:c,height:b}}const zr={name:"preventOverflow",enabled:!0,phase:"main",fn:function ks(f){var y=f.state,c=f.options,b=f.name,A=c.mainAxis,V=void 0===A||A,ne=c.altAxis,ge=void 0!==ne&&ne,At=c.tether,Ft=void 0===At||At,Cn=c.tetherOffset,tn=void 0===Cn?0:Cn,_n=uo(y,{boundary:c.boundary,rootBoundary:c.rootBoundary,padding:c.padding,altBoundary:c.altBoundary}),En=Dr(y.placement),Fn=Li(y.placement),Pr=!Fn,An=vi(En),Yn=function is(f){return"x"===f?"y":"x"}(An),Xn=y.modifiersData.popperOffsets,Or=y.rects.reference,_r=y.rects.popper,Mi="function"==typeof tn?tn(Object.assign({},y.rects,{placement:y.placement})):tn,Pi="number"==typeof Mi?{mainAxis:Mi,altAxis:Mi}:Object.assign({mainAxis:0,altAxis:0},Mi),ji=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,wo={x:0,y:0};if(Xn){if(V){var Sn,$s="y"===An?un:Tr,Wo="y"===An?or:br,Ps="y"===An?"height":"width",hs=Xn[An],Mh=hs+_n[$s],Ka=hs-_n[Wo],Mu=Ft?-_r[Ps]/2:0,wa=Fn===Gn?Or[Ps]:_r[Ps],vc=Fn===Gn?-_r[Ps]:-Or[Ps],bc=y.elements.arrow,Ya=Ft&&bc?bs(bc):{width:0,height:0},kl=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ec=kl[$s],Qa=kl[Wo],Pu=vs(0,Or[Ps],Ya[Ps]),Tp=Pr?Or[Ps]/2-Mu-Pu-Ec-Pi.mainAxis:wa-Pu-Ec-Pi.mainAxis,mv=Pr?-Or[Ps]/2+Mu+Pu+Qa+Pi.mainAxis:vc+Pu+Qa+Pi.mainAxis,Ou=y.elements.arrow&&zt(y.elements.arrow),Dc=null!=(Sn=ji?.[An])?Sn:0,Fl=hs+mv-Dc,gd=vs(Ft?oi(Mh,hs+Tp-Dc-(Ou?"y"===An?Ou.clientTop||0:Ou.clientLeft||0:0)):Mh,hs,Ft?$r(Ka,Fl):Ka);Xn[An]=gd,wo[An]=gd-hs}if(ge){var Sm,xu=Xn[Yn],Ia="y"===Yn?"height":"width",ku=xu+_n["x"===An?un:Tr],Rm=xu-_n["x"===An?or:br],Ip=-1!==[un,Tr].indexOf(En),Cp=null!=(Sm=ji?.[Yn])?Sm:0,Fu=Ip?ku:xu-Or[Ia]-_r[Ia]-Cp+Pi.altAxis,Ap=Ip?xu+Or[Ia]+_r[Ia]-Cp-Pi.altAxis:Rm,xh=Ft&&Ip?function ss(f,y,c){var b=vs(f,y,c);return b>c?c:b}(Fu,xu,Ap):vs(Ft?Fu:ku,xu,Ft?Ap:Rm);Xn[Yn]=xh,wo[Yn]=xh-xu}y.modifiersData[b]=wo}},requiresIfExists:["offset"]},Es={name:"arrow",enabled:!0,phase:"main",fn:function Ar(f){var y,c=f.state,b=f.name,A=f.options,V=c.elements.arrow,ne=c.modifiersData.popperOffsets,ge=Dr(c.placement),fe=vi(ge),Xe=[Tr,br].indexOf(ge)>=0?"height":"width";if(V&&ne){var Ht=function(y,c){return _s("number"!=typeof(y="function"==typeof y?y(Object.assign({},c.rects,{placement:c.placement})):y)?y:Cr(y,xn))}(A.padding,c),At=bs(V),Ft="y"===fe?un:Tr,Cn="y"===fe?or:br,tn=c.rects.reference[Xe]+c.rects.reference[fe]-ne[fe]-c.rects.popper[Xe],_n=ne[fe]-c.rects.reference[fe],En=zt(V),Fn=En?"y"===fe?En.clientHeight||0:En.clientWidth||0:0,Xn=Fn/2-At[Xe]/2+(tn/2-_n/2),Or=vs(Ht[Ft],Xn,Fn-At[Xe]-Ht[Cn]);c.modifiersData[b]=((y={})[fe]=Or,y.centerOffset=Or-Xn,y)}},effect:function Sr(f){var y=f.state,b=f.options.element,A=void 0===b?"[data-popper-arrow]":b;null!=A&&("string"==typeof A&&!(A=y.elements.popper.querySelector(A))||!nn(y.elements.popper,A)||(y.elements.arrow=A))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xo(f,y,c){void 0===c&&(c=!1);var b=ar(y),A=ar(y)&&function Bi(f){var y=f.getBoundingClientRect(),c=ur(y.width)/f.offsetWidth||1,b=ur(y.height)/f.offsetHeight||1;return 1!==c||1!==b}(y),V=Un(y),ne=ai(f,A,c),ge={scrollLeft:0,scrollTop:0},fe={x:0,y:0};return(b||!b&&!c)&&(("body"!==zn(y)||ae(V))&&(ge=function Ds(f){return f!==en(f)&&ar(f)?function co(f){return{scrollLeft:f.scrollLeft,scrollTop:f.scrollTop}}(f):li(f)}(y)),ar(y)?((fe=ai(y,!0)).x+=y.clientLeft,fe.y+=y.clientTop):V&&(fe.x=Tn(V))),{x:ne.left+ge.scrollLeft-fe.x,y:ne.top+ge.scrollTop-fe.y,width:ne.width,height:ne.height}}function al(f){var y=new Map,c=new Set,b=[];function A(V){c.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(ge){if(!c.has(ge)){var fe=y.get(ge);fe&&A(fe)}}),b.push(V)}return f.forEach(function(V){y.set(V.name,V)}),f.forEach(function(V){c.has(V.name)||A(V)}),b}function ru(f){var y;return function(){return y||(y=new Promise(function(c){Promise.resolve().then(function(){y=void 0,c(f())})})),y}}var Ji={placement:"bottom",modifiers:[],strategy:"absolute"};function ll(){for(var f=arguments.length,y=new Array(f),c=0;c<f;c++)y[c]=arguments[c];return!y.some(function(b){return!(b&&"function"==typeof b.getBoundingClientRect)})}function ul(f){void 0===f&&(f={});var c=f.defaultModifiers,b=void 0===c?[]:c,A=f.defaultOptions,V=void 0===A?Ji:A;return function(ge,fe,Ue){void 0===Ue&&(Ue=V);var Xe={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ji,V),modifiersData:{},elements:{reference:ge,popper:fe},attributes:{},styles:{}},Ht=[],At=!1,Ft={state:Xe,setOptions:function(En){var Fn="function"==typeof En?En(Xe.options):En;tn(),Xe.options=Object.assign({},V,Xe.options,Fn),Xe.scrollParents={reference:mn(ge)?te(ge):ge.contextElement?te(ge.contextElement):[],popper:te(fe)};var Pr=function Ju(f){var y=al(f);return hn.reduce(function(c,b){return c.concat(y.filter(function(A){return A.phase===b}))},[])}(function nh(f){var y=f.reduce(function(c,b){var A=c[b.name];return c[b.name]=A?Object.assign({},A,b,{options:Object.assign({},A.options,b.options),data:Object.assign({},A.data,b.data)}):b,c},{});return Object.keys(y).map(function(c){return y[c]})}([].concat(b,Xe.options.modifiers)));return Xe.orderedModifiers=Pr.filter(function(An){return An.enabled}),function Cn(){Xe.orderedModifiers.forEach(function(_n){var Fn=_n.options,An=_n.effect;if("function"==typeof An){var Yn=An({state:Xe,name:_n.name,instance:Ft,options:void 0===Fn?{}:Fn});Ht.push(Yn||function(){})}})}(),Ft.update()},forceUpdate:function(){if(!At){var En=Xe.elements,Fn=En.reference,Pr=En.popper;if(ll(Fn,Pr)){Xe.rects={reference:xo(Fn,zt(Pr),"fixed"===Xe.options.strategy),popper:bs(Pr)},Xe.reset=!1,Xe.placement=Xe.options.placement,Xe.orderedModifiers.forEach(function(Pi){return Xe.modifiersData[Pi.name]=Object.assign({},Pi.data)});for(var An=0;An<Xe.orderedModifiers.length;An++)if(!0!==Xe.reset){var Yn=Xe.orderedModifiers[An],Xn=Yn.fn,Or=Yn.options;"function"==typeof Xn&&(Xe=Xn({state:Xe,options:void 0===Or?{}:Or,name:Yn.name,instance:Ft})||Xe)}else Xe.reset=!1,An=-1}}},update:ru(function(){return new Promise(function(_n){Ft.forceUpdate(),_n(Xe)})}),destroy:function(){tn(),At=!0}};if(!ll(ge,fe))return Ft;function tn(){Ht.forEach(function(_n){return _n()}),Ht=[]}return Ft.setOptions(Ue).then(function(_n){!At&&Ue.onFirstUpdate&&Ue.onFirstUpdate(_n)}),Ft}}var Ts={passive:!0},qs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oa(f){var y,c=f.popper,b=f.popperRect,A=f.placement,V=f.variation,ne=f.offsets,ge=f.position,fe=f.gpuAcceleration,Ue=f.adaptive,Xe=f.roundOffsets,Ht=f.isFixed,At=ne.x,Ft=void 0===At?0:At,Cn=ne.y,tn=void 0===Cn?0:Cn,_n="function"==typeof Xe?Xe({x:Ft,y:tn}):{x:Ft,y:tn};Ft=_n.x,tn=_n.y;var En=ne.hasOwnProperty("x"),Fn=ne.hasOwnProperty("y"),Pr=Tr,An=un,Yn=window;if(Ue){var Xn=zt(c),Or="clientHeight",_r="clientWidth";Xn===en(c)&&"static"!==wn(Xn=Un(c)).position&&"absolute"===ge&&(Or="scrollHeight",_r="scrollWidth"),(A===un||(A===Tr||A===br)&&V===qn)&&(An=or,tn-=(Ht&&Xn===Yn&&Yn.visualViewport?Yn.visualViewport.height:Xn[Or])-b.height,tn*=fe?1:-1),A!==Tr&&(A!==un&&A!==or||V!==qn)||(Pr=br,Ft-=(Ht&&Xn===Yn&&Yn.visualViewport?Yn.visualViewport.width:Xn[_r])-b.width,Ft*=fe?1:-1)}var Sn,ji=Object.assign({position:ge},Ue&&qs),wo=!0===Xe?function ko(f,y){var b=f.y,A=y.devicePixelRatio||1;return{x:ur(f.x*A)/A||0,y:ur(b*A)/A||0}}({x:Ft,y:tn},en(c)):{x:Ft,y:tn};return Ft=wo.x,tn=wo.y,Object.assign({},ji,fe?((Sn={})[An]=Fn?"0":"",Sn[Pr]=En?"0":"",Sn.transform=(Yn.devicePixelRatio||1)<=1?"translate("+Ft+"px, "+tn+"px)":"translate3d("+Ft+"px, "+tn+"px, 0)",Sn):((y={})[An]=Fn?tn+"px":"",y[Pr]=En?Ft+"px":"",y.transform="",y))}var Fs=ul({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Fa(f){var y=f.state,c=f.instance,b=f.options,A=b.scroll,V=void 0===A||A,ne=b.resize,ge=void 0===ne||ne,fe=en(y.elements.popper),Ue=[].concat(y.scrollParents.reference,y.scrollParents.popper);return V&&Ue.forEach(function(Xe){Xe.addEventListener("scroll",c.update,Ts)}),ge&&fe.addEventListener("resize",c.update,Ts),function(){V&&Ue.forEach(function(Xe){Xe.removeEventListener("scroll",c.update,Ts)}),ge&&fe.removeEventListener("resize",c.update,Ts)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Va(f){var y=f.state;y.modifiersData[f.name]=Er({reference:y.rects.reference,element:y.rects.popper,strategy:"absolute",placement:y.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function iu(f){var y=f.state,c=f.options,b=c.gpuAcceleration,A=void 0===b||b,V=c.adaptive,ne=void 0===V||V,ge=c.roundOffsets,fe=void 0===ge||ge,Ue={placement:Dr(y.placement),variation:Li(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:A,isFixed:"fixed"===y.options.strategy};null!=y.modifiersData.popperOffsets&&(y.styles.popper=Object.assign({},y.styles.popper,oa(Object.assign({},Ue,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:ne,roundOffsets:fe})))),null!=y.modifiersData.arrow&&(y.styles.arrow=Object.assign({},y.styles.arrow,oa(Object.assign({},Ue,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:fe})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function os(f){var y=f.state;Object.keys(y.elements).forEach(function(c){var b=y.styles[c]||{},A=y.attributes[c]||{},V=y.elements[c];!ar(V)||!zn(V)||(Object.assign(V.style,b),Object.keys(A).forEach(function(ne){var ge=A[ne];!1===ge?V.removeAttribute(ne):V.setAttribute(ne,!0===ge?"":ge)}))})},effect:function Ba(f){var y=f.state,c={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,c.popper),y.styles=c,y.elements.arrow&&Object.assign(y.elements.arrow.style,c.arrow),function(){Object.keys(y.elements).forEach(function(b){var A=y.elements[b],V=y.attributes[b]||{},ge=Object.keys(y.styles.hasOwnProperty(b)?y.styles[b]:c[b]).reduce(function(fe,Ue){return fe[Ue]="",fe},{});!ar(A)||!zn(A)||(Object.assign(A.style,ge),Object.keys(V).forEach(function(fe){A.removeAttribute(fe)}))})}},requires:["computeStyles"]}]});const Ys=["*"],ha=["dialog"];function sn(f){return null!=f}function In(f){return(f||document.body).getBoundingClientRect()}const bo={animation:!0,transitionTimerDelayMs:5},gu=()=>{},{transitionTimerDelayMs:mu}=bo,Eo=new Map,Ei=(f,y,c,b)=>{let A=b.context||{};const V=Eo.get(y);if(V)switch(b.runningTransition){case"continue":return be.E;case"stop":f.run(()=>V.transition$.complete()),A=Object.assign(V.context,A),Eo.delete(y)}const ne=c(y,b.animation,A)||gu;if(!b.animation||"none"===window.getComputedStyle(y).transitionProperty)return f.run(()=>ne()),(0,Te.of)(void 0).pipe(function di(f){return y=>new H.y(c=>y.subscribe({next:ne=>f.run(()=>c.next(ne)),error:ne=>f.run(()=>c.error(ne)),complete:()=>f.run(()=>c.complete())}))}(f));const ge=new De.x,fe=new De.x,Ue=ge.pipe(function qt(...f){return y=>(0,ot.z)(y,(0,Te.of)(...f))}(!0));Eo.set(y,{transition$:ge,complete:()=>{fe.next(),fe.complete()},context:A});const Xe=function vo(f){const{transitionDelay:y,transitionDuration:c}=window.getComputedStyle(f);return 1e3*(parseFloat(y)+parseFloat(c))}(y);return f.runOutsideAngular(()=>{const Ht=(0,Ie.R)(y,"transitionend").pipe((0,at.R)(Ue),(0,lt.h)(({target:Ft})=>Ft===y));Dt((0,xe.H)(Xe+mu).pipe((0,at.R)(Ue)),Ht,fe).pipe((0,at.R)(Ue)).subscribe(()=>{Eo.delete(y),f.run(()=>{ne(),ge.next(),ge.complete()})})}),ge.asObservable()},td=(f,y,c)=>{let{direction:b,maxHeight:A}=c;const{classList:V}=f;function ne(){V.add("collapse"),"show"===b?V.add("show"):V.remove("show")}if(y)return A||(A=function ep(f){if(typeof navigator>"u")return"0px";const{classList:y}=f,c=y.contains("show");c||y.add("show"),f.style.height="";const b=f.getBoundingClientRect().height+"px";return c||y.remove("show"),b}(f),c.maxHeight=A,f.style.height="show"!==b?A:"0px",V.remove("collapse"),V.remove("collapsing"),V.remove("show"),In(f),V.add("collapsing")),f.style.height="show"===b?A:"0px",()=>{ne(),V.remove("collapsing"),f.style.height=""};ne()};let pa=(()=>{class f{constructor(){this.animation=bo.animation}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),lc=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),$a=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),rr=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({}),f})(),vu=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),xy=(()=>{class f{constructor(c){this._ngbConfig=c}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(pa))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),em=(()=>{class f{constructor(c,b,A){this._element=c,this._zone=A,this.collapsed=!1,this.ngbCollapseChange=new p.vpe,this.shown=new p.vpe,this.hidden=new p.vpe,this.animation=b.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:c}){c.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(c=this.collapsed){this.collapsed=!c,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(c,b){return Ei(this._zone,this._element.nativeElement,td,{animation:b,runningTransition:"stop",context:{direction:c?"hide":"show"}})}_runTransitionWithEvents(c,b){this._runTransition(c,b).subscribe(()=>{c?this.hidden.emit():this.shown.emit()})}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.SBq),p.Y36(xy),p.Y36(p.R0b))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[p.TTD]}),f})(),Ss=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({}),f})();var Wr=(()=>{return(f=Wr||(Wr={}))[f.Tab=9]="Tab",f[f.Enter=13]="Enter",f[f.Escape=27]="Escape",f[f.Space=32]="Space",f[f.PageUp=33]="PageUp",f[f.PageDown=34]="PageDown",f[f.End=35]="End",f[f.Home=36]="Home",f[f.ArrowLeft=37]="ArrowLeft",f[f.ArrowUp=38]="ArrowUp",f[f.ArrowRight=39]="ArrowRight",f[f.ArrowDown=40]="ArrowDown",Wr;var f})();const sd=(f,y)=>!!y&&y.some(c=>c.contains(f)),lh=(f,y)=>!y||null!=function Cs(f,y){return!y||typeof f.closest>"u"?null:f.closest(y)}(f,y),Eu=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function rm(f,y,c,b,A,V,ne,ge){c&&f.runOutsideAngular((f=>Eu?()=>setTimeout(()=>f(),100):f)(()=>{const Ue=(0,Ie.R)(y,"keydown").pipe((0,at.R)(A),(0,lt.h)(At=>At.which===Wr.Escape),(0,_t.b)(At=>At.preventDefault())),Xe=(0,Ie.R)(y,"mousedown").pipe((0,Ee.U)(At=>{const Ft=At.target;return 2!==At.button&&!sd(Ft,ne)&&("inside"===c?sd(Ft,V)&&lh(Ft,ge):"outside"===c?!sd(Ft,V):lh(Ft,ge)||!sd(Ft,V))}),(0,at.R)(A)),Ht=(0,Ie.R)(y,"mouseup").pipe(Nn(Xe),(0,lt.h)(([At,Ft])=>Ft),Mn(0),(0,at.R)(A));Dt([Ue.pipe((0,Ee.U)(At=>0)),Ht.pipe((0,Ee.U)(At=>1))]).subscribe(At=>f.run(()=>b(At)))}))}const im=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zo(f){const y=Array.from(f.querySelectorAll(im)).filter(c=>-1!==c.tabIndex);return[y[0],y[y.length-1]]}const sm=/\s+/,uh=/  +/gi,By=/^start/,om=/^end/,Tu=/-(top|left)$/,od=/-(bottom|right)$/,Uy=/^left/,ch=/^right/,Cl=/^start/,ro=/^end/;function jy({placement:f,baseClass:y}){let c=Array.isArray(f)?f:f.split(sm),A=c.findIndex(fe=>"auto"===fe);A>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(fe){null==c.find(Ue=>-1!==Ue.search("^"+fe))&&c.splice(A++,1,fe)});const V=c.map(fe=>function am(f){return f.replace(By,"left").replace(om,"right").replace(Tu,"-start").replace(od,"-end")}(fe));return{placement:V.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!y,phase:"write",fn({state:fe}){const Ue=new RegExp(y+"-[a-z]+","gi"),Xe=fe.elements.popper,Ht=fe.placement;let At=Xe.className;At=At.replace(Ue,""),At+=` ${function Hy(f,y){let[c,b]=y.split("-");const A=c.replace(Uy,"start").replace(ch,"end");let V=[A];if(b){let ne=b;("left"===c||"right"===c)&&(ne=ne.replace(Cl,"top").replace(ro,"bottom")),V.push(`${A}-${ne}`)}return f&&(V=V.map(ne=>`${f}-${ne}`)),V.join(" ")}(y,Ht)}`,At=At.trim().replace(uh," "),Xe.className=At}},ys,zr,Es,{enabled:!0,name:"flip",options:{fallbackPlacements:V}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function lp(f){return f}function lm(){let f=null;return{createPopper(y){if(!f){let b=(y.updatePopperOptions||lp)(jy(y));f=Fs(y.hostElement,y.targetElement,b)}},update(){f&&f.update()},setOptions(y){if(f){let b=(y.updatePopperOptions||lp)(jy(y));f.setOptions(b)}},destroy(){f&&(f.destroy(),f=null)}}}new Date(1882,10,12),new Date(2174,10,25);let pp=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez,Qt.u5]]}),f})(),Jy=(()=>{class f{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Rl=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275dir=p.lG2({type:f,selectors:[["",8,"navbar"]]}),f})(),yh=(()=>{class f{constructor(c){this.elementRef=c,this._disabled=!1}set disabled(c){this._disabled=""===c||!0===c}get disabled(){return this._disabled}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.SBq))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(c,b){2&c&&p.ekj("disabled",b.disabled)},inputs:{disabled:"disabled"}}),f})(),vh=(()=>{class f{constructor(c,b){this.dropdown=c,this.placement="bottom",this.isOpen=!1,this.nativeElement=b.nativeElement}}return f.\u0275fac=function(c){return new(c||f)(p.Y36((0,p.Gpc)(()=>cd)),p.Y36(p.SBq))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(c,b,A){if(1&c&&p.Suo(A,yh,4),2&c){let V;p.iGM(V=p.CRH())&&(b.menuItems=V)}},hostVars:5,hostBindings:function(c,b){1&c&&p.NdJ("keydown.ArrowUp",function(V){return b.dropdown.onKeyDown(V)})("keydown.ArrowDown",function(V){return b.dropdown.onKeyDown(V)})("keydown.Home",function(V){return b.dropdown.onKeyDown(V)})("keydown.End",function(V){return b.dropdown.onKeyDown(V)})("keydown.Enter",function(V){return b.dropdown.onKeyDown(V)})("keydown.Space",function(V){return b.dropdown.onKeyDown(V)})("keydown.Tab",function(V){return b.dropdown.onKeyDown(V)})("keydown.Shift.Tab",function(V){return b.dropdown.onKeyDown(V)}),2&c&&(p.uIk("data-popper",b.placement),p.ekj("dropdown-menu",!0)("show",b.dropdown.isOpen()))}}),f})(),bh=(()=>{class f{constructor(c,b){this.dropdown=c,this.nativeElement=b.nativeElement}}return f.\u0275fac=function(c){return new(c||f)(p.Y36((0,p.Gpc)(()=>cd)),p.Y36(p.SBq))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(c,b){2&c&&p.uIk("aria-expanded",b.dropdown.isOpen())}}),f})(),ud=(()=>{class f extends bh{constructor(c,b){super(c,b)}}return f.\u0275fac=function(c){return new(c||f)(p.Y36((0,p.Gpc)(()=>cd)),p.Y36(p.SBq))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(c,b){1&c&&p.NdJ("click",function(){return b.dropdown.toggle()})("keydown.ArrowUp",function(V){return b.dropdown.onKeyDown(V)})("keydown.ArrowDown",function(V){return b.dropdown.onKeyDown(V)})("keydown.Home",function(V){return b.dropdown.onKeyDown(V)})("keydown.End",function(V){return b.dropdown.onKeyDown(V)})("keydown.Tab",function(V){return b.dropdown.onKeyDown(V)})("keydown.Shift.Tab",function(V){return b.dropdown.onKeyDown(V)}),2&c&&p.uIk("aria-expanded",b.dropdown.isOpen())},features:[p._Bn([{provide:bh,useExisting:(0,p.Gpc)(()=>f)}]),p.qOj]}),f})(),cd=(()=>{class f{constructor(c,b,A,V,ne,ge,fe){this._changeDetector=c,this._document=A,this._ngZone=V,this._elementRef=ne,this._renderer=ge,this._destroyCloseHandlers$=new De.x,this._bodyContainer=null,this._positioning=lm(),this._open=!1,this.openChange=new p.vpe,this.placement=b.placement,this.container=b.container,this.autoClose=b.autoClose,this.display=fe?"static":"dynamic",this._zoneSubscription=V.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ft.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(c){if(c.container&&this._open&&this._applyContainer(this.container),c.placement&&!c.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),c.dropdownClass){const{currentValue:b,previousValue:A}=c.dropdownClass;this._applyCustomDropdownClass(b,A)}c.autoClose&&this._open&&(this.autoClose=c.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.onStable.pipe((0,ft.q)(1)).subscribe(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),rm(this._ngZone,this._document,this.autoClose,c=>{this.close(),0===c&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._positioning.destroy(),this._resetContainer(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._destroyCloseHandlers$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(c){const b=c.which,A=this._getMenuElements();let V=-1,ne=null;const ge=this._isEventFromToggle(c);if(!ge&&A.length&&A.forEach((fe,Ue)=>{fe.contains(c.target)&&(ne=fe),fe===this._document.activeElement&&(V=Ue)}),b!==Wr.Space&&b!==Wr.Enter){if(b!==Wr.Tab){if(ge||ne){if(this.open(),A.length){switch(b){case Wr.ArrowDown:V=Math.min(V+1,A.length-1);break;case Wr.ArrowUp:if(this._isDropup()&&-1===V){V=A.length-1;break}V=Math.max(V-1,0);break;case Wr.Home:V=0;break;case Wr.End:V=A.length-1}A[V].focus()}c.preventDefault()}}else if(c.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===c.target)return void("body"!==this.container||c.shiftKey?c.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const fe=this._menu.nativeElement.querySelectorAll(im);c.shiftKey&&c.target===fe[0]?(this._anchor.nativeElement.focus(),c.preventDefault()):!c.shiftKey&&c.target===fe[fe.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,Ie.R)(c.target,"focusout").pipe((0,ft.q)(1)).subscribe(({relatedTarget:fe})=>{this._elementRef.nativeElement.contains(fe)||this.close()})}}else ne&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,Ie.R)(ne,"click").pipe((0,ft.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(c){return this._anchor.nativeElement.contains(c.target)}_getMenuElements(){const c=this._menu;return null==c?[]:c.menuItems.filter(b=>!b.disabled).map(b=>b.elementRef.nativeElement)}_positionMenu(){const c=this._menu;this.isOpen()&&c&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(c){return Array.isArray(c)?c[0]:c.split(" ")[0]}_resetContainer(){const c=this._renderer;this._menu&&c.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(c.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(c=null){if(this._resetContainer(),"body"===c){const b=this._renderer,A=this._menu.nativeElement,V=this._bodyContainer=this._bodyContainer||b.createElement("div");b.setStyle(V,"position","absolute"),b.setStyle(A,"position","static"),b.setStyle(V,"z-index","1050"),b.appendChild(V,A),b.appendChild(this._document.body,V)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(c,b){const A="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;A&&(b&&this._renderer.removeClass(A,b),c&&this._renderer.addClass(A,c))}_applyPlacementClasses(c){const b=this._menu;if(b){c||(c=this._getFirstPlacement(this.placement));const A=this._renderer,V=this._elementRef.nativeElement;A.removeClass(V,"dropup"),A.removeClass(V,"dropdown");const{nativeElement:ne}=b;"static"===this.display?(b.placement=null,A.setAttribute(ne,"data-bs-popper","static")):(b.placement=c,A.removeAttribute(ne,"data-bs-popper"));const ge=-1!==c.search("^top")?"dropup":"dropdown";A.addClass(V,ge);const fe=this._bodyContainer;fe&&(A.removeClass(fe,"dropup"),A.removeClass(fe,"dropdown"),A.addClass(fe,ge))}}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.sBO),p.Y36(Jy),p.Y36(Z.K0),p.Y36(p.R0b),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Rl,8))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbDropdown",""]],contentQueries:function(c,b,A){if(1&c&&(p.Suo(A,vh,5),p.Suo(A,bh,5)),2&c){let V;p.iGM(V=p.CRH())&&(b._menu=V.first),p.iGM(V=p.CRH())&&(b._anchor=V.first)}},hostVars:2,hostBindings:function(c,b){2&c&&p.ekj("show",b.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[p.TTD]}),f})(),_m=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({}),f})();class Nl{constructor(y,c,b){this.nodes=y,this.viewRef=c,this.componentRef=b}}class Xy{constructor(y,c,b,A,V,ne){this._type=y,this._injector=c,this._viewContainerRef=b,this._renderer=A,this._ngZone=V,this._applicationRef=ne,this._windowRef=null,this._contentRef=null}open(y,c,b=!1){this._windowRef||(this._contentRef=this._getContentRef(y,c),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:A}=this._windowRef.location,V=this._ngZone.onStable.pipe((0,ft.q)(1),(0,xi.z)(()=>Ei(this._ngZone,A,({classList:ne})=>ne.add("show"),{animation:b,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:V}}close(y=!1){return this._windowRef?Ei(this._ngZone,this._windowRef.location.nativeElement,({classList:c})=>c.remove("show"),{animation:y,runningTransition:"stop"}).pipe((0,_t.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,Te.of)(void 0)}_getContentRef(y,c){if(y){if(y instanceof p.Rgc){const b=y.createEmbeddedView(c);return this._applicationRef.attachView(b),new Nl([b.rootNodes],b)}return new Nl([[this._renderer.createText(`${y}`)]])}return new Nl([])}}let ev=(()=>{class f{constructor(c,b){this._el=c,this._zone=b}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ft.q)(1)).subscribe(()=>{Ei(this._zone,this._el.nativeElement,(c,b)=>{b&&In(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ei(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.SBq),p.Y36(p.R0b))},f.\u0275cmp=p.Xpm({type:f,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,b){2&c&&(p.Tol("modal-backdrop"+(b.backdropClass?" "+b.backdropClass:"")),p.ekj("show",!b.animation)("fade",b.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(c,b){},encapsulation:2}),f})();class gp{close(y){}dismiss(y){}}class Iu{constructor(y,c,b,A){this._windowCmptRef=y,this._contentRef=c,this._backdropCmptRef=b,this._beforeDismiss=A,this._closed=new De.x,this._dismissed=new De.x,this._hidden=new De.x,y.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,ne)=>{this._resolve=V,this._reject=ne}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,at.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,at.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(y){this._windowCmptRef&&(this._closed.next(y),this._resolve(y),this._removeModalElements())}_dismiss(y){this._dismissed.next(y),this._reject(y),this._removeModalElements()}dismiss(y){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function Br(f){return f&&f.then}(c)?!1!==c&&this._dismiss(y):c.then(b=>{!1!==b&&this._dismiss(y)},()=>{})}else this._dismiss(y)}_removeModalElements(){const y=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Te.of)(void 0);y.subscribe(()=>{const{nativeElement:b}=this._windowCmptRef.location;b.parentNode.removeChild(b),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:b}=this._backdropCmptRef.location;b.parentNode.removeChild(b),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ve(y,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var hc=(()=>{return(f=hc||(hc={}))[f.BACKDROP_CLICK=0]="BACKDROP_CLICK",f[f.ESC=1]="ESC",hc;var f})();let mp=(()=>{class f{constructor(c,b,A){this._document=c,this._elRef=b,this._zone=A,this._closed$=new De.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new p.vpe,this.shown=new De.x,this.hidden=new De.x}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ft.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,b={animation:this.animation,runningTransition:"stop"},ne=Ve(Ei(this._zone,c,()=>c.classList.remove("show"),b),Ei(this._zone,this._dialogEl.nativeElement,()=>{},b));return ne.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ne}_show(){const c={animation:this.animation,runningTransition:"continue"};Ve(Ei(this._zone,this._elRef.nativeElement,(V,ne)=>{ne&&In(V),V.classList.add("show")},c),Ei(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{(0,Ie.R)(c,"keydown").pipe((0,at.R)(this._closed$),(0,lt.h)(A=>A.which===Wr.Escape)).subscribe(A=>{this.keyboard?requestAnimationFrame(()=>{A.defaultPrevented||this._zone.run(()=>this.dismiss(hc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let b=!1;(0,Ie.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,at.R)(this._closed$),(0,_t.b)(()=>b=!1),(0,Pe.w)(()=>(0,Ie.R)(c,"mouseup").pipe((0,at.R)(this._closed$),(0,ft.q)(1))),(0,lt.h)(({target:A})=>c===A)).subscribe(()=>{b=!0}),(0,Ie.R)(c,"click").pipe((0,at.R)(this._closed$)).subscribe(({target:A})=>{c===A&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!b&&this._zone.run(()=>this.dismiss(hc.BACKDROP_CLICK))),b=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const b=c.querySelector("[ngbAutofocus]"),A=zo(c)[0];(b||A||c).focus()}}_restoreFocus(){const c=this._document.body,b=this._elWithFocus;let A;A=b&&b.focus&&c.contains(b)?b:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>A.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ei(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(Z.K0),p.Y36(p.SBq),p.Y36(p.R0b))},f.\u0275cmp=p.Xpm({type:f,selectors:[["ngb-modal-window"]],viewQuery:function(c,b){if(1&c&&p.Gf(ha,7),2&c){let A;p.iGM(A=p.CRH())&&(b._dialogEl=A.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,b){2&c&&(p.uIk("aria-modal",!0)("aria-labelledby",b.ariaLabelledBy)("aria-describedby",b.ariaDescribedBy),p.Tol("modal d-block"+(b.windowClass?" "+b.windowClass:"")),p.ekj("fade",b.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ys,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(c,b){1&c&&(p.F$t(),p.TgZ(0,"div",0,1)(2,"div",2),p.Hsn(3),p.qZA()()),2&c&&p.Tol("modal-dialog"+(b.size?" modal-"+b.size:"")+(b.centered?" modal-dialog-centered":"")+(b.scrollable?" modal-dialog-scrollable":"")+(b.modalDialogClass?" "+b.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),f})(),_p=(()=>{class f{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),b=this._document.body,A=b.style,{overflow:V,paddingRight:ne}=A;if(c>0){const ge=parseFloat(window.getComputedStyle(b).paddingRight);A.paddingRight=`${ge+c}px`}return A.overflow="hidden",()=>{c>0&&(A.paddingRight=ne),A.overflow=V}}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(Z.K0))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),GE=(()=>{class f{constructor(c,b,A,V,ne,ge){this._applicationRef=c,this._injector=b,this._document=A,this._scrollBar=V,this._rendererFactory=ne,this._ngZone=ge,this._activeWindowCmptHasChanged=new De.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new p.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const fe=this._windowCmpts[this._windowCmpts.length-1];((f,y,c,b=!1)=>{this._ngZone.runOutsideAngular(()=>{const A=(0,Ie.R)(y,"focusin").pipe((0,at.R)(c),(0,Ee.U)(V=>V.target));(0,Ie.R)(y,"keydown").pipe((0,at.R)(c),(0,lt.h)(V=>V.which===Wr.Tab),Nn(A)).subscribe(([V,ne])=>{const[ge,fe]=zo(y);(ne===ge||ne===y)&&V.shiftKey&&(fe.focus(),V.preventDefault()),ne===fe&&!V.shiftKey&&(ge.focus(),V.preventDefault())}),b&&(0,Ie.R)(y,"click").pipe((0,at.R)(c),Nn(A),(0,Ee.U)(V=>V[1])).subscribe(V=>V.focus())})})(0,fe.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(fe.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,b,A,V){const ne=V.container instanceof HTMLElement?V.container:sn(V.container)?this._document.querySelector(V.container):this._document.body,ge=this._rendererFactory.createRenderer(null,null),fe=()=>{this._modalRefs.length||(ge.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())};if(!ne)throw new Error(`The specified modal container "${V.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Ue=new gp,Xe=this._getContentRef(c,V.injector||b,A,Ue,V);let Ht=!1!==V.backdrop?this._attachBackdrop(c,ne):void 0,At=this._attachWindowComponent(c,ne,Xe),Ft=new Iu(At,Xe,Ht,V.beforeDismiss);return this._registerModalRef(Ft),this._registerWindowCmpt(At),Ft.result.then(fe,fe),Ue.close=Cn=>{Ft.close(Cn)},Ue.dismiss=Cn=>{Ft.dismiss(Cn)},this._applyWindowOptions(At.instance,V),1===this._modalRefs.length&&ge.addClass(this._document.body,"modal-open"),Ht&&Ht.instance&&(this._applyBackdropOptions(Ht.instance,V),Ht.changeDetectorRef.detectChanges()),At.changeDetectorRef.detectChanges(),Ft}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(b=>b.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c,b){let V=c.resolveComponentFactory(ev).create(this._injector);return this._applicationRef.attachView(V.hostView),b.appendChild(V.location.nativeElement),V}_attachWindowComponent(c,b,A){let ne=c.resolveComponentFactory(mp).create(this._injector,A.nodes);return this._applicationRef.attachView(ne.hostView),b.appendChild(ne.location.nativeElement),ne}_applyWindowOptions(c,b){this._windowAttributes.forEach(A=>{sn(b[A])&&(c[A]=b[A])})}_applyBackdropOptions(c,b){this._backdropAttributes.forEach(A=>{sn(b[A])&&(c[A]=b[A])})}_getContentRef(c,b,A,V,ne){return A?A instanceof p.Rgc?this._createFromTemplateRef(A,V):function jn(f){return"string"==typeof f}(A)?this._createFromString(A):this._createFromComponent(c,b,A,V,ne):new Nl([])}_createFromTemplateRef(c,b){const V=c.createEmbeddedView({$implicit:b,close(ne){b.close(ne)},dismiss(ne){b.dismiss(ne)}});return this._applicationRef.attachView(V),new Nl([V.rootNodes],V)}_createFromString(c){const b=this._document.createTextNode(`${c}`);return new Nl([[b]])}_createFromComponent(c,b,A,V,ne){const ge=c.resolveComponentFactory(A),fe=p.zs3.create({providers:[{provide:gp,useValue:V}],parent:b}),Ue=ge.create(fe),Xe=Ue.location.nativeElement;return ne.scrollable&&Xe.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ue.hostView),new Nl([[Xe]],Ue.hostView,Ue)}_setAriaHidden(c){const b=c.parentElement;b&&c!==this._document.body&&(Array.from(b.children).forEach(A=>{A!==c&&"SCRIPT"!==A.nodeName&&(this._ariaHiddenValues.set(A,A.getAttribute("aria-hidden")),A.setAttribute("aria-hidden","true"))}),this._setAriaHidden(b))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,b)=>{c?b.setAttribute("aria-hidden",c):b.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const b=()=>{const A=this._modalRefs.indexOf(c);A>-1&&(this._modalRefs.splice(A,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(b,b)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const b=this._windowCmpts.indexOf(c);b>-1&&(this._windowCmpts.splice(b,1),this._activeWindowCmptHasChanged.next())})}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(p.z2F),p.LFG(p.zs3),p.LFG(Z.K0),p.LFG(_p),p.LFG(p.FYo),p.LFG(p.R0b))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),fc=(()=>{class f{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(pa))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),tv=(()=>{class f{constructor(c,b,A,V){this._moduleCFR=c,this._injector=b,this._modalStack=A,this._config=V}open(c,b={}){const A={...this._config,animation:this._config.animation,...b};return this._modalStack.open(this._moduleCFR,this._injector,c,A)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(p._Vd),p.LFG(p.zs3),p.LFG(GE),p.LFG(fc))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Cu=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({providers:[tv]}),f})(),Su=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),Th=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})();class Pl{constructor(y,c){this.open=y,this.close=c,c||(this.close=y)}isManual(){return"manual"===this.open||"manual"===this.close}}const hd={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Em=f=>f>0?Mn(f):y=>y;let pd=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),bp=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),Ep=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),_c=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),To=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})(),xl=(()=>{class f{constructor(c){this._ngbConfig=c,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}}return f.\u0275fac=function(c){return new(c||f)(p.LFG(pa))},f.\u0275prov=p.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Dp=0,Ta=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=p.Xpm({type:f,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(c,b){2&c&&(p.Ikx("id",b.id),p.Tol("tooltip"+(b.tooltipClass?" "+b.tooltipClass:"")),p.ekj("fade",b.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Ys,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(c,b){1&c&&(p.F$t(),p._UZ(0,"div",0),p.TgZ(1,"div",1),p.Hsn(2),p.qZA())},encapsulation:2,changeDetection:0}),f})(),Ah=(()=>{class f{constructor(c,b,A,V,ne,ge,fe,Ue,Xe){this._elementRef=c,this._renderer=b,this._ngZone=ge,this._document=fe,this._changeDetector=Ue,this.shown=new p.vpe,this.hidden=new p.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+Dp++,this._windowRef=null,this._positioning=lm(),this.animation=ne.animation,this.autoClose=ne.autoClose,this.placement=ne.placement,this.triggers=ne.triggers,this.container=ne.container,this.disableTooltip=ne.disableTooltip,this.tooltipClass=ne.tooltipClass,this.openDelay=ne.openDelay,this.closeDelay=ne.closeDelay,this._popupService=new Xy(Ta,A,V,b,this._ngZone,Xe),this._zoneSubscription=ge.onStable.subscribe(()=>{this._positioning.update()})}set ngbTooltip(c){this._ngbTooltip=c,!c&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(c){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:b,transition$:A}=this._popupService.open(this._ngbTooltip,c,this.animation);this._windowRef=b,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe((0,ft.q)(1)).subscribe(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"})}),rm(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),A.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Hr(f,y,c,b,A,V,ne=0,ge=0){const fe=function Ol(f,y=hd){const c=(f||"").trim();if(0===c.length)return[];const b=c.split(/\s+/).map(V=>V.split(":")).map(V=>{let ne=y[V[0]]||V;return new Pl(ne[0],ne[1])}),A=b.filter(V=>V.isManual());if(A.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===A.length&&b.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return b}(c);if(1===fe.length&&fe[0].isManual())return()=>{};const Ue=function sv(f,y,c,b){return new H.y(A=>{const V=[],ne=()=>A.next(!0),ge=()=>A.next(!1),fe=()=>A.next(!b());return c.forEach(Ue=>{Ue.open===Ue.close?V.push(f.listen(y,Ue.open,fe)):V.push(f.listen(y,Ue.open,ne),f.listen(y,Ue.close,ge))}),()=>{V.forEach(Ue=>Ue())}})}(f,y,fe,b).pipe(function zE(f,y,c){return b=>{let A=null;const V=b.pipe((0,Ee.U)(fe=>({open:fe})),(0,lt.h)(fe=>{const Ue=c();return Ue===fe.open||A&&A.open!==Ue?(A&&A.open!==fe.open&&(A=null),!1):(A=fe,!0)}),(0,sr.B)()),ne=V.pipe((0,lt.h)(fe=>fe.open),Em(f)),ge=V.pipe((0,lt.h)(fe=>!fe.open),Em(y));return(0,_e.T)(ne,ge).pipe((0,lt.h)(fe=>fe===A&&(A=null,fe.open!==c())),(0,Ee.U)(fe=>fe.open))}}(ne,ge,b)).subscribe(Xe=>Xe?A():V());return()=>Ue.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:c}){c&&this.isOpen()&&(this._windowRef.instance.tooltipClass=c.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return f.\u0275fac=function(c){return new(c||f)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.zs3),p.Y36(p.s_b),p.Y36(xl),p.Y36(p.R0b),p.Y36(Z.K0),p.Y36(p.sBO),p.Y36(p.z2F))},f.\u0275dir=p.lG2({type:f,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[p.TTD]}),f})(),cv=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({}),f})();new p.OlP("live announcer delay",{providedIn:"root",factory:function KE(){return 100}});let Rh=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[[Z.ez]]}),f})();const gv=[lc,$a,rr,vu,Ss,pp,_m,Cu,Su,Th,pd,bp,Ep,_c,To,cv,Rh];let Nh=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=p.oAB({type:f}),f.\u0275inj=p.cJS({imports:[gv,lc,$a,rr,vu,Ss,pp,_m,Cu,Su,Th,pd,bp,Ep,_c,To,cv,Rh]}),f})()}},kt=>{kt(kt.s=7948)}]);